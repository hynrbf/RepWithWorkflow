/*
 *             Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0xc8fc=['listenTo','_alignBeforeItem','view','class','locale','_alignForBottomChange','updateHeight','get','context','length','destroy','Sidebar','content','_annotationToSidebarItemView','delete','set','_sidebarItemViewToAnnotation','pluginName','bind','nodeType','_recalculate','_getMaxAvailableTop','rearrange','isAnimationDisabled','_alignForTopChange','_getItemBefore','_recalculateBuffer','_activeAnnotation','change:top','refresh','targetRect','sidebar.container','config','bottom','change:bottom','add','_lastItem','remove','_alignAfterItem','target','_spaceBetweenItems','list','render','_alignToTargetRect','_updateLastItem','_getTargetTop','_annotations','define','max','stopListening','_destroySidebarItemView','push','sidebar-setcontainer-invalid-element','getSidebarItemView','minHeight','element','setContainer','sidebar-attachtocontainer-missing-container','_createSidebarView','last','appendChild','_attachToContainer','_targetTop','_getItemAfter','_setItemTop','init','container','change:targetRect','sidebar.preventScrollOutOfView','top'];(function(_0x1cfca1,_0xc8fc8b){const _0x5855f1=function(_0x3c2d76){while(--_0x3c2d76){_0x1cfca1['push'](_0x1cfca1['shift']());}};_0x5855f1(++_0xc8fc8b);}(_0xc8fc,0xdd));const _0x5855=function(_0x1cfca1,_0xc8fc8b){_0x1cfca1=_0x1cfca1-0x0;let _0x5855f1=_0xc8fc[_0x1cfca1];return _0x5855f1;};import{ContextPlugin as _0x545a91}from'ckeditor5/src/core';import{Rect as _0x55276f,CKEditorError as _0x35b55a}from'ckeditor5/src/utils';import _0x5c9c97 from'./view/sidebarview';import _0x3a0225 from'./view/sidebaritemview';export default class z extends _0x545a91{static get[_0x5855('0x6')](){return _0x5855('0x0');}constructor(_0x4abea0){super(_0x4abea0),this[_0x5855('0x4')]('_lastItem',void 0x0),this[_0x5855('0x3d')]=this[_0x5855('0x2f')](),this[_0x5855('0x4')]('container',null),this[_0x5855('0x1d')]=0x19,this[_0x5855('0x5')]=new Map(),this[_0x5855('0x2')]=new Map(),this['context'][_0x5855('0x15')][_0x5855('0x24')](_0x5855('0x39'),!0x1),this[_0x5855('0x23')]=null,this[_0x5855('0x10')]=null,this[_0x5855('0xf')]=[];}[_0x5855('0x36')](){const _0x2df2d9=this[_0x5855('0x43')]['config'][_0x5855('0x42')](_0x5855('0x14'));_0x2df2d9&&this[_0x5855('0x2d')](_0x2df2d9);}[_0x5855('0x2d')](_0x26f670){if(!y(_0x26f670))throw new _0x35b55a(_0x5855('0x29'));this[_0x5855('0x37')]=_0x26f670;}[_0x5855('0x32')]({viewClass:_0x19e34b='',spaceBetweenItems:_0x15865f=0x19}={}){if(!y(this['container']))throw new _0x35b55a(_0x5855('0x2e'),this);this[_0x5855('0x37')][_0x5855('0x31')](this[_0x5855('0x3d')][_0x5855('0x2c')]),this[_0x5855('0x3d')][_0x5855('0x3e')]=_0x19e34b,this[_0x5855('0x1d')]=_0x15865f;}[_0x5855('0xb')]({removedAnnotation:_0x531f68,previousAnnotation:_0x34d7f8,nextAnnotation:_0x1a7560}){const _0x547289=this[_0x5855('0x2a')](_0x531f68);this[_0x5855('0x3d')][_0x5855('0x1e')][_0x5855('0x1a')](_0x547289),this[_0x5855('0x27')](_0x531f68),_0x34d7f8&&this[_0x5855('0x20')](this[_0x5855('0x2a')](_0x34d7f8)),_0x1a7560&&this[_0x5855('0x20')](this[_0x5855('0x2a')](_0x1a7560)),this[_0x5855('0x21')]();}[_0x5855('0x12')]({blurredAnnotation:_0x10f2c2,activatedAnnotation:_0x27c6ee,disableAnimationOnActivatedAnnotation:_0x5e1d0e}){if(this[_0x5855('0x10')]=_0x27c6ee,_0x10f2c2){_0x10f2c2['isActive']=!0x1;const _0x48056a=this[_0x5855('0x2a')](_0x10f2c2);_0x48056a&&_0x5e1d0e&&(_0x48056a[_0x5855('0xc')]=!0x1);}if(_0x27c6ee){const _0x597fd9=this['getSidebarItemView'](_0x27c6ee);_0x597fd9&&(_0x27c6ee['isActive']=!0x0,_0x5e1d0e&&(_0x597fd9[_0x5855('0xc')]=!0x0,_0x597fd9[_0x5855('0x3a')]+=0x1),this[_0x5855('0x20')](_0x597fd9));}}['_detachFromContainer'](_0x4e5c30){if(this[_0x5855('0x3d')][_0x5855('0x2c')][_0x5855('0x1a')](),_0x4e5c30)for(const _0x3ebc16 of _0x4e5c30)this[_0x5855('0x27')](_0x3ebc16);this[_0x5855('0x3d')][_0x5855('0x1e')]['clear'](),this[_0x5855('0x3d')]['class']='',this['_lastItem']=null;}['addAnnotation'](_0x3be7f2,_0x1e51b6){_0x1e51b6||(_0x1e51b6=_0x3be7f2[_0x5855('0x3d')]);const _0x431815=new _0x3a0225(this[_0x5855('0x43')][_0x5855('0x3f')]);this[_0x5855('0x5')][_0x5855('0x4')](_0x431815,_0x3be7f2),this[_0x5855('0x2')][_0x5855('0x4')](_0x3be7f2,_0x431815),_0x431815[_0x5855('0x1')][_0x5855('0x18')](_0x1e51b6),this['listenTo'](_0x3be7f2[_0x5855('0x3d')],_0x5855('0x38'),(_0x56112a,_0x153d7b,_0x54a848)=>{const _0x28514b=this[_0x5855('0x22')](_0x3be7f2,_0x54a848);_0x431815[_0x5855('0x33')]!=_0x28514b&&(_0x431815[_0x5855('0x33')]=_0x28514b,this[_0x5855('0x35')](_0x431815,_0x28514b));}),this[_0x5855('0x3b')](_0x431815,_0x5855('0x11'),()=>{this[_0x5855('0x9')](_0x431815,_0x5855('0x3a'));}),this[_0x5855('0x3b')](_0x431815,_0x5855('0x17'),()=>{this[_0x5855('0x9')](_0x431815,'bottom');}),this[_0x5855('0x20')](_0x431815);const _0x43ab26=this[_0x5855('0xe')](_0x431815);if(_0x43ab26)this[_0x5855('0x1b')](_0x43ab26,_0x431815)||this[_0x5855('0x20')](_0x431815);else this[_0x5855('0x20')](_0x431815);return this[_0x5855('0x21')](),this[_0x5855('0x3d')][_0x5855('0x1e')][_0x5855('0x18')](_0x431815),_0x431815;}[_0x5855('0xd')](_0x1e9e7d){if(!_0x1e9e7d[_0x5855('0x1')]['length'])return;const _0x4f4e46=this[_0x5855('0xe')](_0x1e9e7d);if(!_0x4f4e46)return;const _0x5dcfb5=this[_0x5855('0x5')][_0x5855('0x42')](_0x4f4e46),_0x75f3ab=this[_0x5855('0x10')];_0x75f3ab&&_0x75f3ab===_0x5dcfb5?this[_0x5855('0x1b')](_0x4f4e46,_0x1e9e7d):this[_0x5855('0x3c')](_0x1e9e7d,_0x4f4e46);}[_0x5855('0x40')](_0x277c43){if(!_0x277c43[_0x5855('0x1')][_0x5855('0x44')])return;const _0x47df08=this[_0x5855('0x34')](_0x277c43);if(!_0x47df08)return;const _0x5dc44f=this[_0x5855('0x5')][_0x5855('0x42')](_0x47df08),_0x10b6ec=this[_0x5855('0x43')][_0x5855('0x15')]['get'](_0x5855('0x39')),_0x12ea9b=this[_0x5855('0x10')];_0x12ea9b&&_0x12ea9b===_0x5dc44f&&_0x10b6ec?(this['_alignBeforeItem'](_0x47df08,_0x277c43),this['_alignAfterItem'](_0x277c43,_0x47df08)):_0x12ea9b&&_0x12ea9b===_0x5dc44f?this[_0x5855('0x3c')](_0x47df08,_0x277c43):this['_alignAfterItem'](_0x277c43,_0x47df08);}[_0x5855('0x9')](_0x4ea377,_0x2f577e){0x0===this[_0x5855('0xf')][_0x5855('0x44')]&&setTimeout(()=>{for(const {sidebarItemView:_0x32b907,changedProp:_0x2572d0}of this[_0x5855('0xf')])_0x5855('0x3a')===_0x2572d0?this[_0x5855('0xd')](_0x32b907):this[_0x5855('0x40')](_0x32b907);this['_recalculateBuffer']=[];},0xa),this[_0x5855('0xf')][_0x5855('0x28')]({'sidebarItemView':_0x4ea377,'changedProp':_0x2f577e});}[_0x5855('0x2a')](_0x4e3825){return this[_0x5855('0x2')][_0x5855('0x42')](_0x4e3825);}[_0x5855('0x45')](){this[_0x5855('0x26')](),this['view'][_0x5855('0x45')]();}[_0x5855('0x27')](_0x494dcd){const _0x1d904c=this[_0x5855('0x2a')](_0x494dcd);this[_0x5855('0x26')](_0x1d904c),this['stopListening'](_0x494dcd[_0x5855('0x3d')]),_0x1d904c[_0x5855('0x45')](),this[_0x5855('0x2')][_0x5855('0x3')](_0x494dcd),this[_0x5855('0x5')][_0x5855('0x3')](_0x1d904c);}[_0x5855('0x2f')](){const _0x3641bb=new _0x5c9c97(this[_0x5855('0x43')][_0x5855('0x3f')]);return _0x3641bb[_0x5855('0x1f')](),this['on']('change:_lastItem',(_0x5d5fb7,_0x187432,_0x43430f,_0x1ea4ec)=>{_0x1ea4ec&&_0x3641bb['unbind']('minHeight'),_0x43430f?_0x3641bb[_0x5855('0x7')](_0x5855('0x2b'))['to'](_0x43430f,_0x5855('0x16')):_0x3641bb[_0x5855('0x2b')]=null;}),_0x3641bb;}['_updateLastItem'](){var _0x46c0cf;this[_0x5855('0x19')]=(null===(_0x46c0cf=this['_annotations'])||void 0x0===_0x46c0cf?void 0x0:_0x46c0cf[_0x5855('0x30')])?this['getSidebarItemView'](this[_0x5855('0x23')]['last']):null;}['_getItemBefore'](_0x693c0d){var _0x15850d;const _0x68c1c2=this[_0x5855('0x5')]['get'](_0x693c0d),_0x15eca6=_0x68c1c2&&(null===(_0x15850d=this[_0x5855('0x23')])||void 0x0===_0x15850d?void 0x0:_0x15850d[_0x5855('0x42')](this[_0x5855('0x23')]['getIndex'](_0x68c1c2)-0x1));return _0x15eca6&&this[_0x5855('0x2a')](_0x15eca6)||null;}['_getItemAfter'](_0x1ff5f3){var _0x24badc;const _0x3fa9d8=this['_sidebarItemViewToAnnotation'][_0x5855('0x42')](_0x1ff5f3),_0x253fbc=_0x3fa9d8&&(null===(_0x24badc=this[_0x5855('0x23')])||void 0x0===_0x24badc?void 0x0:_0x24badc[_0x5855('0x42')](this[_0x5855('0x23')]['getIndex'](_0x3fa9d8)+0x1));return _0x253fbc&&this[_0x5855('0x2a')](_0x253fbc)||null;}[_0x5855('0x3c')](_0x2fc442,_0x51ece5){_0x2fc442[_0x5855('0x41')]();const _0x58c22c=H(_0x51ece5[_0x5855('0x16')]+this[_0x5855('0x1d')],_0x2fc442[_0x5855('0x3a')]);return!!_0x58c22c&&(this['_setItemTop'](_0x51ece5,_0x51ece5['top']-_0x58c22c),!0x0);}[_0x5855('0x1b')](_0x59ad37,_0x2a68c7){_0x59ad37['updateHeight']();const _0x38c5ac=H(_0x59ad37[_0x5855('0x16')]+this[_0x5855('0x1d')],_0x2a68c7[_0x5855('0x3a')]);return!!_0x38c5ac&&(this[_0x5855('0x35')](_0x2a68c7,_0x2a68c7[_0x5855('0x3a')]+_0x38c5ac,!0x1),!0x0);}[_0x5855('0x20')](_0xf5963f){const _0x121069=this[_0x5855('0x5')][_0x5855('0x42')](_0xf5963f);if(!_0x121069||!_0x121069[_0x5855('0x1c')]||!_0x121069['targetRect'])return;const _0x378db5=this[_0x5855('0x22')](_0x121069,_0x121069[_0x5855('0x13')]);this['_setItemTop'](_0xf5963f,_0x378db5);}['_getTargetTop'](_0x2692bc,_0x534102){if(null===_0x534102)return 0x0;if(_0x2692bc[_0x5855('0x1c')]instanceof _0x55276f)return _0x534102[_0x5855('0x3a')];{const _0x4d095c=new _0x55276f(this[_0x5855('0x3d')][_0x5855('0x2c')])['top'];return _0x534102['top']-_0x4d095c;}}[_0x5855('0x35')](_0x32f724,_0x5f5180,_0x55c552=this['context'][_0x5855('0x15')]['get'](_0x5855('0x39'))){_0x55c552&&(_0x5f5180=Math[_0x5855('0x25')](_0x5f5180,this[_0x5855('0xa')](_0x32f724))),_0x32f724[_0x5855('0x3a')]=_0x5f5180;}[_0x5855('0xa')](_0x34d4f6){let _0x9205b=this[_0x5855('0xe')](_0x34d4f6),_0x40a55e=0x0;for(;_0x9205b;)_0x9205b[_0x5855('0x41')](),_0x40a55e+=this[_0x5855('0x1d')]+_0x9205b['height'],_0x9205b=this[_0x5855('0xe')](_0x9205b);return _0x40a55e;}}function H(_0x14d1ad,_0x3e13e1){return Math['max'](_0x14d1ad-_0x3e13e1,0x0);}function y(_0x328c9a){return null!==_0x328c9a&&'object'==typeof _0x328c9a&&0x1===_0x328c9a[_0x5855('0x8')];}