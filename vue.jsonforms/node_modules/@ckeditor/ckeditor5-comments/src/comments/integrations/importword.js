/*
 *             Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x2f3b=['high','config','get','map','editor','plugins','commands','collaboration.channelId','importWord.commentsStyles','_handleImportedData','importWord','forEach','dataInsert','addCommentThread','afterInit','execute','listenTo'];(function(_0x33f18e,_0x2f3bee){const _0x48ccf2=function(_0x11d623){while(--_0x11d623){_0x33f18e['push'](_0x33f18e['shift']());}};_0x48ccf2(++_0x2f3bee);}(_0x2f3b,0x13e));const _0x48cc=function(_0x33f18e,_0x2f3bee){_0x33f18e=_0x33f18e-0x0;let _0x48ccf2=_0x2f3b[_0x33f18e];return _0x48ccf2;};import{Plugin as _0x20e03f}from'ckeditor5/src/core';import{priorities as _0x530e55}from'ckeditor5/src/utils';import{Users as _0x22da6d}from'ckeditor5-collaboration/src/collaboration-core';import _0x553806 from'../commentsrepository';export default class Y extends _0x20e03f{constructor(_0x56b55e){super(_0x56b55e),this[_0x48cc('0x9')]['config']['define']('importWord.commentsStyles','basic');}[_0x48cc('0x2')](){const _0x53059b=this[_0x48cc('0x9')],_0x377794=_0x53059b[_0x48cc('0xb')][_0x48cc('0x7')](_0x48cc('0xf')),_0x20e0e9=_0x53059b[_0x48cc('0xa')][_0x48cc('0x7')](_0x22da6d);_0x377794&&(_0x377794['on'](_0x48cc('0x3'),(_0x18e00f,[,_0x25c4a9])=>{_0x25c4a9['collaboration_features']={'comments':!0x0,'user_id':_0x20e0e9['me']['id'],'comments_styles':this['editor'][_0x48cc('0x6')]['get'](_0x48cc('0xd'))};},{'priority':_0x530e55[_0x48cc('0x5')]+0xa}),this[_0x48cc('0x4')](_0x377794,_0x48cc('0x0'),this[_0x48cc('0xe')]));}[_0x48cc('0xe')](_0x34c5c0,_0xc50ea7){const {comment_threads:_0x47ba88}=_0xc50ea7;_0x47ba88&&_0x47ba88[_0x48cc('0x10')](({thread_id:_0x5836b7,comments:_0x28686a,is_resolved:_0x126c53})=>{const _0x3bbc88=new Date(),_0x34c0af=_0x28686a[_0x48cc('0x8')](({author:_0x305901,content:_0x4be779,created_at:_0x2f7782})=>({'content':_0x4be779,'authorId':this['editor'][_0x48cc('0xa')][_0x48cc('0x7')](_0x22da6d)['me']['id'],'createdAt':_0x3bbc88,'attributes':{'@external':{'authorName':_0x305901,'createdAt':_0x2f7782?new Date(_0x2f7782):new Date(),'source':'importWord'}}})),_0x4ed32c=this[_0x48cc('0x9')][_0x48cc('0x6')]['get'](_0x48cc('0xc'));this[_0x48cc('0x9')][_0x48cc('0xa')][_0x48cc('0x7')](_0x553806)[_0x48cc('0x1')]({'channelId':_0x4ed32c,'threadId':_0x5836b7,'comments':_0x34c0af,'resolvedAt':_0x126c53?_0x3bbc88:null});});}}