/*
 *             Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x4ea3=['div','isConfirm','ck-annotation__actions--hidden','setTemplate','Edit','ck-comment__external','edit','Reply...','ck-annotation__info-name','element','ck-comment--edit','formatDateTime','attributes','bind','_model','isSystemComment','change:isEnabled','some','authoredAt','createCollection','dropdown','creator','visibleView','ck-annotation','EXTERNAL_AVATAR','remove','icon','_config','Remove','_createEditButton','name','children','add','ck-comment__main','blur','author','locale','switchToEditMode','cancelConfirm','render','label','importWord','ck-comment--info','removeComment','mouseenter','set','editButton','execute','placeholder','ck-annotation__info-time','ck-comment','ck-comment__actions','_attachActions','extendTemplate','items','resolvedAt','ck-annotation__actions','ck-comment__info-name','buttonView','actionBar','panelPosition','ck-comment__info-time','getUserViewNotificationText','length','EXTERNAL_IMPORT_WORD_COMMENT','withText','time','isVisible','ck-annotation__main','removeButton','push','ck-comment--remove','source','userView','ck-comment__wrapper','ck-annotation__info','getExternalCommentNote','change:isVisible','@external','addMany','change:isRemovable','actionIndicator','isExternal','threeVerticalDots','getTemplate','_createRemoveButton','listenTo','EXTERNAL_COMMENT','isEnabled','isReadOnly','panelView','isEditMode','ck-annotation__content-wrapper'];(function(_0x44a862,_0x4ea341){const _0x15ad23=function(_0x1b22e3){while(--_0x1b22e3){_0x44a862['push'](_0x44a862['shift']());}};_0x15ad23(++_0x4ea341);}(_0x4ea3,0x184));const _0x15ad=function(_0x44a862,_0x4ea341){_0x44a862=_0x44a862-0x0;let _0x15ad23=_0x4ea3[_0x44a862];return _0x15ad23;};import{ButtonView as _0x1fe661,createDropdown as _0x3fa574,ListView as _0x5bde5b,ListItemView as _0x2bfa7d}from'ckeditor5/src/ui';import{icons as _0x26690e}from'ckeditor5/src/core';import{UserView as _0x567d64,ConfirmMixin as _0x58ef37}from'ckeditor5-collaboration/src/collaboration-core';import _0x15b155 from'./basecommentview';import _0x176189 from'../../../../theme/icons/remove-comment.svg';import{getTranslation as _0x4a6ef5}from'../../../utils/common-translations';export default class ut extends _0x58ef37(_0x15b155){constructor(_0x1df67a,_0x3436e6,_0x4126ad){super(_0x1df67a,_0x3436e6,_0x4126ad),this[_0x15ad('0x1d')](_0x15ad('0x41'),null),this['set'](_0x15ad('0x20'),_0x4a6ef5(_0x1df67a,_0x15ad('0x54'))),this[_0x15ad('0x5a')](_0x15ad('0x2'))['to'](_0x3436e6),this[_0x15ad('0x5a')](_0x15ad('0x27'))['to'](_0x3436e6),this[_0x15ad('0x2b')]=this['createCollection'](),this[_0x15ad('0x5c')]||(this['editButton']=this[_0x15ad('0xd')](),this['removeButton']=this['_createRemoveButton'](),this[_0x15ad('0x26')]=this[_0x15ad('0x3')](),this[_0x15ad('0x26')][_0x15ad('0x3f')]([this[_0x15ad('0x1e')],this[_0x15ad('0x35')]]),this[_0x15ad('0x4')]=this['_createDropdown'](),this[_0x15ad('0x2b')][_0x15ad('0x10')](this['dropdown'])),this[_0x15ad('0x39')]=new _0x567d64(_0x1df67a,_0x3436e6[_0x15ad('0x13')],this[_0x15ad('0x2e')]()),this[_0x15ad('0x39')][_0x15ad('0x25')]({'attributes':{'class':['ck-comment__user','ck-annotation__user']}}),this[_0x15ad('0x46')](_0x3436e6,_0x15ad('0x40'),()=>this[_0x15ad('0x16')]()),this[_0x15ad('0x50')](this[_0x15ad('0x44')]());}[_0x15ad('0x44')](){const _0x5bf2da=this['bindTemplate'],_0x5bbff8=[{'tag':_0x15ad('0x4d'),'attributes':{'class':['ck-comment__info',_0x15ad('0x3b')]},'children':[{'tag':'span','children':[{'text':this[_0x15ad('0x39')]['name']}],'attributes':{'class':[_0x15ad('0x29'),_0x15ad('0x55')]}},{'tag':_0x15ad('0x32'),'attributes':{'datetime':_0x5bf2da['to'](_0x15ad('0x2')),'class':[_0x15ad('0x2d'),_0x15ad('0x21')]},'children':[{'text':_0x5bf2da['to']('authoredAt',_0x5acb23=>this[_0x15ad('0xb')][_0x15ad('0x58')](_0x5acb23))}]}]},{'tag':_0x15ad('0x4d'),'attributes':{'class':[_0x15ad('0x23'),_0x15ad('0x28'),_0x5bf2da['if'](_0x15ad('0x4b'),'ck-comment__actions--hidden'),_0x5bf2da['if'](_0x15ad('0x4b'),_0x15ad('0x4f'))]},'children':this['actionBar']},{'tag':'div','attributes':{'class':[_0x15ad('0x4c')]},'children':this[_0x15ad('0x6')]}];return this[_0x15ad('0x5b')][_0x15ad('0x42')]&&_0x5bbff8[_0x15ad('0x36')]({'tag':_0x15ad('0x4d'),'attributes':{'class':[_0x15ad('0x52')]},'children':[{'text':this['getExternalCommentNote']()}]}),{'tag':'li','attributes':{'class':[_0x15ad('0x3a'),_0x5bf2da['if'](_0x15ad('0x4e'),'ck-comment--remove-confirmation')],'tabindex':-0x1},'children':[{'tag':_0x15ad('0x4d'),'attributes':{'class':[_0x15ad('0x22'),_0x15ad('0x7'),_0x5bf2da['if'](_0x15ad('0x4b'),'ck-comment--edit'),_0x5bf2da['if']('isSystemComment',_0x15ad('0x1a')),_0x5bf2da['to'](_0x15ad('0x41'),_0x207d2d=>_0x207d2d?'ck-comment--'+_0x207d2d:'')],'data-author-id':this[_0x15ad('0x5b')][_0x15ad('0x13')]['id'],'data-comment-id':this[_0x15ad('0x5b')]['id']},'children':[this[_0x15ad('0x39')],{'tag':_0x15ad('0x4d'),'attributes':{'class':[_0x15ad('0x11'),_0x15ad('0x34')]},'children':_0x5bbff8}]}]};}[_0x15ad('0xd')](){const _0x3cd051=new _0x1fe661(this[_0x15ad('0x14')]);return _0x3cd051['label']=_0x4a6ef5(this[_0x15ad('0x14')],_0x15ad('0x51')),_0x3cd051[_0x15ad('0xa')]=_0x26690e['pencil'],_0x3cd051['withText']=!0x0,_0x3cd051[_0x15ad('0x25')]({'attributes':{'class':_0x15ad('0x57')}}),_0x3cd051[_0x15ad('0x5a')]('isEnabled')['to'](this['_model'],_0x15ad('0x49'),_0x45c376=>!_0x45c376),_0x3cd051[_0x15ad('0x5a')](_0x15ad('0x33'))['to'](this[_0x15ad('0x5b')],'isEditable'),_0x3cd051['on'](_0x15ad('0x1f'),()=>this[_0x15ad('0x15')]()),_0x3cd051;}[_0x15ad('0x45')](){const _0x202772=new _0x1fe661(this['locale']);return _0x202772[_0x15ad('0x18')]=_0x4a6ef5(this[_0x15ad('0x14')],_0x15ad('0xc')),_0x202772[_0x15ad('0xa')]=_0x176189,_0x202772[_0x15ad('0x31')]=!0x0,_0x202772[_0x15ad('0x25')]({'attributes':{'class':_0x15ad('0x37')}}),_0x202772['bind']('isEnabled')['to'](this[_0x15ad('0x5b')],'isReadOnly',_0x68e0d9=>!_0x68e0d9),_0x202772[_0x15ad('0x5a')](_0x15ad('0x33'))['to'](this[_0x15ad('0x5b')],'isRemovable'),_0x202772['on'](_0x15ad('0x1f'),()=>{this['showConfirm'](_0x4a6ef5(this[_0x15ad('0x14')],'Delete\x20comment?'),this[_0x15ad('0x56')])['then'](()=>{this['fire'](_0x15ad('0x1b'),this[_0x15ad('0x5b')]['id']);});}),_0x202772;}['_createDropdown'](){const _0x5e8461=_0x3fa574(this[_0x15ad('0x14')]),_0x28b0ab=_0x5e8461[_0x15ad('0x4a')][_0x15ad('0xf')],_0xee366e=new _0x5bde5b(this['locale']),_0x2eb37c=(_0x15729d,_0x52de11=-0x1)=>{const _0x25d32d=new _0x2bfa7d(this['locale']);_0x25d32d[_0x15ad('0xf')][_0x15ad('0x10')](_0x15729d);const _0x4fb6a9=_0x52de11>-0x1?_0x52de11:_0xee366e[_0x15ad('0x26')][_0x15ad('0x2f')];_0xee366e[_0x15ad('0x26')][_0x15ad('0x10')](_0x25d32d,_0x4fb6a9),_0x5e8461[_0x15ad('0x46')](_0x15729d,_0x15ad('0x0'),()=>{_0x5e8461[_0x15ad('0x48')]=[...this['items']][_0x15ad('0x1')](_0x30bf1a=>_0x30bf1a[_0x15ad('0x48')]);}),_0x5e8461[_0x15ad('0x46')](_0x15729d,_0x15ad('0x3d'),()=>{_0x5e8461['buttonView'][_0x15ad('0x33')]=[...this[_0x15ad('0x26')]][_0x15ad('0x1')](_0x2046b0=>_0x2046b0[_0x15ad('0x33')]);});};_0x5e8461[_0x15ad('0x2c')]='sw',_0x5e8461[_0x15ad('0x2a')]['set']({'label':_0x4a6ef5(this[_0x15ad('0x14')],'Show\x20more\x20items'),'icon':_0x26690e[_0x15ad('0x43')]}),_0x5e8461[_0x15ad('0x48')]=[...this[_0x15ad('0x26')]]['some'](_0x6f7172=>_0x6f7172['isEnabled']),_0x5e8461[_0x15ad('0x2a')][_0x15ad('0x33')]=[...this[_0x15ad('0x26')]][_0x15ad('0x1')](_0xf59733=>_0xf59733[_0x15ad('0x33')]);for(const _0x3ade5c of this['items'])_0x2eb37c(_0x3ade5c);return _0x28b0ab[_0x15ad('0x10')](_0xee366e),_0x5e8461[_0x15ad('0x46')](this[_0x15ad('0x26')],_0x15ad('0x10'),(_0x14cede,_0x1b2906,_0xe03262)=>{_0x2eb37c(_0x1b2906,_0xe03262);}),_0x5e8461[_0x15ad('0x46')](this[_0x15ad('0x26')],_0x15ad('0x9'),(_0x341c95,_0x53f78b,_0x51cacc)=>{_0xee366e[_0x15ad('0x26')][_0x15ad('0x9')](_0x51cacc);}),_0x5e8461;}[_0x15ad('0x24')](_0x11a505,_0x4621f4){const _0x23a05e=_0x11a505&&_0x11a505[_0x15ad('0x56')];_0x23a05e&&(this['listenTo'](_0x23a05e,_0x15ad('0x1c'),()=>this[_0x15ad('0x41')]=_0x4621f4),this['listenTo'](_0x23a05e,'focus',()=>this[_0x15ad('0x41')]=_0x4621f4),this['listenTo'](_0x23a05e,'mouseleave',()=>this['actionIndicator']=null),this[_0x15ad('0x46')](_0x23a05e,_0x15ad('0x12'),()=>this[_0x15ad('0x41')]=null));}['_createCommentInputView'](){const _0x36f230=super['_createCommentInputView']();return _0x36f230[_0x15ad('0x5a')](_0x15ad('0x20'))['to'](this),_0x36f230;}[_0x15ad('0x3c')](){return _0x15ad('0x19')===this[_0x15ad('0x5b')][_0x15ad('0x59')][_0x15ad('0x3e')][_0x15ad('0x38')]?_0x4a6ef5(this[_0x15ad('0x14')],_0x15ad('0x30')):_0x4a6ef5(this[_0x15ad('0x14')],_0x15ad('0x47'));}[_0x15ad('0x2e')](){return this['_model'][_0x15ad('0x42')]?'importWord'===this[_0x15ad('0x5b')][_0x15ad('0x59')]['@external']['source']?_0x4a6ef5(this[_0x15ad('0x14')],'EXTERNAL_IMPORT_WORD_AVATAR',this[_0x15ad('0x5b')][_0x15ad('0x5')][_0x15ad('0xe')]):_0x4a6ef5(this[_0x15ad('0x14')],_0x15ad('0x8'),this[_0x15ad('0x5b')]['creator'][_0x15ad('0xe')]):null;}[_0x15ad('0x17')](){super[_0x15ad('0x17')](),this[_0x15ad('0x24')](this[_0x15ad('0x1e')],_0x15ad('0x53')),this[_0x15ad('0x24')](this['removeButton'],'remove');}}