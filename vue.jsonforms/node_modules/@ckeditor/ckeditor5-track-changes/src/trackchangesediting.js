/*
 *             Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x1333=['config','createSelection','previous','removeMarker','change:_saved','addMarker','update:suggestion','getMultiRangeId','Users','addCommentThread','reconvertMarker','isRemovable','getCustomProperty','registerPostFixer','root','commentThread','stop','_defaultCallbacks','differ','commandName','activeMarkers','length','options','ready','multi','setSelection','suggestion:','howMany','error-saving-suggestion-data-suggestion-discarded','_breakSuggestionMarker','item','_splitMarkerName','containsItem','getSuggestion','_joinSuggestions','markerName','containsRange','formatInline','getMarkers','before','requires','_setSuggestionRange','getRange','markInsertion','createdAt','_getSuggestionData','CommentsRepository','removeClass','removed','isAtEnd','updateMarker','pluginName','element','start','_rangeIsInLocalUserInsertion','buildSuggestion','_cutOutSuggestionMarker','fetchCommentThread','sort','end','getIntersection','track-changes-user-not-found','listenTo','discardAllSuggestions','getLastMatchingPosition','getAttribute','isBlock','change','getFirstMarker','suggestion','formatInline:chain','targetPosition','values','createRangeIn','createElement','_getExternalAuthor','marker-count','getDifference','getShiftedBy','split','mapper','dataReady','createPositionAt','getAncestors','_suggestions','author','_addSuggestionMarker','change:data','external:','tablePasteChainId','insertion:accept','createRange','isDocumentOperation','_addThreadToSuggestion','_joinWithAdjacentSuggestions','acceptSuggestion','trackChangesCommand','moveTargetPosition','detach','acceptAllSuggestions','suggestion-type','keys','addComment','newRange','getSuggestions','value','track-changes-suggestion-not-found','consume','insert','removeComment','getWalker','always','formatBlock:accept','schema','size','authoredAt','deletion:discard','getFirstRange','formatInline:accept','splice','_adapter','_registerDefaultCallbacks','ck-suggestion-marker','markerNameToElements','deletion:chain','catch','remove','trackChanges','rootName','_handleNewSuggestionMarker','_model','addMarkerName','for','getRanges','isObject','containsPosition','name','markBlockFormat','authorName','_enabledCommands','_createSuggestion','TrackChangesEditing','bindElementToMarker','lowest','isIntersectingWithRange','join','markMultiRangeBlockFormat','formatBlock:join','addMarker:suggestion','widget','define','markerToData','enableReadOnlyMode','add','addHighlight','isLocal','$graveyard','getItems','_isForcedDefaultExecutionBlock','_removeSuggestion','track-changes-adapter-already-set','rejected','deletion','updateSuggestion','@external','has','return','formatBlock:','removeMarkers','selection','isTouching','unbindElementFromMarkerName','insertion:','get','data-suggestion','unbind','markInlineFormat','setAttribute','document','insertContent','isSelectable','high','isLimit','createPositionBefore','range','_mergeNestedSuggestions','isEqual','init','getAllAdjacentSuggestions','insertion:join','highest','adapter','editing','formatInline:discard','push','discardSelectedSuggestions','multipleBlocks','dataToMarker','_isDataLoaded','discardSuggestion','conversion','execute','consumable','isAfter','model','_findSuggestions','_setSuggestionData','discard','from','PendingActions','suggestionUnloaded','move','writer','insertion:discard','ck-suggestion-marker--active','clear','applyOperation','group','fromRange','_suggestionState','isBefore','nodeBefore','suggestionLoaded','isMultiRange','toJSON','delete','commands','isArray','addUser','enableCommand','track-changes-adapter-missing-getsuggestion','markers','fromCharCode','skipNestingCheck','_refreshSuggestionsChain','upcast','formatGroupId','ck-suggestion-marker-formatBlock','trackChanges.trackFormatChanges','parent','isOwn','containerElement','nodeAfter','_updateSuggestionData','position','addRange','never','_getAuthorFromId','_editor','oldRange','_trackFormatChanges','_saved','_customCallbacks','addSuggestion','after','deletion:join','then','originalSuggestionId','set','insertion:chain','getNearestSelectionRange','editingDowncast','assign','ck-suggestion-marker-','some','markerReady','_checkSuggestionCorrectness','markMultiRangeDeletion','isInContent','forward','deletion:','insertion','suggestionChanged','showSuggestionHighlights','formatInline:','data','getSuggestionCallback','formatBlock:chain','getChangedMarkers','isExternal','trackChanges.mergeNestedSuggestions','locale','_suggestionFactory','next','isUndo','every','hasSuggestion','forceDefaultExecution','track-changes-suggestion-data-mismatch','hasCommentThread','$textProxy','containsRangeInObject','isNextTo','subType','_commentsRepository','enqueueChange','editor','head','addMarker:suggestion:formatBlock','dataDowncast','low','plugins','filter','batch','markDeletion','clone','toViewElement','creator','getUser','isCollapsed','accept','formatBlock','markMultiRangeInsertion','deleteContent','notReady','fire','backward','isInsideObject','getCommentThread','collaboration.channelId','attributes','change:activeMarkers','type','map','acceptSelectedSuggestions'];(function(_0x2f421e,_0x1333db){const _0x3a7f6e=function(_0xb39919){while(--_0xb39919){_0x2f421e['push'](_0x2f421e['shift']());}};_0x3a7f6e(++_0x1333db);}(_0x1333,0x12a));const _0x3a7f=function(_0x2f421e,_0x1333db){_0x2f421e=_0x2f421e-0x0;let _0x3a7f6e=_0x1333[_0x2f421e];return _0x3a7f6e;};import{Plugin as _0xfde1a2,PendingActions as _0x1aa3d4}from'ckeditor5/src/core';import{LiveRange as _0x55d7ae}from'ckeditor5/src/engine';import{CKEditorError as _0x4c734e,uid as _0x5147c7,priorities as _0x59479e,logWarning as _0x272082}from'ckeditor5/src/utils';import{toWidget as _0x1d8390}from'ckeditor5/src/widget';import{Users as _0x10aa56,hashObject as _0xf1b0e5}from'ckeditor5-collaboration/src/collaboration-core';import _0x4b4497 from'./commands/trackchangescommand';import _0x5b84cd from'./commands/acceptsuggestioncommand';import _0x51fa7a from'./commands/discardsuggestioncommand';import _0x1a0ece from'./commands/executeonallsuggestionscommand';import _0x2face2 from'./commands/executeonselectedsuggestionscommand';import _0x28c196 from'./suggestion';import _0x320eb6 from'./suggestiondescriptionfactory';import _0x42d9b4 from'./integrations/alignment';import _0x4d7172 from'./integrations/basicstyles';import _0x178dd2 from'./integrations/blockquote';import _0x46a047 from'./integrations/ckbox';import _0x4df194 from'./integrations/codeblock';import _0x25fef0 from'./integrations/comments';import _0x848063 from'./integrations/deletecommand';import _0x355aaa from'./integrations/documentlist';import _0x5dce16 from'./integrations/entercommand';import _0x4a1f33 from'./integrations/findandreplace';import _0x3bc82c from'./integrations/font';import _0x7883f9 from'./integrations/formatpainter';import _0x53c9ec from'./integrations/heading';import _0x30d6ab from'./integrations/highlight';import _0x43a405 from'./integrations/horizontalline';import _0x55cc4b from'./integrations/htmlembed';import _0x131c21 from'./integrations/image';import _0x3aeed9 from'./integrations/imagereplace';import _0x2a24cf from'./integrations/importword';import _0x500703 from'./integrations/indent';import _0x721833 from'./integrations/inputcommand';import _0x5b5d65 from'./integrations/link';import _0x364142 from'./integrations/list';import _0x3a0a3f from'./integrations/listproperties';import _0x3cee98 from'./integrations/mediaembed';import _0x59614e from'./integrations/mention';import _0x59c80d from'./integrations/pagebreak';import _0x407e02 from'./integrations/paragraph';import _0x504087 from'./integrations/removeformat';import _0x41fdab from'./integrations/restrictededitingmode';import _0x2f963d from'./integrations/shiftentercommand';import _0x2018e7 from'./integrations/standardeditingmode';import _0xa91553 from'./integrations/style';import _0x1a63f8 from'./integrations/table';import _0x3321d2 from'./integrations/tablemergesplit';import _0x2293f6 from'./integrations/tableheadings';import _0x12a3ae from'./integrations/tableclipboard';import _0x630b90 from'./integrations/tablecolumnresize';import _0x4941dc from'./integrations/template';import _0x4e64be from'./integrations/tableofcontents';import _0x1fa256 from'./integrations/title';import _0x3d9781 from'./integrations/undo';import{getTranslation as _0xdce868}from'./utils/common-translations';import _0x599b2c from'./integrations/tablecaption';import _0x2192dc from'./integrations/documentlistproperties';import _0x59b524 from'./integrations/tableproperties';import{isEqual as _0x36a598}from'lodash-es';export default class p extends _0xfde1a2{static get[_0x3a7f('0x43')](){return[_0x3a7f('0x49'),_0x10aa56,_0x1aa3d4,_0x42d9b4,_0x4d7172,_0x178dd2,_0x46a047,_0x4df194,_0x25fef0,_0x848063,_0x355aaa,_0x2192dc,_0x5dce16,_0x4a1f33,_0x3bc82c,_0x7883f9,_0x53c9ec,_0x30d6ab,_0x43a405,_0x55cc4b,_0x131c21,_0x3aeed9,_0x2a24cf,_0x500703,_0x721833,_0x5b5d65,_0x364142,_0x3a0a3f,_0x3cee98,_0x59614e,_0x59c80d,_0x407e02,_0x504087,_0x41fdab,_0x2f963d,_0x2018e7,_0xa91553,_0x1a63f8,_0x3321d2,_0x2293f6,_0x599b2c,_0x12a3ae,_0x630b90,_0x4e64be,_0x59b524,_0x4941dc,_0x1fa256,_0x3d9781];}static get[_0x3a7f('0x4e')](){return _0x3a7f('0xa8');}constructor(_0xf596a2){function _0x55345d(_0x531c3b){return _0x531c3b[_0x3a7f('0x19')](_0x3be567=>String[_0x3a7f('0x103')](_0x3be567))[_0x3a7f('0xac')]('');}super(_0xf596a2),this[_0x3a7f('0x11d')](_0x3a7f('0x2f'),[]),this['on'](_0x3a7f('0x17'),(_0x56ff5e,_0xe651a8,_0x50d675,_0x147a77)=>{this[_0x3a7f('0x9d')][_0x3a7f('0x5e')](()=>{for(const _0x2241d7 of[..._0x147a77,..._0x50d675])this[_0x3a7f('0x9d')][_0x3a7f('0x102')][_0x3a7f('0xc0')](_0x2241d7)&&_0xf596a2[_0x3a7f('0xdb')][_0x3a7f('0x25')](_0x2241d7);});}),this['_descriptionFactory']=new _0x320eb6(this[_0x3a7f('0x143')][_0x3a7f('0xe7')][_0x3a7f('0x8c')],this[_0x3a7f('0x143')][_0x3a7f('0x134')]),this[_0x3a7f('0x93')]=null,this[_0x3a7f('0x135')]=new Dt(this[_0x3a7f('0x143')]),this[_0x3a7f('0x6f')]=new Map(),this[_0x3a7f('0x141')]=_0xf596a2['plugins']['get'](_0x3a7f('0x49')),this[_0x3a7f('0xa6')]=new Set(),this['_model']=this[_0x3a7f('0x143')][_0x3a7f('0xe7')],this[_0x3a7f('0xf6')]=new WeakMap(),this[_0x3a7f('0xb9')]=!0x1,_0xf596a2[_0x3a7f('0x1b')][_0x3a7f('0xb1')]('trackChanges.trackFormatChanges','default'),this['_trackFormatChanges']=_0xf596a2[_0x3a7f('0x1b')][_0x3a7f('0xc8')](_0x3a7f('0x109')),_0xf596a2[_0x3a7f('0x1b')][_0x3a7f('0xb1')](_0x3a7f('0x133'),!0x0),this['_mergeNestedSuggestions']=_0xf596a2[_0x3a7f('0x1b')]['get'](_0x3a7f('0x133')),this['trackChangesCommand']=new _0x4b4497(_0xf596a2,this[_0x3a7f('0xa6')]),this[_0x55345d([0x5f,0x65,0x78,0x65,0x63,0x75,0x74,0x65,0x53,0x75,0x67,0x67,0x65,0x73,0x74,0x69,0x6f,0x6e])]=_0x55345d([0x34,0x30,0x34,0x36,0x31,0x38,0x31,0x32]);}[_0x3a7f('0xd6')](){const _0xc13a8a=this['editor'];_0xc13a8a[_0x3a7f('0xe3')][_0x3a7f('0x9f')](_0x3a7f('0x120'))['markerToHighlight']({'model':_0x3a7f('0x60'),'view':_0x42d765=>{const {id:_0x55e234,type:_0x446560}=this[_0x3a7f('0x3a')](_0x42d765[_0x3a7f('0x3e')]),_0x1871fe=[_0x3a7f('0x95'),'ck-suggestion-marker-'+_0x446560];let _0x15459c=0xbb8;return this[_0x3a7f('0x2f')]['includes'](_0x42d765[_0x3a7f('0x3e')])&&(_0x1871fe[_0x3a7f('0xdd')](_0x3a7f('0xf1')),_0x15459c=0xbc2),_0x3a7f('0xbd')==_0x446560&&(_0x15459c+=0x5),{'classes':_0x1871fe,'attributes':{'data-suggestion':_0x55e234},'priority':_0x15459c};}}),_0xc13a8a[_0x3a7f('0xe3')][_0x3a7f('0x9f')]('dataDowncast')['add'](_0x513a0f=>{_0x513a0f['on'](_0x3a7f('0xaf'),(_0x3eeb9d,_0xbaffbc,_0x8632c5)=>{if(!_0x8632c5[_0x3a7f('0x31')][_0x3a7f('0x12c')])return;const _0x511fe9=_0xbaffbc[_0x3a7f('0x39')];if(!_0x511fe9)return;const _0x2e742f=_0x8632c5['mapper'][_0x3a7f('0x8')](_0x511fe9);_0xc13a8a[_0x3a7f('0xe7')]['schema'][_0x3a7f('0xa1')](_0x511fe9)&&_0x2e742f&&!_0x2e742f[_0x3a7f('0x27')](_0x3a7f('0xb0'))&&_0x2e742f['is'](_0x3a7f('0x10c'))&&_0x1d8390(_0x2e742f,_0x8632c5[_0x3a7f('0xef')]);},{'priority':_0x3a7f('0xd0')});}),_0xc13a8a[_0x3a7f('0xe3')][_0x3a7f('0x9f')](_0x3a7f('0x1'))['markerToHighlight']({'model':'suggestion','view':(_0x23e111,_0x2bb5e0)=>{if(!_0x2bb5e0['options'][_0x3a7f('0x12c')])return null;const {type:_0x2bbe68}=this[_0x3a7f('0x3a')](_0x23e111['markerName']);return{'classes':[_0x3a7f('0x95'),_0x3a7f('0x122')+_0x2bbe68],'priority':0xbb8};}});const _0x573c8b=({showActiveMarkers:_0x4c42e2=!0x0}={})=>(_0x4fb6ad,_0x5d4f1c,_0xcacfd4)=>{if(!_0x5d4f1c[_0x3a7f('0x39')])return;if(_0x5d4f1c[_0x3a7f('0x39')]['is'](_0x3a7f('0xc4')))return void _0xcacfd4[_0x3a7f('0xe5')][_0x3a7f('0x86')](_0x5d4f1c[_0x3a7f('0x39')],_0x4fb6ad[_0x3a7f('0xa3')]);const _0x41bc61=_0xcacfd4[_0x3a7f('0x6b')][_0x3a7f('0x8')](_0x5d4f1c['item']);if(!(_0x5d4f1c['item']['is']('element')&&_0xc13a8a[_0x3a7f('0xe7')][_0x3a7f('0x8c')][_0x3a7f('0x5d')](_0x5d4f1c[_0x3a7f('0x39')])&&!_0x41bc61[_0x3a7f('0x27')](_0x3a7f('0xb5'))))return;const {id:_0x49be0a}=this[_0x3a7f('0x3a')](_0x5d4f1c[_0x3a7f('0x3e')]);_0xcacfd4[_0x3a7f('0xef')]['addClass']([_0x3a7f('0x95'),_0x3a7f('0x108')],_0x41bc61),_0xcacfd4[_0x3a7f('0xef')][_0x3a7f('0xcc')](_0x3a7f('0xc9'),_0x49be0a,_0x41bc61),_0xcacfd4[_0x3a7f('0x6b')][_0x3a7f('0xa9')](_0x41bc61,_0x5d4f1c[_0x3a7f('0x3e')]),_0x4c42e2&&(this[_0x3a7f('0x2f')]['includes'](_0x5d4f1c['markerName'])?_0xcacfd4[_0x3a7f('0xef')]['addClass'](_0x3a7f('0xf1'),_0x41bc61):_0xcacfd4[_0x3a7f('0xef')]['removeClass'](_0x3a7f('0xf1'),_0x41bc61));for(const _0x166357 of _0xc13a8a['model'][_0x3a7f('0x64')](_0x5d4f1c[_0x3a7f('0x39')])[_0x3a7f('0xb8')]())_0xcacfd4[_0x3a7f('0xe5')][_0x3a7f('0x86')](_0x166357,_0x4fb6ad[_0x3a7f('0xa3')]);_0xcacfd4[_0x3a7f('0xe5')][_0x3a7f('0x86')](_0x5d4f1c['item'],_0x4fb6ad[_0x3a7f('0xa3')]);};_0xc13a8a[_0x3a7f('0xe3')][_0x3a7f('0x9f')]('dataDowncast')[_0x3a7f('0xb4')](_0x420085=>{_0x420085['on'](_0x3a7f('0x0'),(_0x3a21a3,_0x52fb3b,_0x345ac8)=>{_0x345ac8[_0x3a7f('0x31')]['showSuggestionHighlights']&&_0x573c8b({'showActiveMarkers':!0x1})(_0x3a21a3,_0x52fb3b,_0x345ac8);},{'priority':_0x3a7f('0xd9')});}),_0xc13a8a[_0x3a7f('0xe3')][_0x3a7f('0x9f')](_0x3a7f('0x1'))[_0x3a7f('0xb2')]({'model':_0x3a7f('0x60'),'view':(_0x3b710b,_0x317cd0)=>_0x317cd0[_0x3a7f('0x31')][_0x3a7f('0x12c')]?null:{'group':_0x3a7f('0x60'),'name':_0x3b710b['substr'](0xb)}}),_0xc13a8a[_0x3a7f('0xe3')][_0x3a7f('0x9f')](_0x3a7f('0x106'))['elementToElement']({'view':{'name':_0x3a7f('0x60'),'attributes':{'id':/^\w/,'suggestion-type':/^\w/}},'model':(_0x5ec603,{writer:_0x356355})=>{let _0x120228='suggestion:'+_0x5ec603['getAttribute'](_0x3a7f('0x7f'))+':'+_0x5ec603[_0x3a7f('0x5c')]('id');return _0x5ec603[_0x3a7f('0x5c')](_0x3a7f('0x67'))&&(_0x120228+=':'+_0x5ec603[_0x3a7f('0x5c')](_0x3a7f('0x67'))),_0x356355[_0x3a7f('0x65')]('$marker',{'data-name':_0x120228});}}),_0xc13a8a[_0x3a7f('0xe3')][_0x3a7f('0x9f')](_0x3a7f('0x106'))[_0x3a7f('0xe0')]({'view':_0x3a7f('0x60')}),_0xc13a8a[_0x3a7f('0xe3')]['for']('editingDowncast')['add'](_0x430458=>{_0x430458['on'](_0x3a7f('0x0'),_0x573c8b(),{'priority':'high'});}),_0xc13a8a[_0x3a7f('0xe3')][_0x3a7f('0x9f')]('editingDowncast')[_0x3a7f('0xb4')](_0x5b15b6=>{_0x5b15b6['on']('removeMarker:suggestion:formatBlock',(_0x266d5c,_0x240351,_0x4fa405)=>{const _0x305d6f=_0x4fa405[_0x3a7f('0x6b')][_0x3a7f('0x96')](_0x240351[_0x3a7f('0x3e')]);if(_0x305d6f)for(const _0x4374d1 of _0x305d6f)_0x4374d1[_0x3a7f('0x27')](_0x3a7f('0xb5'))||(_0x4fa405[_0x3a7f('0xef')][_0x3a7f('0x4a')](['ck-suggestion-marker',_0x3a7f('0x108'),_0x3a7f('0xf1')],_0x4374d1),_0x4fa405[_0x3a7f('0xef')]['removeAttribute'](_0x3a7f('0xc9'),_0x4374d1),_0x4fa405[_0x3a7f('0x6b')][_0x3a7f('0xc6')](_0x4374d1,_0x240351[_0x3a7f('0x3e')]));},{'priority':_0x3a7f('0xd0')});}),_0xc13a8a[_0x3a7f('0xe7')][_0x3a7f('0xcd')][_0x3a7f('0x28')](_0x3b9afd=>{let _0x3ea55a=!0x1;const _0x2cbde9=Array[_0x3a7f('0xeb')](_0xc13a8a[_0x3a7f('0xe7')][_0x3a7f('0xcd')][_0x3a7f('0x2d')][_0x3a7f('0x131')]()),_0x2dc679=new Set();for(const {name:_0x2d3feb,data:_0x48d12d}of _0x2cbde9){const {group:_0x5d2200,type:_0x26c0ed,id:_0x5b2264}=this[_0x3a7f('0x3a')](_0x2d3feb);if('suggestion'!==_0x5d2200)continue;const _0x6004b4=this[_0x3a7f('0x6f')][_0x3a7f('0xc8')](_0x5b2264);if(null!=_0x48d12d[_0x3a7f('0x82')]){'formatInline'==_0x26c0ed&&(_0x3ea55a=_0x3ea55a||Mt(_0x48d12d[_0x3a7f('0x82')],_0x2d3feb,_0x3b9afd,_0xc13a8a['model'][_0x3a7f('0x8c')]));if(_0x48d12d[_0x3a7f('0x82')]['isCollapsed']||_0x3a7f('0xb7')==_0x48d12d['newRange']['root'][_0x3a7f('0x9b')]||_0x3a7f('0xd')==_0x26c0ed&&!Nt(_0x48d12d[_0x3a7f('0x82')])||_0x3a7f('0xbd')==_0x26c0ed&&!(!_t(_0x24ae18=_0x48d12d['newRange'])&&!function(_0x36e71b){return _0x36e71b[_0x3a7f('0x50')][_0x3a7f('0x10a')]==_0x36e71b[_0x3a7f('0x56')][_0x3a7f('0xf8')]&&_0x36e71b[_0x3a7f('0x50')][_0x3a7f('0x4c')];}(_0x24ae18)))_0x3b9afd[_0x3a7f('0x1e')](_0x2d3feb),_0x3ea55a=!0x0;else{if(!_0x6004b4||!_0x6004b4['isInContent'])continue;_0x2dc679[_0x3a7f('0xb4')](_0x6004b4);}}}var _0x24ae18;return _0x2dc679[_0x3a7f('0x8d')]>0x0&&(_0x3ea55a=!!this[_0x3a7f('0x79')](_0x2dc679)||_0x3ea55a),_0x3ea55a;}),_0xc13a8a[_0x3a7f('0xe7')][_0x3a7f('0xcd')][_0x3a7f('0x28')](_0x350337=>{let _0x519374=!0x1;for(const _0x208e9e of _0xc13a8a[_0x3a7f('0xe7')][_0x3a7f('0xcd')]['differ']['getChanges']()){if(_0x3a7f('0x87')!=_0x208e9e[_0x3a7f('0x18')])continue;const _0x459c52=_0x208e9e[_0x3a7f('0x10f')][_0x3a7f('0x69')](_0x208e9e[_0x3a7f('0x30')]);if(_0x459c52[_0x3a7f('0x4c')])for(const _0x179e24 of this[_0x3a7f('0x6f')][_0x3a7f('0x63')]()){if(_0x179e24[_0x3a7f('0xfa')]||!_0x179e24[_0x3a7f('0x127')])continue;if(_0x3a7f('0xd')!=_0x179e24['type'])continue;const _0x1ee6d6=_0x179e24['getFirstRange']();if(_0x1ee6d6['start'][_0x3a7f('0x10a')]!=_0x1ee6d6[_0x3a7f('0x56')][_0x3a7f('0x10a')]&&_0x1ee6d6[_0x3a7f('0x56')][_0x3a7f('0xd5')](_0x208e9e[_0x3a7f('0x10f')])){const _0x15fffe=_0xc13a8a['model']['createRange'](_0x1ee6d6[_0x3a7f('0x50')],_0x459c52);_0x350337[_0x3a7f('0x4d')](_0x179e24[_0x3a7f('0x5f')](),{'range':_0x15fffe}),_0x519374=!0x0;}}}return _0x519374;}),_0xc13a8a[_0x3a7f('0xe7')][_0x3a7f('0x102')]['on'](_0x3a7f('0x21'),(_0xc25e43,_0x365c3e,_0x2f440f)=>{if(null==_0x2f440f){const {id:_0x13082a}=this['_splitMarkerName'](_0x365c3e[_0x3a7f('0xa3')]),_0x5d7560=this[_0x3a7f('0x6f')][_0x3a7f('0xc8')](_0x13082a);_0x5d7560&&_0x5d7560[_0x3a7f('0x9e')](_0x365c3e[_0x3a7f('0xa3')]);}}),_0xc13a8a[_0x3a7f('0xe7')]['document']['on'](_0x3a7f('0x72'),()=>{const _0x32fa9d=Array['from'](_0xc13a8a[_0x3a7f('0xe7')][_0x3a7f('0xcd')][_0x3a7f('0x2d')][_0x3a7f('0x131')]())[_0x3a7f('0x4')](_0x2a7e20=>'suggestion'===this[_0x3a7f('0x3a')](_0x2a7e20['name'])[_0x3a7f('0xf4')]);if(0x0===_0x32fa9d[_0x3a7f('0x30')])return;_0x32fa9d['sort']((_0x45be58,_0x3b5a1d)=>{const _0x56f2aa=_0x45be58[_0x3a7f('0x12e')][_0x3a7f('0x114')],_0x38b91e=_0x3b5a1d[_0x3a7f('0x12e')][_0x3a7f('0x114')];return null===_0x56f2aa&&null===_0x38b91e?0x0:null===_0x56f2aa&&null!==_0x38b91e?-0x1:null!==_0x56f2aa&&null===_0x38b91e?0x1:_0x56f2aa[_0x3a7f('0x50')][_0x3a7f('0xf7')](_0x38b91e[_0x3a7f('0x50')])?-0x1:0x1;});const _0x5ea026=new Set(),_0x37598e=new Set();for(const {name:_0x8a4cf,data:_0x4169df}of _0x32fa9d){const {id:_0x24e4d4}=this[_0x3a7f('0x3a')](_0x8a4cf);if(null===_0x4169df[_0x3a7f('0x114')]){const _0x2c079a=this[_0x3a7f('0x9c')](_0x8a4cf);_0x37598e[_0x3a7f('0xb4')](_0x2c079a);}else{const _0x1d034b=this['_suggestions'][_0x3a7f('0xc8')](_0x24e4d4);null!==_0x4169df[_0x3a7f('0x82')]||_0x1d034b[_0x3a7f('0x127')]?(_0x5ea026[_0x3a7f('0xb4')](_0x1d034b[_0x3a7f('0x144')]),_0x37598e[_0x3a7f('0xb4')](_0x1d034b)):this[_0x3a7f('0xba')](_0x1d034b);}}_0x37598e['size']>0x0&&this['_refreshSuggestionsChain'](_0x37598e);for(const _0x4a140f of _0x5ea026)this[_0x3a7f('0x11')](_0x3a7f('0x12b'),_0x4a140f);}),_0xc13a8a[_0x3a7f('0xe7')]['on'](_0x3a7f('0xf3'),(_0x18a0c2,_0x13196c)=>{const _0x4c8a7c=_0x13196c[0x0];if(!this[_0x3a7f('0x6f')][_0x3a7f('0x8d')])return;if(!_0x4c8a7c[_0x3a7f('0x77')])return;if(_0x4c8a7c[_0x3a7f('0x5')][_0x3a7f('0x137')]||!_0x4c8a7c[_0x3a7f('0x5')][_0x3a7f('0xb6')])return;let _0x269bfc,_0x559c34;switch(_0x4c8a7c['type']){case _0x3a7f('0x87'):_0x269bfc=_0xc13a8a[_0x3a7f('0xe7')][_0x3a7f('0x6d')](_0x4c8a7c['position']),_0x559c34=_0x269bfc[_0x3a7f('0x69')](_0x4c8a7c[_0x3a7f('0x36')]);break;case'split':_0x269bfc=_0xc13a8a[_0x3a7f('0xe7')][_0x3a7f('0x6d')](_0x4c8a7c['splitPosition']),_0x559c34=_0xc13a8a[_0x3a7f('0xe7')]['createPositionAt'](_0x4c8a7c[_0x3a7f('0x7c')]);break;case _0x3a7f('0xee'):_0x269bfc=_0xc13a8a[_0x3a7f('0xe7')]['createPositionAt'](_0x4c8a7c[_0x3a7f('0x62')]),_0x559c34=_0x269bfc[_0x3a7f('0x69')](_0x4c8a7c[_0x3a7f('0x36')]);break;default:return;}const _0x1a391d=_0xc13a8a[_0x3a7f('0xe7')][_0x3a7f('0x76')](_0x269bfc,_0x559c34);_0xc13a8a[_0x3a7f('0xe7')]['change'](()=>{for(const {suggestion:_0x3bfe36,meta:_0x263aaf}of this['_findSuggestions'](_0x1a391d)){if(_0x3bfe36[_0x3a7f('0xfa')])continue;if('formatInline'==_0x3bfe36['type'])continue;const _0x43128b=_0x3bfe36[_0x3a7f('0x12e')]&&_0x3bfe36[_0x3a7f('0x12e')][_0x3a7f('0xdf')];(_0x3a7f('0xd')!=_0x3bfe36['type']||_0x3a7f('0x6a')==_0x4c8a7c[_0x3a7f('0x18')]&&!_0x43128b)&&(_0x263aaf[_0x3a7f('0x13e')]||_0x3a7f('0x12a')==_0x3bfe36[_0x3a7f('0x18')]&&_0x263aaf[_0x3a7f('0x10b')]||_0x3bfe36[_0x3a7f('0x90')]()[_0x3a7f('0x3f')](_0x1a391d)&&this[_0x3a7f('0x38')](_0x3bfe36,_0x269bfc,_0x559c34));}});},{'priority':_0x3a7f('0xaa')}),_0xc13a8a[_0x3a7f('0xe7')]['on']('deleteContent',(_0x3c4629,_0x4cdfac)=>{const _0x582ec8=_0x4cdfac[0x0],_0x535f96=_0x4cdfac[0x1];if(_0x535f96&&_0x535f96[_0x3a7f('0x13a')])return;if(this['_isForcedDefaultExecutionBlock'])return;if(!this['trackChangesCommand'][_0x3a7f('0x84')])return;if(_0x582ec8['isCollapsed'])return;const _0x5dd219=_0xc13a8a[_0x3a7f('0xe7')][_0x3a7f('0x8c')],{start:_0x3083d9,end:_0x247c88}=_0x582ec8[_0x3a7f('0x90')](),_0x333fb2=_0x3083d9['nodeAfter']&&_0x5dd219[_0x3a7f('0xd1')](_0x3083d9[_0x3a7f('0x10d')])?null:_0x5dd219[_0x3a7f('0x11f')](_0x3083d9,_0x3a7f('0x128')),_0x25a84d=_0x247c88[_0x3a7f('0xf8')]&&_0x5dd219[_0x3a7f('0xd1')](_0x247c88[_0x3a7f('0xf8')])?null:_0x5dd219[_0x3a7f('0x11f')](_0x247c88,'backward'),_0x3c55b7=_0xc13a8a['model'][_0x3a7f('0x76')](_0x333fb2?_0x333fb2['start']:_0x3083d9,_0x25a84d?_0x25a84d[_0x3a7f('0x56')]:_0x247c88);_0xc13a8a[_0x3a7f('0xe7')][_0x3a7f('0x5e')](_0x1abfd5=>{this[_0x3a7f('0x6')](_0x3c55b7);const _0xf0c4c9=_0xc13a8a['model']['schema'][_0x3a7f('0x11f')](_0x3c55b7[_0x3a7f('0x50')]);_0x582ec8['is']('documentSelection')?_0x1abfd5[_0x3a7f('0x34')](_0xf0c4c9):_0x582ec8['setTo'](_0xf0c4c9);}),_0x3c4629['stop']();},{'priority':_0x59479e['normal']+0xa}),_0xc13a8a[_0x3a7f('0xe7')]['on'](_0x3a7f('0xce'),(_0x57cc4e,_0x5bf2d8)=>{const _0x1e4476=_0x5bf2d8[_0x5bf2d8[_0x3a7f('0x30')]-0x1];_0x1e4476&&_0x1e4476['forceDefaultExecution']||this[_0x3a7f('0xb9')]||this['trackChangesCommand'][_0x3a7f('0x84')]&&(_0xc13a8a[_0x3a7f('0xe7')][_0x3a7f('0x5e')](()=>{let _0x5b9ee1=_0xc13a8a[_0x3a7f('0xe7')][_0x3a7f('0xce')](_0x5bf2d8[0x0],_0x5bf2d8[0x1],_0x5bf2d8[0x2],{'forceDefaultExecution':!0x0});if(!_0x5b9ee1)return;_0x57cc4e[_0x3a7f('0xc1')]=_0x5b9ee1[_0x3a7f('0x7')]();const _0xe8d2d3=_0x5b9ee1[_0x3a7f('0x56')][_0x3a7f('0xf8')],_0x17bc7b=_0xc13a8a[_0x3a7f('0xe7')][_0x3a7f('0x8c')];_0xe8d2d3&&_0x17bc7b[_0x3a7f('0x5d')](_0xe8d2d3)&&!_0x17bc7b['isObject'](_0xe8d2d3)&&(_0x5b9ee1=_0xc13a8a[_0x3a7f('0xe7')][_0x3a7f('0x76')](_0x5b9ee1[_0x3a7f('0x50')],_0xc13a8a[_0x3a7f('0xe7')][_0x3a7f('0x6d')](_0xe8d2d3,_0x3a7f('0x56')))),this[_0x3a7f('0x46')](_0x5b9ee1);}),_0x57cc4e[_0x3a7f('0x2b')]());},{'priority':_0x3a7f('0xd0')}),this[_0x3a7f('0x143')][_0x3a7f('0xfd')][_0x3a7f('0xb4')](_0x3a7f('0x9a'),this[_0x3a7f('0x7b')]),this[_0x3a7f('0x100')](_0x3a7f('0x9a'));const _0x2da903=new _0x5b84cd(_0xc13a8a,this['_suggestions']);_0xc13a8a[_0x3a7f('0xfd')][_0x3a7f('0xb4')](_0x3a7f('0x7a'),_0x2da903),this[_0x3a7f('0x100')](_0x3a7f('0x7a'));const _0xec36c3=new _0x51fa7a(_0xc13a8a,this[_0x3a7f('0x6f')]);_0xc13a8a['commands'][_0x3a7f('0xb4')](_0x3a7f('0xe2'),_0xec36c3),this[_0x3a7f('0x100')](_0x3a7f('0xe2')),_0xc13a8a[_0x3a7f('0xfd')][_0x3a7f('0xb4')]('acceptAllSuggestions',new _0x1a0ece(_0xc13a8a,_0x2da903,this[_0x3a7f('0x6f')])),this[_0x3a7f('0x100')](_0x3a7f('0x7e')),_0xc13a8a[_0x3a7f('0xfd')][_0x3a7f('0xb4')](_0x3a7f('0x5a'),new _0x1a0ece(_0xc13a8a,_0xec36c3,this[_0x3a7f('0x6f')])),this[_0x3a7f('0x100')](_0x3a7f('0x5a')),_0xc13a8a[_0x3a7f('0xfd')]['add'](_0x3a7f('0x1a'),new _0x2face2(_0xc13a8a,_0x2da903,this[_0x3a7f('0x6f')])),this['enableCommand'](_0x3a7f('0x1a')),_0xc13a8a[_0x3a7f('0xfd')][_0x3a7f('0xb4')]('discardSelectedSuggestions',new _0x2face2(_0xc13a8a,_0xec36c3,this['_suggestions'])),this['enableCommand'](_0x3a7f('0xde'));const _0x138315=_0xc13a8a[_0x3a7f('0x3')][_0x3a7f('0xc8')](_0x3a7f('0x49'));this[_0x3a7f('0x59')](_0x138315,_0x3a7f('0x81'),(_0x5f22fd,{threadId:_0x292c02})=>{const _0x2de148=this[_0x3a7f('0x6f')][_0x3a7f('0xc8')](_0x292c02);_0x2de148&&_0x2de148[_0x3a7f('0x2a')]&&0x1===_0x2de148['commentThread'][_0x3a7f('0x30')]&&this[_0x3a7f('0x10e')](_0x292c02,{'hasComments':!0x0});},{'priority':_0x3a7f('0x2')}),this['listenTo'](_0x138315,_0x3a7f('0x88'),(_0x242138,{threadId:_0x16ddb3})=>{const _0x3bf4c3=this[_0x3a7f('0x6f')][_0x3a7f('0xc8')](_0x16ddb3);_0x3bf4c3&&_0x3bf4c3[_0x3a7f('0x2a')]&&!_0x3bf4c3[_0x3a7f('0x2a')]['length']&&this[_0x3a7f('0x10e')](_0x16ddb3,{'hasComments':!0x1});},{'priority':_0x3a7f('0x2')});}set[_0x3a7f('0xda')](_0x5a5d3e){if(this[_0x3a7f('0x93')])throw new _0x4c734e(_0x3a7f('0xbb'),this);this[_0x3a7f('0x93')]=_0x5a5d3e;}get[_0x3a7f('0xda')](){return this[_0x3a7f('0x93')];}[_0x3a7f('0x83')]({skipNotAttached:_0x561bf9=!0x1,toJSON:_0x3e08db=!0x1}={}){const _0x2f6dc7=[];for(const _0x775eed of this[_0x3a7f('0x6f')][_0x3a7f('0x63')]())_0x561bf9&&!_0x775eed['isInContent']||_0x2f6dc7['push'](_0x775eed);return _0x3e08db?_0x2f6dc7['map'](_0x52942f=>_0x52942f[_0x3a7f('0xfb')]()):_0x2f6dc7;}[_0x3a7f('0x3c')](_0xe8b9b4){const _0x25a9ae=this['_suggestions'][_0x3a7f('0xc8')](_0xe8b9b4);if(!_0x25a9ae)throw new _0x4c734e(_0x3a7f('0x85'),this);return _0x25a9ae;}[_0x3a7f('0x139')](_0x53c75b){return this['_suggestions'][_0x3a7f('0xc0')](_0x53c75b);}['addSuggestionData'](_0x33d4c0){const {authorId:_0x27d764,id:_0x2c213c,attributes:_0x47332d}=_0x33d4c0,[_0x5f5440,_0x1bd7d6]=_0x33d4c0[_0x3a7f('0x18')][_0x3a7f('0x6a')](':'),_0x58176a=this['_suggestions'][_0x3a7f('0xc8')](_0x2c213c)||this[_0x3a7f('0xa7')](_0x5f5440,_0x1bd7d6,_0x2c213c,_0x27d764,_0x47332d);if(this[_0x3a7f('0x78')](_0x58176a),this['_checkSuggestionCorrectness'](_0x58176a,_0x5f5440,_0x1bd7d6||null,_0x27d764),_0x58176a[_0x3a7f('0x47')]=_0x33d4c0[_0x3a7f('0x47')],_0x58176a[_0x3a7f('0xe1')]=!0x0,_0x47332d&&_0x47332d[_0x3a7f('0xbf')]){const _0x5e4b04=_0x47332d['@external'],_0x53e41b=this[_0x3a7f('0x66')](_0x5e4b04[_0x3a7f('0xa5')]);_0x58176a[_0x3a7f('0x8e')]=_0x5e4b04['createdAt'],_0x58176a[_0x3a7f('0x70')]=_0x53e41b,_0x58176a[_0x3a7f('0x132')]=!0x0;}else _0x58176a[_0x3a7f('0x8e')]=_0x33d4c0[_0x3a7f('0x47')];switch(_0x33d4c0['data']&&(_0x58176a['data']=_0x33d4c0[_0x3a7f('0x12e')]),_0x33d4c0['attributes']&&(_0x58176a[_0x3a7f('0x16')]=_0x33d4c0['attributes']),this[_0x3a7f('0x93')]&&this['_adapter']['addSuggestion']||(_0x58176a[_0x3a7f('0x116')]=!0x0),this['_suggestionState'][_0x3a7f('0xc8')](_0x58176a)){case _0x3a7f('0x10'):this[_0x3a7f('0xf6')][_0x3a7f('0x11d')](_0x58176a,_0x3a7f('0x6c'));break;case _0x3a7f('0x124'):_0x58176a[_0x3a7f('0x127')]?(this[_0x3a7f('0x105')](new Set([_0x58176a])),this[_0x3a7f('0x79')](new Set([_0x58176a])),this[_0x3a7f('0xf6')]['set'](_0x58176a,_0x3a7f('0x32')),this[_0x3a7f('0x11')](_0x3a7f('0xf9'),_0x58176a)):this['_suggestionState']['set'](_0x58176a,_0x3a7f('0x4b'));}return _0x58176a;}[_0x3a7f('0x7a')](_0x3e8b3d){this[_0x3a7f('0x13a')](()=>{this[_0x3a7f('0x143')][_0x3a7f('0xe7')][_0x3a7f('0x5e')](()=>{for(const _0x203417 of _0x3e8b3d['getAllAdjacentSuggestions']())_0x203417[_0x3a7f('0xc')]();});});}['discardSuggestion'](_0xf91ca6){this[_0x3a7f('0x13a')](()=>{this[_0x3a7f('0x143')][_0x3a7f('0xe7')][_0x3a7f('0x5e')](()=>{for(const _0x3f1b99 of _0xf91ca6[_0x3a7f('0xd7')]())_0x3f1b99['discard']();});});}['enableCommand'](_0x1264fe,_0x5610bd){const _0xffd3b7=this[_0x3a7f('0x143')][_0x3a7f('0xfd')]['get'](_0x1264fe);if(!_0xffd3b7)throw new _0x4c734e('track-changes-command-not-found',this,{'commandName':_0x1264fe});this[_0x3a7f('0xa6')][_0x3a7f('0xb4')](_0xffd3b7),_0x5610bd&&_0xffd3b7['on'](_0x3a7f('0xe4'),(_0xbd1680,_0x446368)=>{this['trackChangesCommand'][_0x3a7f('0x84')]&&(this[_0x3a7f('0xb9')]||_0x446368[_0x3a7f('0x30')]>0x0&&_0x446368[_0x446368[_0x3a7f('0x30')]-0x1]&&_0x446368[_0x446368['length']-0x1][_0x3a7f('0x13a')]||(_0x5610bd((..._0x4a247e)=>_0xffd3b7[_0x3a7f('0xe4')](..._0x4a247e,{'forceDefaultExecution':!0x0}),..._0x446368),_0xbd1680[_0x3a7f('0x2b')]()));},{'priority':_0x3a7f('0xd0')});}['forceDefaultExecution'](_0x427bae){let _0x4e7933,_0x2d804c;const _0x1efef9=this[_0x3a7f('0xb9')];this[_0x3a7f('0xb9')]=!0x0;try{_0x4e7933=_0x427bae();}catch(_0x42fc12){_0x2d804c=_0x42fc12;}return _0x1efef9||(this[_0x3a7f('0xb9')]=!0x1),_0x2d804c&&_0x4c734e['rethrowUnexpectedError'](_0x2d804c,this),_0x4e7933;}[_0x3a7f('0x46')](_0x3b4463,_0x4a4c79=null,_0xdf3144={}){if(_0x3b4463[_0x3a7f('0xb')])return null;const _0x19365=this[_0x3a7f('0x143')][_0x3a7f('0x3')]['get'](_0x3a7f('0x23'))['me'];for(const {suggestion:_0x1a6856,meta:_0x25eada}of this[_0x3a7f('0xe8')](_0x3b4463,_0x3a7f('0x12a')))if(_0x25eada[_0x3a7f('0x10b')]){if(!_0x25eada[_0x3a7f('0x13f')]){if(_0x25eada['containsRangeInObject']){if(!this[_0x3a7f('0xd4')]||!Ut(_0x1a6856,_0xdf3144))continue;return _0x1a6856;}if(Ut(_0x1a6856,_0xdf3144))return _0x1a6856;this[_0x3a7f('0x38')](_0x1a6856,_0x3b4463[_0x3a7f('0x50')],_0x3b4463[_0x3a7f('0x56')]);break;}if(_0x4a4c79==_0x1a6856[_0x3a7f('0x140')]&&Ut(_0x1a6856,_0xdf3144)){const _0x534e05=_0x1a6856[_0x3a7f('0x90')]();return _0x534e05[_0x3a7f('0x50')][_0x3a7f('0xd5')](_0x3b4463[_0x3a7f('0x56')])?this[_0x3a7f('0x44')](_0x1a6856,this[_0x3a7f('0x9d')][_0x3a7f('0x76')](_0x3b4463[_0x3a7f('0x50')],_0x534e05[_0x3a7f('0x56')])):this[_0x3a7f('0x44')](_0x1a6856,this[_0x3a7f('0x9d')][_0x3a7f('0x76')](_0x534e05[_0x3a7f('0x50')],_0x3b4463[_0x3a7f('0x56')])),_0x1a6856;}}const _0x1ebb7e=_0x5147c7(),_0x39e0c5=_0x19365['id'],_0x4a071f=_0x4a4c79?_0x3a7f('0xc7')+_0x4a4c79:_0x3a7f('0x12a'),_0x3b0372=this[_0x3a7f('0xe9')]({'id':_0x1ebb7e,'type':_0x4a071f,'createdAt':new Date(),'authorId':_0x39e0c5,'attributes':_0xdf3144});return this[_0x3a7f('0x71')](_0x4a071f,_0x1ebb7e,_0x39e0c5,_0x3b4463),_0x3b0372;}[_0x3a7f('0xe')](_0x1f2695,_0x2a6acb=_0x3a7f('0x33'),_0x569e41={}){const _0x1f54cd=this[_0x3a7f('0x143')]['plugins'][_0x3a7f('0xc8')]('Users')['me'],_0x21479e=this[_0x3a7f('0x135')][_0x3a7f('0x12f')](_0x3a7f('0x12a'),_0x2a6acb,_0x3a7f('0xac'));for(const _0x110ac1 of this[_0x3a7f('0x83')]())if(_0x110ac1['author']['id']==_0x1f54cd['id']&&_0x3a7f('0x12a')==_0x110ac1[_0x3a7f('0x18')]&&_0x110ac1[_0x3a7f('0x140')]==_0x2a6acb&&Ut(_0x110ac1,_0x569e41)&&(_0x21479e(_0x110ac1['getRanges'](),_0x1f2695)||_0x21479e(_0x1f2695,_0x110ac1['getRanges']()))){for(const _0x535287 of _0x1f2695)_0x110ac1[_0x3a7f('0x110')](_0x535287);return _0x110ac1;}for(const {suggestion:_0x86e517,meta:_0x405f6f}of this[_0x3a7f('0xe8')](_0x1f2695,_0x3a7f('0x12a'))){if(!_0x405f6f[_0x3a7f('0x10b')])continue;if(!this[_0x3a7f('0xd4')]&&_0x405f6f[_0x3a7f('0x13e')])continue;if(!Ut(_0x86e517,_0x569e41))continue;let _0x2ff66a=!0x0;for(const _0x2b5efe of _0x86e517[_0x3a7f('0xa0')]())for(const _0x11601f of _0x1f2695)if(!_0x2b5efe[_0x3a7f('0x3f')](_0x11601f)){_0x2ff66a=!0x1;break;}if(_0x2ff66a)return _0x86e517;}const _0x64ac2e=_0x5147c7(),_0x578b13=_0x1f54cd['id'],_0x5ccf1e=_0x3a7f('0xc7')+_0x2a6acb,_0x328a99=this['_setSuggestionData']({'id':_0x64ac2e,'type':_0x5ccf1e,'createdAt':new Date(),'authorId':_0x578b13,'attributes':_0x569e41});for(const _0xb39dd2 of _0x1f2695)this[_0x3a7f('0x71')](_0x5ccf1e,_0x64ac2e,_0x578b13,_0xb39dd2,_0x28c196[_0x3a7f('0x22')]());return _0x328a99;}[_0x3a7f('0xcb')](_0x63e4eb,_0x39baaa,_0x54f5ae=null,_0x5272c0={}){if(_0x54f5ae=_0x54f5ae||$t(_0x39baaa),_0x63e4eb[_0x3a7f('0xb')])return null;if(_0x3a7f('0x111')===this['_trackFormatChanges']){const _0x57b347=this[_0x3a7f('0x135')][_0x3a7f('0x12f')](_0x3a7f('0x40'),_0x54f5ae,_0x3a7f('0xc'));return this[_0x3a7f('0x13a')](()=>_0x57b347([_0x63e4eb],_0x39baaa,_0x5272c0)),null;}const _0x1f4c10=this['editor'][_0x3a7f('0x3')]['get']('Users')['me'],_0xc48e4a=[];if('always'!==this[_0x3a7f('0x115')])for(const {suggestion:_0x24c502,meta:_0x260543}of this['_findSuggestions'](_0x63e4eb,_0x3a7f('0x12a')))_0x260543[_0x3a7f('0x10b')]&&!_0x260543['isInsideObject']&&_0xc48e4a[_0x3a7f('0xdd')](..._0x24c502[_0x3a7f('0xa0')]());const _0x4be88c=function(_0xae60b9,_0x431721){const _0x3e9184=[];for(const _0x4fc25d of _0x431721){const _0x2ce881=_0xae60b9[_0x3a7f('0x57')](_0x4fc25d);_0x2ce881&&_0x3e9184[_0x3a7f('0xdd')](_0x2ce881);}return _0x3e9184;}(_0x63e4eb,_0xc48e4a),_0x39ba23=function(_0x38e8da,_0xc3faef){const _0xf8e97b=[_0x38e8da];for(const _0x11182e of _0xc3faef){let _0xe0b8cf=0x0;for(;_0xe0b8cf<_0xf8e97b['length'];){const _0x282cc6=_0xf8e97b[_0xe0b8cf]['getDifference'](_0x11182e);_0xf8e97b[_0x3a7f('0x92')](_0xe0b8cf,0x1,..._0x282cc6),_0xe0b8cf+=_0x282cc6[_0x3a7f('0x30')];}}return _0xf8e97b;}(_0x63e4eb,_0xc48e4a);_0x4be88c['length']&&this[_0x3a7f('0x9d')][_0x3a7f('0x5e')](()=>{for(const _0xf73497 of _0x4be88c){const _0x5f1568=this[_0x3a7f('0x135')][_0x3a7f('0x12f')]('formatInline',_0x54f5ae,_0x3a7f('0xc'));this[_0x3a7f('0x13a')](()=>_0x5f1568([_0xf73497],_0x39baaa,_0x5272c0));}});for(const _0x52cf60 of _0x39ba23){let _0x263ee5=null,_0x5e306b=_0x52cf60[_0x3a7f('0x50')],_0x483bc8=_0x52cf60['end'];for(const {suggestion:_0x187e51,meta:_0x10a591}of this[_0x3a7f('0xe8')](_0x52cf60,_0x3a7f('0x40'))){if(!_0x10a591[_0x3a7f('0x10b')])continue;if(_0x187e51[_0x3a7f('0x140')]!=_0x54f5ae)continue;if(!Ut(_0x187e51,_0x5272c0))continue;const _0x25db4c=_0x187e51[_0x3a7f('0x90')]();if(_0x25db4c['containsRange'](_0x52cf60,!0x0))return null;_0x5e306b=_0x5e306b['isBefore'](_0x25db4c[_0x3a7f('0x50')])?_0x5e306b:_0x25db4c['start'],_0x483bc8=_0x483bc8['isAfter'](_0x25db4c[_0x3a7f('0x56')])?_0x483bc8:_0x25db4c[_0x3a7f('0x56')],_0x263ee5?_0x25db4c[_0x3a7f('0x50')][_0x3a7f('0xf7')](_0x263ee5[_0x3a7f('0x90')]()['start'])?(_0x263ee5['removeMarkers'](),_0x263ee5=_0x187e51):_0x187e51[_0x3a7f('0xc3')]():_0x263ee5=_0x187e51;}const _0x5f1b0b=this[_0x3a7f('0x9d')][_0x3a7f('0x76')](_0x5e306b,_0x483bc8);if(_0x263ee5)this[_0x3a7f('0x44')](_0x263ee5,_0x5f1b0b);else{const _0x191801=_0x5147c7(),_0x252332=_0x1f4c10['id'];this[_0x3a7f('0xe9')]({'id':_0x191801,'type':_0x3a7f('0x12d')+_0x54f5ae,'data':_0x39baaa,'createdAt':new Date(),'authorId':_0x252332,'attributes':_0x5272c0}),this[_0x3a7f('0x71')](_0x3a7f('0x12d')+_0x54f5ae,_0x191801,_0x252332,_0x5f1b0b);}}return null;}[_0x3a7f('0xa4')](_0x443829,_0x13d2e2,_0x4c5de2=[],_0x197e1c=null,_0xcb3ade={}){_0x13d2e2[_0x3a7f('0x107')]||(_0x13d2e2['formatGroupId']=_0x13d2e2[_0x3a7f('0x2e')]),_0x13d2e2[_0x3a7f('0xdf')]=_0x443829['is'](_0x3a7f('0xd3')),_0x197e1c=_0x197e1c||$t(_0x13d2e2);const _0x4b1711=_0x4c5de2[_0x3a7f('0x19')](_0x30bf5a=>Rt(_0x30bf5a,this[_0x3a7f('0x9d')])),_0x1c3ce9=_0x443829['is'](_0x3a7f('0xd3'))?_0x443829:Rt(_0x443829,this[_0x3a7f('0x9d')]);if(_0x3a7f('0x111')===this[_0x3a7f('0x115')]){const _0x4b1d9e=this[_0x3a7f('0x135')][_0x3a7f('0x12f')](_0x3a7f('0xd'),_0x197e1c,_0x3a7f('0xc'));return this[_0x3a7f('0x13a')](()=>_0x4b1d9e([_0x1c3ce9],_0x13d2e2,_0xcb3ade)),null;}_0x4b1711[_0x3a7f('0xdd')](_0x1c3ce9);let _0x57b987=!0x0;for(const _0x1404ae of _0x4b1711)if(!this[_0x3a7f('0x51')](_0x1404ae)){_0x57b987=!0x1;break;}if(_0x57b987&&_0x3a7f('0x8a')!==this['_trackFormatChanges']){const _0x229fdc=this['_suggestionFactory'][_0x3a7f('0x12f')](_0x3a7f('0xd'),_0x197e1c,_0x3a7f('0xc'));return this['forceDefaultExecution'](()=>_0x229fdc([_0x1c3ce9],_0x13d2e2,_0xcb3ade)),null;}let _0x4211fa=null,_0x28b230=_0x1c3ce9[_0x3a7f('0x50')],_0x5e5710=_0x1c3ce9['end'];for(const {suggestion:_0x49b426,meta:_0x27183e}of this['_findSuggestions'](_0x1c3ce9,_0x3a7f('0xd'))){if(!_0x27183e['isOwn'])continue;if(_0x27183e[_0x3a7f('0x13f')]||_0x27183e[_0x3a7f('0x13e')]||_0x27183e[_0x3a7f('0x13')])continue;if(_0x49b426[_0x3a7f('0x12e')]['formatGroupId']!=_0x13d2e2['formatGroupId'])continue;if(!Ut(_0x49b426,_0xcb3ade))continue;const _0x270b81=_0x49b426['getFirstRange']();if(_0x49b426['subType']==_0x197e1c){if(_0x270b81[_0x3a7f('0x3f')](_0x1c3ce9,!0x0))return null;_0x28b230=_0x28b230[_0x3a7f('0xf7')](_0x270b81[_0x3a7f('0x50')])?_0x28b230:_0x270b81['start'],_0x5e5710=_0x5e5710[_0x3a7f('0xe6')](_0x270b81[_0x3a7f('0x56')])?_0x5e5710:_0x270b81[_0x3a7f('0x56')],_0x4211fa?_0x270b81['start'][_0x3a7f('0xf7')](_0x4211fa[_0x3a7f('0x90')]()[_0x3a7f('0x50')])?(_0x4211fa['removeMarkers'](),_0x4211fa=_0x49b426):_0x49b426[_0x3a7f('0xc3')]():_0x4211fa=_0x49b426;}else{const _0x1c9fdf=_0x1c3ce9[_0x3a7f('0x57')](_0x270b81);this[_0x3a7f('0x53')](_0x49b426,_0x1c9fdf);}}const _0x37cfe5=this[_0x3a7f('0x143')][_0x3a7f('0x3')]['get'](_0x3a7f('0x23'))['me'],_0x16ac0e=_0x5147c7(),_0x3e1fcb=_0x37cfe5['id'];if(_0x4211fa)return this['_setSuggestionRange'](_0x4211fa,this[_0x3a7f('0x9d')][_0x3a7f('0x76')](_0x28b230,_0x5e5710)),_0x4211fa;{const _0x9d6e78=this[_0x3a7f('0xe9')]({'id':_0x16ac0e,'type':'formatBlock:'+_0x197e1c,'data':_0x13d2e2,'createdAt':new Date(),'authorId':_0x3e1fcb,'attributes':_0xcb3ade});return this[_0x3a7f('0x71')]('formatBlock:'+_0x197e1c,_0x16ac0e,_0x3e1fcb,this[_0x3a7f('0x9d')][_0x3a7f('0x76')](_0x28b230,_0x5e5710)),_0x9d6e78;}}[_0x3a7f('0xad')](_0x465f92,_0x58dd7e,_0x16c9ad=[],_0x138610=null,_0xd8985b={}){_0x58dd7e[_0x3a7f('0x107')]||(_0x58dd7e[_0x3a7f('0x107')]=_0x58dd7e[_0x3a7f('0x2e')]);const _0x51b9ad=_0x465f92[0x0];_0x58dd7e[_0x3a7f('0xdf')]=_0x51b9ad['is'](_0x3a7f('0xd3')),_0x138610=_0x138610||$t(_0x58dd7e);const _0x1341b9=_0x16c9ad[_0x3a7f('0x19')](_0x4d8518=>Rt(_0x4d8518,this[_0x3a7f('0x9d')])),_0x5bab58=_0x51b9ad['is'](_0x3a7f('0xd3'))?_0x465f92:_0x465f92[_0x3a7f('0x19')](_0x58c3f8=>Rt(_0x58c3f8,this[_0x3a7f('0x9d')]));if(_0x3a7f('0x111')===this[_0x3a7f('0x115')]){const _0x43252a=this[_0x3a7f('0x135')][_0x3a7f('0x12f')]('formatBlock',_0x138610,_0x3a7f('0xc'));return this[_0x3a7f('0x13a')](()=>_0x43252a(_0x5bab58,_0x58dd7e,_0xd8985b)),null;}_0x1341b9['push'](..._0x5bab58);let _0x49ab5a=!0x0;for(const _0x4b4d46 of _0x1341b9)if(!this['_rangeIsInLocalUserInsertion'](_0x4b4d46)){_0x49ab5a=!0x1;break;}if(_0x49ab5a&&_0x3a7f('0x8a')!==this[_0x3a7f('0x115')]){const _0x2e2cfd=this['_suggestionFactory'][_0x3a7f('0x12f')](_0x3a7f('0xd'),_0x138610,_0x3a7f('0xc'));return this['forceDefaultExecution'](()=>_0x2e2cfd(_0x5bab58,_0x58dd7e,_0xd8985b)),null;}const _0x4d5428=this[_0x3a7f('0x143')]['plugins']['get'](_0x3a7f('0x23'))['me'];for(const _0x19dd92 of this[_0x3a7f('0x83')]()){if(_0x19dd92['author']['id']!=_0x4d5428['id'])continue;if(_0x3a7f('0xd')!=_0x19dd92[_0x3a7f('0x18')]||_0x19dd92['data'][_0x3a7f('0x107')]!=_0x58dd7e[_0x3a7f('0x107')])continue;if(!Ut(_0x19dd92,_0xd8985b))continue;const _0x3169ba=_0x19dd92[_0x3a7f('0x140')]==_0x138610;for(let _0x5bab00=0x0;_0x5bab00<_0x5bab58['length'];_0x5bab00++){const _0x3a840a=_0x5bab58[_0x5bab00];for(const _0x1bde27 of _0x19dd92[_0x3a7f('0x41')]()){const _0x2a5ab3=_0x1bde27[_0x3a7f('0x45')]();if(_0x3a840a[_0x3a7f('0xd5')](_0x2a5ab3)){_0x3169ba?(_0x5bab58[_0x3a7f('0x92')](_0x5bab00,0x1),_0x5bab00--):_0x19dd92[_0x3a7f('0x1e')](_0x1bde27[_0x3a7f('0xa3')]);break;}}}}if(0x0==_0x5bab58['length'])return null;const _0x224926=this[_0x3a7f('0x135')][_0x3a7f('0x12f')]('formatBlock',_0x138610,_0x3a7f('0xac'));for(const _0x352fdb of this[_0x3a7f('0x83')]())if(_0x352fdb['author']['id']==_0x4d5428['id']&&_0x3a7f('0xd')==_0x352fdb[_0x3a7f('0x18')]&&_0x352fdb[_0x3a7f('0x12e')][_0x3a7f('0x107')]==_0x58dd7e['formatGroupId']&&_0x352fdb['subType']==_0x138610&&Ut(_0x352fdb,_0xd8985b)&&(_0x224926(_0x352fdb[_0x3a7f('0xa0')](),_0x5bab58)||_0x224926(_0x5bab58,_0x352fdb[_0x3a7f('0xa0')]()))){for(const _0x44758e of _0x5bab58)_0x352fdb[_0x3a7f('0x110')](_0x44758e);return _0x352fdb;}const _0x227b74=_0x5147c7(),_0xb89b53=_0x4d5428['id'],_0x1db54a=_0x3a7f('0xc2')+_0x138610,_0x215bd2=this[_0x3a7f('0xe9')]({'id':_0x227b74,'type':_0x1db54a,'data':_0x58dd7e,'createdAt':new Date(),'authorId':_0xb89b53,'attributes':_0xd8985b});for(const _0x35a2de of _0x5bab58)this[_0x3a7f('0x71')](_0x1db54a,_0x227b74,_0xb89b53,_0x35a2de,_0x28c196[_0x3a7f('0x22')]());return _0x215bd2;}[_0x3a7f('0x6')](_0x500ea6,_0x19213d=null,_0x4e71a9={}){if(_0x500ea6['isCollapsed'])return null;const _0xa6d572=this['editor']['plugins'][_0x3a7f('0xc8')](_0x3a7f('0x23'))['me'],_0x2295b4=new _0x55d7ae(_0x500ea6[_0x3a7f('0x50')],_0x500ea6[_0x3a7f('0x56')]);for(const {suggestion:_0x21c6e4,meta:_0x2e51f0}of this['_findSuggestions'](_0x2295b4,_0x3a7f('0x12a')))if(_0x2e51f0[_0x3a7f('0x10b')]&&!_0x2e51f0[_0x3a7f('0x13f')]){if(_0x21c6e4[_0x3a7f('0xfa')]){const _0x5ad611=_0x21c6e4['getRanges']()[_0x3a7f('0x4')](_0x8ba84a=>'$graveyard'!=_0x8ba84a[_0x3a7f('0x29')][_0x3a7f('0x9b')]);_0x5ad611[_0x3a7f('0x138')](_0x66db34=>_0x2295b4[_0x3a7f('0x3f')](_0x66db34,!0x0))&&_0x21c6e4[_0x3a7f('0xea')]();if(_0x5ad611[_0x3a7f('0x123')](_0x3f9044=>_0x3f9044[_0x3a7f('0x3f')](_0x2295b4,!0x0))){const _0x5ba60e=this[_0x3a7f('0x135')][_0x3a7f('0x12f')](_0x3a7f('0xbd'),_0x19213d,_0x3a7f('0xc'));return this['forceDefaultExecution'](()=>_0x5ba60e([_0x2295b4],null,_0x4e71a9)),null;}}else{const _0x1eae3d=_0x2295b4[_0x3a7f('0x57')](_0x21c6e4['getFirstRange']());null!==_0x1eae3d&&_0x21c6e4['_onDiscard']([_0x1eae3d],null,_0x4e71a9);}}if(_0x2295b4[_0x3a7f('0x7d')](),_0x2295b4[_0x3a7f('0xb')]||_0x3a7f('0xb7')==_0x2295b4[_0x3a7f('0x29')][_0x3a7f('0x9b')])return null;let _0x5b27dd=null,_0x4b41dd=_0x2295b4[_0x3a7f('0x50')],_0x2b0107=_0x2295b4[_0x3a7f('0x56')];const _0xcf15e0=this[_0x3a7f('0xe8')](_0x2295b4,_0x3a7f('0xbd'));for(const {suggestion:_0x92c52d,meta:_0x293a15}of _0xcf15e0){const _0x5ebf61=this[_0x3a7f('0x9d')][_0x3a7f('0x76')](_0x4b41dd,_0x2b0107);if(_0x293a15['isOwn']&&(this['_mergeNestedSuggestions']||!_0x293a15['containsRangeInObject']&&!_0x293a15[_0x3a7f('0x13')])){if(_0x92c52d[_0x3a7f('0xfa')]){if(!Ut(_0x92c52d,_0x4e71a9))continue;let _0x55e2d3=!0x0;for(const _0x75f2bd of _0x92c52d[_0x3a7f('0xa0')]()){if(_0x75f2bd[_0x3a7f('0x3f')](_0x5ebf61,!0x0))return _0x92c52d;_0x5ebf61['containsRange'](_0x75f2bd)||(_0x55e2d3=!0x1);}_0x55e2d3&&_0x92c52d['discard']();}else{const _0x4f4f9c=_0x92c52d[_0x3a7f('0x90')]();if(_0x4f4f9c[_0x3a7f('0x3f')](_0x5ebf61,!0x0))return _0x92c52d;if(!Ut(_0x92c52d,_0x4e71a9)){_0x5ebf61[_0x3a7f('0x3f')](_0x4f4f9c)?_0x92c52d['removeMarkers']():_0x4f4f9c['containsPosition'](_0x4b41dd)?_0x4b41dd=_0x4f4f9c['end']:_0x4f4f9c[_0x3a7f('0xa2')](_0x2b0107)&&(_0x2b0107=_0x4f4f9c[_0x3a7f('0x50')]);continue;}_0x4b41dd=_0x4b41dd['isBefore'](_0x4f4f9c['start'])?_0x4b41dd:_0x4f4f9c['start'],_0x2b0107=_0x2b0107[_0x3a7f('0xe6')](_0x4f4f9c[_0x3a7f('0x56')])?_0x2b0107:_0x4f4f9c[_0x3a7f('0x56')],_0x4e71a9=Object[_0x3a7f('0x121')]({},_0x92c52d['attributes']),_0x5b27dd?_0x4f4f9c['start'][_0x3a7f('0xf7')](_0x5b27dd[_0x3a7f('0x90')]()[_0x3a7f('0x50')])?(_0x5b27dd['removeMarkers'](),_0x5b27dd=_0x92c52d):_0x92c52d['removeMarkers']():_0x5b27dd=_0x92c52d;}}}if(_0x5b27dd)return this[_0x3a7f('0x44')](_0x5b27dd,this['_model']['createRange'](_0x4b41dd,_0x2b0107)),_0x5b27dd;{const _0x5ed151=_0x5147c7(),_0x24325d=this[_0x3a7f('0x9d')][_0x3a7f('0x76')](_0x4b41dd,_0x2b0107),_0x285deb=_0xa6d572['id'],_0x4b14e0=_0x19213d?'deletion:'+_0x19213d:'deletion',_0x1f3ac2=this[_0x3a7f('0xe9')]({'id':_0x5ed151,'type':_0x4b14e0,'createdAt':new Date(),'authorId':_0x285deb,'attributes':_0x4e71a9});return this[_0x3a7f('0x71')](_0x4b14e0,_0x5ed151,_0x285deb,_0x24325d),_0x1f3ac2;}}[_0x3a7f('0x126')](_0x3b0f33,_0x41dbd6=_0x3a7f('0x33'),_0x4c8f0f={}){const _0xd1664=this['editor'][_0x3a7f('0x3')][_0x3a7f('0xc8')](_0x3a7f('0x23'))['me'],_0x39ce19=_0x3b0f33['map'](_0x44fb47=>new _0x55d7ae(_0x44fb47[_0x3a7f('0x50')],_0x44fb47[_0x3a7f('0x56')])),_0x797442=new Set();for(const {suggestion:_0x20aac6,meta:_0x2e0a32}of this['_findSuggestions'](_0x39ce19,_0x3a7f('0x12a')))_0x2e0a32[_0x3a7f('0x10b')]&&!_0x2e0a32[_0x3a7f('0x13f')]&&_0x797442[_0x3a7f('0xb4')](_0x20aac6);for(const _0x287752 of _0x797442)if(_0x287752[_0x3a7f('0xfa')]){const _0x3e0d5f=_0x287752['getRanges']();(!_0x287752[_0x3a7f('0x16')]||!_0x287752[_0x3a7f('0x16')][_0x3a7f('0x104')])&&(_0x3e0d5f[_0x3a7f('0x138')](_0x5c6c3a=>_0x39ce19[_0x3a7f('0x123')](_0x34e796=>_0x34e796[_0x3a7f('0x3f')](_0x5c6c3a,!0x0)))&&_0x287752[_0x3a7f('0xea')]());if(_0x39ce19['every'](_0x4bfb44=>_0x3e0d5f[_0x3a7f('0x123')](_0xec12f3=>_0xec12f3[_0x3a7f('0x3f')](_0x4bfb44,!0x0)))){const _0x350f83=this[_0x3a7f('0x135')][_0x3a7f('0x12f')](_0x3a7f('0xbd'),_0x41dbd6,_0x3a7f('0xc'));return this[_0x3a7f('0x13a')](()=>_0x350f83(_0x3b0f33,null,_0x4c8f0f)),null;}}else{const _0x41a24f=_0x287752[_0x3a7f('0x90')]();_0x39ce19[_0x3a7f('0x123')](_0x52563e=>_0x52563e['containsRange'](_0x41a24f,!0x0))&&_0x287752['discard']();if(_0x39ce19[_0x3a7f('0x138')](_0x27243a=>_0x41a24f['containsRange'](_0x27243a,!0x0))){const _0x2215f1=this[_0x3a7f('0x135')]['getSuggestionCallback'](_0x3a7f('0xbd'),_0x41dbd6,'accept');return this[_0x3a7f('0x13a')](()=>_0x2215f1(_0x39ce19,null,_0x4c8f0f)),null;}}const _0x3eb8fa=this[_0x3a7f('0x135')]['getSuggestionCallback'](_0x3a7f('0xbd'),_0x41dbd6,_0x3a7f('0xac'));let _0x10a1c4=null;for(const _0x5d7c1e of this[_0x3a7f('0x83')]())if(_0x5d7c1e[_0x3a7f('0x70')]['id']==_0xd1664['id']&&_0x5d7c1e[_0x3a7f('0x127')]&&_0x3a7f('0xbd')==_0x5d7c1e[_0x3a7f('0x18')]&&_0x5d7c1e[_0x3a7f('0x140')]==_0x41dbd6&&Ut(_0x5d7c1e,_0x4c8f0f)&&(_0x3eb8fa(_0x5d7c1e[_0x3a7f('0xa0')](),_0x39ce19)||_0x3eb8fa(_0x39ce19,_0x5d7c1e['getRanges']()))){if(_0x10a1c4){if(_0x5d7c1e[_0x3a7f('0x2a')]&&_0x5d7c1e[_0x3a7f('0x2a')][_0x3a7f('0x30')])continue;for(const _0x98c0d of _0x5d7c1e[_0x3a7f('0xa0')]())_0x10a1c4[_0x3a7f('0xab')](_0x98c0d)||_0x10a1c4[_0x3a7f('0x110')](_0x98c0d);_0x5d7c1e['removeMarkers']();}else{_0x10a1c4=_0x5d7c1e;for(const _0x115935 of _0x39ce19)_0x5d7c1e[_0x3a7f('0xab')](_0x115935)||_0x5d7c1e[_0x3a7f('0x110')](_0x115935);}}if(_0x10a1c4)return _0x10a1c4;_0x797442[_0x3a7f('0xf2')]();for(const {suggestion:_0x1b4388,meta:_0x58f668}of this[_0x3a7f('0xe8')](_0x39ce19,'deletion'))_0x58f668[_0x3a7f('0x10b')]&&(this['_mergeNestedSuggestions']||!_0x58f668['containsRangeInObject']&&!_0x58f668[_0x3a7f('0x13')])&&Ut(_0x1b4388,_0x4c8f0f)&&_0x797442['add'](_0x1b4388);for(const _0x42599a of _0x797442){const _0x4d278e=_0x42599a['getRanges']();if(!_0x4c8f0f||!_0x4c8f0f[_0x3a7f('0x104')]){if(_0x39ce19[_0x3a7f('0x138')](_0x197eaf=>_0x4d278e[_0x3a7f('0x123')](_0x440c8f=>_0x440c8f[_0x3a7f('0x3f')](_0x197eaf,!0x0))))return _0x42599a;}(!_0x42599a['attributes']||!_0x42599a[_0x3a7f('0x16')][_0x3a7f('0x104')])&&(_0x4d278e[_0x3a7f('0x138')](_0xecd2e6=>_0x39ce19[_0x3a7f('0x123')](_0x2c2503=>_0x2c2503['containsRange'](_0xecd2e6,!0x0)))&&_0x42599a[_0x3a7f('0xea')]());}const _0x2d6adc=_0x5147c7(),_0x1db6ee=_0xd1664['id'],_0x3a5cdf=_0x3a7f('0x129')+_0x41dbd6,_0x1de80b=this[_0x3a7f('0xe9')]({'id':_0x2d6adc,'type':_0x3a5cdf,'createdAt':new Date(),'authorId':_0x1db6ee,'attributes':_0x4c8f0f});for(const _0x4a82a5 of _0x39ce19)_0x4a82a5[_0x3a7f('0x7d')](),_0x4a82a5[_0x3a7f('0xb')]||_0x3a7f('0xb7')==_0x4a82a5[_0x3a7f('0x29')][_0x3a7f('0x9b')]||this['_addSuggestionMarker'](_0x3a5cdf,_0x2d6adc,_0x1db6ee,_0x4a82a5,_0x28c196['getMultiRangeId']());return _0x1de80b;}[_0x3a7f('0x44')](_0x11225f,_0x473d1f){const _0x3635d3=_0x11225f[_0x3a7f('0x5f')]();this[_0x3a7f('0x9d')][_0x3a7f('0x5e')](_0x38cc08=>{_0x38cc08[_0x3a7f('0x4d')](_0x3635d3,{'range':_0x473d1f});});}[_0x3a7f('0x78')](_0x31e657){const _0x2158ba=_0x31e657['id'],_0x1139fa=this[_0x3a7f('0x143')]['config'][_0x3a7f('0xc8')](_0x3a7f('0x15'));this['_commentsRepository'][_0x3a7f('0x13c')](_0x2158ba)||this[_0x3a7f('0x141')][_0x3a7f('0x24')]({'channelId':_0x1139fa,'threadId':_0x2158ba,'isResolvable':!0x1,'isSubmitted':!0x0});const _0x20abd6=this['_commentsRepository'][_0x3a7f('0x14')](_0x2158ba);_0x20abd6[_0x3a7f('0xca')]('isRemovable'),_0x20abd6[_0x3a7f('0x26')]=!0x1,_0x31e657[_0x3a7f('0x2a')]=_0x20abd6;}['_checkSuggestionCorrectness'](_0x3b2c8d,_0x18e190,_0x2d924e,_0x4ff1c3){if(_0x3b2c8d[_0x3a7f('0x18')]!=_0x18e190||_0x3b2c8d[_0x3a7f('0x140')]!=_0x2d924e||_0x3b2c8d[_0x3a7f('0x9')]['id']!=_0x4ff1c3)throw this['editor'][_0x3a7f('0xb3')](_0x3a7f('0x13b')),new _0x4c734e(_0x3a7f('0x13b'),this);}['_cutOutSuggestionMarker'](_0x34df23,_0x33fe0d){const _0x3d887c=_0x34df23['getFirstRange']();if(_0x33fe0d[_0x3a7f('0xd5')](_0x3d887c))_0x34df23[_0x3a7f('0xc3')]();else{if(_0x3d887c[_0x3a7f('0x3f')](_0x33fe0d)){const _0x358d80=this[_0x3a7f('0x9d')]['createPositionAt'](_0x33fe0d['start'][_0x3a7f('0xf8')],'end');this[_0x3a7f('0x44')](_0x34df23,this[_0x3a7f('0x9d')]['createRange'](_0x3d887c[_0x3a7f('0x50')],_0x358d80));const _0x160f4f=_0x5147c7(),_0x1bc05f=_0x34df23['creator']['id'],_0x21c429=_0x34df23['type']+':'+_0x34df23['subType'];this['_setSuggestionData']({'id':_0x160f4f,'type':_0x21c429,'createdAt':new Date(),'authorId':_0x1bc05f,'data':_0x34df23[_0x3a7f('0x12e')],'attributes':_0x34df23[_0x3a7f('0x16')]});const _0x17cdff=this[_0x3a7f('0x9d')][_0x3a7f('0x6d')](_0x33fe0d['end'][_0x3a7f('0x10a')],_0x3a7f('0x119')),_0x15d492=this['_model']['createRange'](_0x17cdff,_0x3d887c[_0x3a7f('0x56')]);this[_0x3a7f('0x71')](_0x21c429,_0x160f4f,_0x1bc05f,_0x15d492);}else{if(_0x3d887c[_0x3a7f('0xa2')](_0x33fe0d[_0x3a7f('0x50')])){const _0x259dd6=this['_model']['createPositionAt'](_0x33fe0d[_0x3a7f('0x50')][_0x3a7f('0xf8')],_0x3a7f('0x56'));this[_0x3a7f('0x44')](_0x34df23,this[_0x3a7f('0x9d')]['createRange'](_0x3d887c[_0x3a7f('0x50')],_0x259dd6));}else{const _0x112340=this['_model'][_0x3a7f('0x6d')](_0x33fe0d['end'][_0x3a7f('0x10a')],_0x3a7f('0x119'));this['_setSuggestionRange'](_0x34df23,this[_0x3a7f('0x9d')][_0x3a7f('0x76')](_0x112340,_0x3d887c[_0x3a7f('0x56')]));}}}}[_0x3a7f('0x51')](_0x238507){for(const {suggestion:_0x5320b6,meta:_0x513543}of this['_findSuggestions'](_0x238507,_0x3a7f('0x12a'))){if(!_0x513543[_0x3a7f('0x10b')])continue;const _0x3595f6=_0x5320b6['getRanges']();for(const _0x2650b0 of _0x3595f6)if(!_0x238507[_0x3a7f('0x68')](_0x2650b0)[_0x3a7f('0x30')])return!0x0;}return!0x1;}[_0x3a7f('0x112')](_0x4e27e9){const _0x22dbdf=this[_0x3a7f('0x143')][_0x3a7f('0x3')]['get'](_0x3a7f('0x23'))[_0x3a7f('0xa')](_0x4e27e9);if(!_0x22dbdf)throw new _0x4c734e(_0x3a7f('0x58'),this);return _0x22dbdf;}[_0x3a7f('0x66')](_0x59dbaf){const _0x20d040=this['editor'][_0x3a7f('0x3')]['get'](_0x3a7f('0x23')),_0x17648d=_0xf1b0e5(_0x3a7f('0x73')+_0x59dbaf),_0x53bef9=_0x20d040[_0x3a7f('0xa')](_0x17648d);return _0x53bef9||_0x20d040[_0x3a7f('0xff')]({'id':_0x17648d,'name':_0x59dbaf});}[_0x3a7f('0xa7')](_0x35dd96,_0x5b9f84,_0xb3369f,_0x19d4de,_0x33785a){const _0x28a9f9=this[_0x3a7f('0x112')](_0x19d4de),_0x197c2b=this['_suggestionFactory'][_0x3a7f('0x52')](_0x35dd96,_0x5b9f84,_0xb3369f,_0x28a9f9,_0x33785a,_0x4fc1bc=>this[_0x3a7f('0x10e')](_0xb3369f,{'attributes':_0x4fc1bc}));return this[_0x3a7f('0x59')](_0x197c2b,_0x3a7f('0xc'),()=>{this[_0x3a7f('0x10e')](_0xb3369f,{'state':'accepted'});},{'priority':_0x3a7f('0xd0')}),this[_0x3a7f('0x59')](_0x197c2b,_0x3a7f('0xea'),()=>{this[_0x3a7f('0x10e')](_0xb3369f,{'state':_0x3a7f('0xbc')});},{'priority':_0x3a7f('0xd0')}),this[_0x3a7f('0x6f')][_0x3a7f('0x11d')](_0xb3369f,_0x197c2b),this[_0x3a7f('0xf6')][_0x3a7f('0x11d')](_0x197c2b,_0x3a7f('0x10')),_0x197c2b;}[_0x3a7f('0x3a')](_0x43b24d){const _0x49402e=_0x43b24d[_0x3a7f('0x6a')](':');return{'group':_0x49402e[0x0],'type':_0x49402e[0x1],'subType':_0x49402e[_0x3a7f('0x30')]>=0x5?_0x49402e[0x2]:null,'id':_0x49402e[_0x3a7f('0x30')]<0x5?_0x49402e[0x2]:_0x49402e[0x3],'authorId':_0x49402e[_0x3a7f('0x30')]<0x5?_0x49402e[0x3]:_0x49402e[0x4],'markerCount':0x6==_0x49402e['length']?_0x49402e[0x5]:null};}[_0x3a7f('0x38')](_0x1d45cb,_0x42fb59,_0x13e328){const _0x13d7e9=_0x1d45cb[_0x3a7f('0x90')](),_0x1fda96=_0x13d7e9[_0x3a7f('0x50')],_0x5f14cc=_0x13d7e9[_0x3a7f('0x56')];this[_0x3a7f('0x44')](_0x1d45cb,this[_0x3a7f('0x9d')][_0x3a7f('0x76')](_0x1fda96,_0x42fb59));const _0x39058f=_0x5147c7(),_0x5553fd=_0x1d45cb[_0x3a7f('0x9')]['id'],_0x4d6f08=_0x1d45cb[_0x3a7f('0x18')]+(_0x1d45cb['subType']?':'+_0x1d45cb[_0x3a7f('0x140')]:'');this[_0x3a7f('0xe9')]({'id':_0x39058f,'type':_0x4d6f08,'createdAt':new Date(),'authorId':_0x5553fd,'originalSuggestionId':_0x1d45cb['id'],'attributes':_0x1d45cb[_0x3a7f('0x16')],'data':_0x1d45cb[_0x3a7f('0x12e')]}),_0x3a7f('0xd')==_0x1d45cb[_0x3a7f('0x18')]&&(_0x13e328=this[_0x3a7f('0x9d')][_0x3a7f('0xd2')](_0x13e328[_0x3a7f('0x10a')])),this['_addSuggestionMarker'](_0x4d6f08,_0x39058f,_0x5553fd,this[_0x3a7f('0x9d')][_0x3a7f('0x76')](_0x13e328,_0x5f14cc));}[_0x3a7f('0xe8')](_0x20a168,_0x1f81a2=null){const _0x6383f3=[],_0x443ee8=this[_0x3a7f('0x143')][_0x3a7f('0x3')][_0x3a7f('0xc8')](_0x3a7f('0x23'))['me'];Array[_0x3a7f('0xfe')](_0x20a168)||(_0x20a168=[_0x20a168]);for(const _0x524901 of this[_0x3a7f('0x83')]()){if(!_0x524901['isInContent'])continue;if(_0x1f81a2&&_0x524901[_0x3a7f('0x18')]!=_0x1f81a2)continue;let _0x3a0d61=!0x1;for(const _0x33430c of _0x524901[_0x3a7f('0xa0')]()){for(const _0x38d7df of _0x20a168){const _0x99ae99=_0x38d7df[_0x3a7f('0x50')]['isEqual'](_0x33430c[_0x3a7f('0x56')])||_0x38d7df['end'][_0x3a7f('0xd5')](_0x33430c[_0x3a7f('0x50')]);if(_0x99ae99||_0x38d7df[_0x3a7f('0x57')](_0x33430c)){const _0x4affd2=_0x38d7df[_0x3a7f('0x3f')](_0x33430c)&&Bt(this['_model'][_0x3a7f('0x8c')],_0x33430c['start'],_0x38d7df),_0x349721=_0x33430c[_0x3a7f('0x3f')](_0x38d7df)&&Bt(this['_model']['schema'],_0x38d7df['start'],_0x33430c);_0x6383f3[_0x3a7f('0xdd')]({'suggestion':_0x524901,'meta':{'isOwn':_0x443ee8==_0x524901[_0x3a7f('0x70')],'isNextTo':_0x99ae99,'isInsideObject':_0x4affd2,'containsRangeInObject':_0x349721}}),_0x3a0d61=!0x0;break;}}if(_0x3a0d61)break;}}return _0x6383f3;}[_0x3a7f('0x71')](_0x56f27d,_0xf7cae4,_0x14d113,_0x312d0a,_0x28cffe){this[_0x3a7f('0x9d')][_0x3a7f('0x5e')](_0x3beef5=>{let _0x8b0113=_0x3a7f('0x35')+_0x56f27d+':'+_0xf7cae4+':'+_0x14d113;_0x28cffe&&(_0x8b0113=_0x8b0113+':'+_0x28cffe),_0x3beef5[_0x3a7f('0x20')](_0x8b0113,{'range':_0x312d0a,'usingOperation':!0x0,'affectsData':!0x0});});}[_0x3a7f('0xba')](_0x480f56){const _0x11764c=_0x480f56[_0x3a7f('0x1d')],_0x586bc5=_0x480f56[_0x3a7f('0x136')];_0x480f56[_0x3a7f('0x1d')]=null,null!=_0x11764c&&(_0x11764c[_0x3a7f('0x136')]=null),_0x480f56[_0x3a7f('0x136')]=null,null!=_0x586bc5&&(_0x586bc5[_0x3a7f('0x1d')]=null),'ready'==this[_0x3a7f('0xf6')][_0x3a7f('0xc8')](_0x480f56)&&(this[_0x3a7f('0xf6')][_0x3a7f('0x11d')](_0x480f56,_0x3a7f('0x4b')),this[_0x3a7f('0x11')](_0x3a7f('0xed'),_0x480f56,_0x11764c,_0x586bc5));}['_setSuggestionData'](_0x45a1e4){const _0x2ebb3d=_0x45a1e4['id'],_0x4ea73c=this['addSuggestionData'](_0x45a1e4);if(this[_0x3a7f('0x93')]&&this[_0x3a7f('0x93')][_0x3a7f('0x118')]){const _0x10106a=this[_0x3a7f('0x143')][_0x3a7f('0x3')][_0x3a7f('0xc8')](_0x3a7f('0xec')),_0x3b5ae1=_0x4ea73c['hasComments'],_0x19c27e=_0x4ea73c[_0x3a7f('0x140')]?_0x4ea73c[_0x3a7f('0x18')]+':'+_0x4ea73c['subType']:_0x4ea73c[_0x3a7f('0x18')],_0x28019b=this[_0x3a7f('0x143')][_0x3a7f('0x134')],_0x3def2e=_0x10106a[_0x3a7f('0xb4')](_0xdce868(_0x28019b,'PENDING_ACTION_SUGGESTION')),_0x488f35={'id':_0x2ebb3d,'type':_0x19c27e,'hasComments':_0x3b5ae1,'data':_0x45a1e4[_0x3a7f('0x12e')]||null,'originalSuggestionId':_0x45a1e4[_0x3a7f('0x11c')]||null,'attributes':_0x4ea73c[_0x3a7f('0x16')]};this[_0x3a7f('0x93')][_0x3a7f('0x118')](_0x488f35)[_0x3a7f('0x11b')](_0x57503b=>{_0x4ea73c[_0x3a7f('0x116')]=!0x0,_0x10106a[_0x3a7f('0x99')](_0x3def2e),_0x57503b&&_0x57503b['createdAt']&&(this['_suggestions'][_0x3a7f('0xc8')](_0x2ebb3d)[_0x3a7f('0x47')]=_0x57503b[_0x3a7f('0x47')]);})[_0x3a7f('0x98')](_0xee5d1a=>{throw _0x272082(_0x3a7f('0x37')),this[_0x3a7f('0x143')][_0x3a7f('0xe7')][_0x3a7f('0x142')]({'isUndoable':!0x1},()=>{_0x4ea73c['discard']();}),_0x4ea73c['stopListening'](),this[_0x3a7f('0x6f')][_0x3a7f('0xfc')](_0x4ea73c['id']),this[_0x3a7f('0xf6')][_0x3a7f('0xfc')](_0x4ea73c),_0xee5d1a;});}return _0x4ea73c;}[_0x3a7f('0x10e')](_0x5e428f,_0x46f8d7){const _0xeca181=this[_0x3a7f('0x143')][_0x3a7f('0x3')][_0x3a7f('0xc8')](_0x3a7f('0xec')),_0x5a3d1a=this[_0x3a7f('0x3c')](_0x5e428f);if(this[_0x3a7f('0x93')]&&this[_0x3a7f('0x93')][_0x3a7f('0xbe')]){if(_0x5a3d1a['_saved']){const _0x4ce78d=_0xeca181[_0x3a7f('0xb4')](_0xdce868(this[_0x3a7f('0x143')][_0x3a7f('0x134')],'PENDING_ACTION_SUGGESTION'));this[_0x3a7f('0x93')][_0x3a7f('0xbe')](_0x5e428f,_0x46f8d7)[_0x3a7f('0x11b')](()=>{_0xeca181['remove'](_0x4ce78d);});}else _0x5a3d1a['on'](_0x3a7f('0x1f'),()=>{this[_0x3a7f('0x10e')](_0x5e428f,_0x46f8d7);});}}[_0x3a7f('0x48')](_0x351ec8){if(!this[_0x3a7f('0x93')]||!this[_0x3a7f('0x93')][_0x3a7f('0x3c')])throw new _0x4c734e(_0x3a7f('0x101'),this);return this[_0x3a7f('0x93')][_0x3a7f('0x3c')](_0x351ec8);}[_0x3a7f('0x9c')](_0x44b453){const {id:_0x2f40f9,type:_0x12f3d6,subType:_0x26d087,authorId:_0x199448}=this['_splitMarkerName'](_0x44b453),_0x512ef7=this[_0x3a7f('0x6f')][_0x3a7f('0xc8')](_0x2f40f9)||this['_createSuggestion'](_0x12f3d6,_0x26d087,_0x2f40f9,_0x199448,{});switch(this[_0x3a7f('0x125')](_0x512ef7,_0x12f3d6,_0x26d087,_0x199448),this['_suggestionState'][_0x3a7f('0xc8')](_0x512ef7)){case _0x3a7f('0x10'):this[_0x3a7f('0x48')](_0x2f40f9)[_0x3a7f('0x11b')](_0x2322c7=>{let _0x326ddc=Promise['resolve']();_0x2322c7['hasComments']&&(_0x326ddc=this[_0x3a7f('0x141')][_0x3a7f('0x54')]({'channelId':this[_0x3a7f('0x143')][_0x3a7f('0x1b')]['get']('collaboration.channelId'),'threadId':_0x2f40f9})),_0x326ddc[_0x3a7f('0x11b')](()=>{this['addSuggestionData'](_0x2322c7)['_saved']=!0x0;});}),this[_0x3a7f('0xf6')][_0x3a7f('0x11d')](_0x512ef7,_0x3a7f('0x124'));break;case _0x3a7f('0x4b'):this[_0x3a7f('0x10e')](_0x2f40f9,{'state':'open'});case _0x3a7f('0x6c'):this[_0x3a7f('0xf6')][_0x3a7f('0x11d')](_0x512ef7,_0x3a7f('0x32')),this[_0x3a7f('0x11')](_0x3a7f('0xf9'),_0x512ef7);break;case _0x3a7f('0x32'):this[_0x3a7f('0x11')](_0x3a7f('0x12b'),_0x512ef7);}return _0x512ef7[_0x3a7f('0x9e')](_0x44b453),_0x512ef7;}['_refreshSuggestionsChain'](_0x57ecaf){const _0x42f4e5=Array[_0x3a7f('0xeb')](_0x57ecaf)[_0x3a7f('0x4')](_0x5db7ae=>!_0x5db7ae[_0x3a7f('0xfa')]),_0x182e44=this[_0x3a7f('0x83')]({'skipNotAttached':!0x0})[_0x3a7f('0x4')](_0x4407d8=>!_0x4407d8['isMultiRange']),_0x3708fd=_0x182e44[_0x3a7f('0x4')](_0x50f978=>!_0x57ecaf['has'](_0x50f978)),_0x49f6d8=new Map(_0x182e44[_0x3a7f('0x19')](_0x20941c=>[_0x20941c,this['_suggestionFactory'][_0x3a7f('0x12f')](_0x20941c[_0x3a7f('0x18')],_0x20941c['subType'],'chain')])),_0x4fcd36=new Map(_0x182e44[_0x3a7f('0x19')](_0x4da365=>[_0x4da365,_0x4da365[_0x3a7f('0x90')]()])),_0x4153b1=new Set(),_0x1a051a=new Set();for(let _0x3965f1=0x0;_0x3965f1<_0x42f4e5[_0x3a7f('0x30')];_0x3965f1++)_0x51e9ca(_0x42f4e5[_0x3965f1],_0x42f4e5,_0x3965f1+0x1);for(let _0x27b759=0x0;_0x27b759<_0x42f4e5[_0x3a7f('0x30')];_0x27b759++)_0x51e9ca(_0x42f4e5[_0x27b759],_0x3708fd,0x0);for(let _0x11d41a=0x0;_0x11d41a<_0x42f4e5[_0x3a7f('0x30')];_0x11d41a++){const _0x4dfbdc=_0x42f4e5[_0x11d41a];!_0x1a051a['has'](_0x4dfbdc)&&_0x4dfbdc[_0x3a7f('0x1d')]&&(_0x4dfbdc[_0x3a7f('0x1d')][_0x3a7f('0x136')]===_0x4dfbdc&&(_0x4dfbdc[_0x3a7f('0x1d')][_0x3a7f('0x136')]=null),_0x4dfbdc[_0x3a7f('0x1d')]=null),!_0x4153b1[_0x3a7f('0xc0')](_0x4dfbdc)&&_0x4dfbdc[_0x3a7f('0x136')]&&(_0x4dfbdc[_0x3a7f('0x136')][_0x3a7f('0x1d')]===_0x4dfbdc&&(_0x4dfbdc[_0x3a7f('0x136')][_0x3a7f('0x1d')]=null),_0x4dfbdc[_0x3a7f('0x136')]=null);}function _0x51e9ca(_0x2fa61e,_0x19ab4a,_0x207a33){for(let _0x4f30b7=_0x207a33;_0x4f30b7<_0x19ab4a[_0x3a7f('0x30')];_0x4f30b7++){const _0x23a6b7=_0x535df5(_0x2fa61e,_0x19ab4a[_0x4f30b7]);_0x23a6b7&&(_0x23a6b7[0x0][_0x3a7f('0x136')]=_0x23a6b7[0x1],_0x23a6b7[0x1][_0x3a7f('0x1d')]=_0x23a6b7[0x0],_0x4153b1[_0x3a7f('0xb4')](_0x23a6b7[0x0]),_0x1a051a['add'](_0x23a6b7[0x1]));}}function _0x535df5(_0x49a714,_0x59b719){if(_0x49a714[_0x3a7f('0x70')]['id']!==_0x59b719[_0x3a7f('0x70')]['id'])return null;const _0x511f0d=_0x49f6d8[_0x3a7f('0xc8')](_0x49a714)(_0x49a714,_0x59b719,_0x4fcd36[_0x3a7f('0xc8')](_0x49a714),_0x4fcd36[_0x3a7f('0xc8')](_0x59b719));if(!_0x511f0d)return null;return _0x49f6d8['get'](_0x59b719)(_0x49a714,_0x59b719,_0x4fcd36[_0x3a7f('0xc8')](_0x49a714),_0x4fcd36[_0x3a7f('0xc8')](_0x59b719))?_0x511f0d[0x1][_0x3a7f('0x2a')]&&_0x511f0d[0x1][_0x3a7f('0x2a')][_0x3a7f('0x30')]?null:_0x511f0d:null;}}[_0x3a7f('0x79')](_0x3fbc87){const _0x5e21bb=Array[_0x3a7f('0xeb')](_0x3fbc87),_0x12d642=this[_0x3a7f('0x83')]({'skipNotAttached':!0x0}),_0x2d2d04=_0x12d642[_0x3a7f('0x4')](_0x3f4157=>!_0x3fbc87[_0x3a7f('0xc0')](_0x3f4157)),_0xa6a014=new Map(_0x5e21bb['map'](_0xf31de2=>[_0xf31de2,this[_0x3a7f('0x135')][_0x3a7f('0x12f')](_0xf31de2[_0x3a7f('0x18')],_0xf31de2['subType'],_0x3a7f('0xac'))])),_0x591cee=new Map(_0x12d642[_0x3a7f('0x19')](_0x51ceb4=>[_0x51ceb4,_0x51ceb4[_0x3a7f('0xa0')]()]));for(let _0x3bc538=0x0;_0x3bc538<_0x5e21bb[_0x3a7f('0x30')];_0x3bc538++){if(_0x1e09d1(this,_0x5e21bb[_0x3bc538],_0x5e21bb,_0x3bc538+0x1))return!0x0;}for(let _0x48a00f=0x0;_0x48a00f<_0x5e21bb[_0x3a7f('0x30')];_0x48a00f++){if(_0x1e09d1(this,_0x5e21bb[_0x48a00f],_0x2d2d04,0x0))return!0x0;}return!0x1;function _0x1e09d1(_0x484699,_0x1c79f3,_0x4695ee,_0x51cfd1){for(let _0x5c45e7=_0x51cfd1;_0x5c45e7<_0x4695ee['length'];_0x5c45e7++){const _0x101b34=_0x4695ee[_0x5c45e7];if(_0x101b34['type']!==_0x1c79f3[_0x3a7f('0x18')]||_0x101b34['author']['id']!==_0x1c79f3[_0x3a7f('0x70')]['id']||_0x101b34[_0x3a7f('0x140')]!==_0x1c79f3[_0x3a7f('0x140')])continue;if(!xt(_0x1c79f3,_0x101b34))continue;const _0xa0b8a3=_0xa6a014[_0x3a7f('0xc8')](_0x1c79f3),_0xf0e575=_0x591cee[_0x3a7f('0xc8')](_0x1c79f3),_0x51e610=_0x591cee[_0x3a7f('0xc8')](_0x101b34),_0x23737a=_0x1c79f3[_0x3a7f('0x2a')]&&_0x1c79f3['commentThread']['length'],_0x38dd3a=_0x101b34[_0x3a7f('0x2a')]&&_0x101b34[_0x3a7f('0x2a')]['length'];if(!_0x23737a&&_0xa0b8a3(_0x51e610,_0xf0e575))return _0x484699[_0x3a7f('0x3d')](_0x101b34,_0x1c79f3),_0x591cee[_0x3a7f('0xfc')](_0x1c79f3),!0x0;if(!_0x38dd3a&&_0xa0b8a3(_0xf0e575,_0x51e610))return _0x484699[_0x3a7f('0x3d')](_0x1c79f3,_0x101b34),_0x591cee[_0x3a7f('0xfc')](_0x101b34),!0x0;}return!0x1;}}['_joinSuggestions'](_0x4f3706,_0x52a3a2){if(_0x4f3706['isMultiRange'])for(const _0x52795c of _0x52a3a2[_0x3a7f('0xa0')]())_0x4f3706[_0x3a7f('0x110')](_0x52795c);else{const _0x14badb=_0x52a3a2[_0x3a7f('0x90')]()[_0x3a7f('0x56')];this[_0x3a7f('0x44')](_0x4f3706,this['_model'][_0x3a7f('0x76')](_0x4f3706[_0x3a7f('0x90')]()[_0x3a7f('0x50')],_0x14badb));}_0x52a3a2[_0x3a7f('0xc3')]();}}class Dt{constructor(_0x479831){this['_editor']=_0x479831,this[_0x3a7f('0x9d')]=_0x479831['model'],this['_customCallbacks']=new Map(),this['_defaultCallbacks']=new Map(),this[_0x3a7f('0x94')]();}[_0x3a7f('0x52')](_0x36a770,_0x5c3e73,_0x2a06dc,_0x392193,_0x4954a4,_0x2d2b71){return new _0x28c196(this[_0x3a7f('0x9d')],{'type':_0x36a770,'subType':_0x5c3e73,'id':_0x2a06dc,'author':_0x392193,'creator':_0x392193,'attributes':_0x4954a4,'onAttributesChange':_0x2d2b71,'onAccept':(..._0x5a0069)=>this[_0x3a7f('0x12f')](_0x36a770,_0x5c3e73,'accept')(..._0x5a0069),'onDiscard':(..._0x5a640d)=>this['getSuggestionCallback'](_0x36a770,_0x5c3e73,'discard')(..._0x5a640d)});}['registerCustomCallback'](_0x4026dd,_0x1a8d32,_0x44e465,_0x41039c){const _0x3becf2=_0x4026dd+':'+_0x1a8d32+':'+_0x44e465;this[_0x3a7f('0x117')][_0x3a7f('0x11d')](_0x3becf2,_0x41039c);}[_0x3a7f('0x12f')](_0x10ab19,_0x102b59,_0x2a6883){const _0x417d42=_0x10ab19+':'+_0x102b59+':'+_0x2a6883;return this[_0x3a7f('0x117')]['get'](_0x417d42)||this[_0x3a7f('0x2c')]['get'](_0x10ab19+':'+_0x2a6883);}[_0x3a7f('0x94')](){const _0x2580ae=()=>!0x1,_0x2d14bc=_0x284c69=>{_0x284c69[_0x3a7f('0x55')]((_0x3ca27d,_0x318592)=>_0x3ca27d['start']['isBefore'](_0x318592[_0x3a7f('0x50')])?0x1:-0x1),this['_model']['change'](_0x1e1f7f=>{for(const _0x44dcc8 of _0x284c69){let _0xe7ba11;_0xe7ba11=_0x44dcc8[_0x3a7f('0x56')][_0x3a7f('0x4c')]&&_0x44dcc8[_0x3a7f('0x56')][_0x3a7f('0x10a')]==_0x44dcc8[_0x3a7f('0x50')][_0x3a7f('0x10d')]?_0x1e1f7f[_0x3a7f('0x1c')](_0x44dcc8[_0x3a7f('0x50')][_0x3a7f('0x10d')],'on'):_0x1e1f7f['createSelection'](_0x44dcc8),this[_0x3a7f('0x9d')][_0x3a7f('0xf')](_0xe7ba11,{'forceDefaultExecution':!0x0,'doNotAutoparagraph':!0x0});}});},_0x2562c2=(_0x10fe28,_0x59dd69)=>{this[_0x3a7f('0x9d')][_0x3a7f('0x5e')](_0x23b2f4=>{const {commandName:_0x52f368,commandParams:_0x3e2ba0=[]}=_0x59dd69,_0x4364cb=_0x10fe28[_0x3a7f('0x19')](_0x319cb1=>(_t(_0x319cb1)&&(_0x319cb1=this[_0x3a7f('0x9d')]['createRange'](_0x319cb1[_0x3a7f('0x56')])),_0x319cb1))[_0x3a7f('0x4')](_0x283e21=>_0x3a7f('0xb7')!==_0x283e21[_0x3a7f('0x29')][_0x3a7f('0x9b')]);if(_0x4364cb[_0x3a7f('0x30')]<0x1)return;const _0x20cd9b=Array[_0x3a7f('0xeb')](this[_0x3a7f('0x9d')][_0x3a7f('0xcd')]['selection']['getRanges']())['map'](_0x11f069=>_0x55d7ae[_0x3a7f('0xf5')](_0x11f069));_0x23b2f4[_0x3a7f('0x34')](_0x4364cb);for(const _0x387d4b of this[_0x3a7f('0x113')][_0x3a7f('0xfd')]['commands']())_0x387d4b['refresh']();_0x3e2ba0['push']({'forceDefaultExecution':!0x0}),this[_0x3a7f('0x113')][_0x3a7f('0xe4')](_0x52f368,..._0x3e2ba0);const _0x27cf09=_0x20cd9b[_0x3a7f('0x4')](_0x5c06cd=>_0x3a7f('0xb7')!=_0x5c06cd[_0x3a7f('0x29')]['rootName']);_0x27cf09[_0x3a7f('0x30')]>0x0&&_0x23b2f4[_0x3a7f('0x34')](_0x27cf09);for(const _0xd98b0 of _0x20cd9b)_0xd98b0[_0x3a7f('0x7d')]();});},_0xc2b325=(_0x56733e,_0xd6b78f)=>0x1==_0x56733e[_0x3a7f('0x30')]&&0x1==_0xd6b78f['length']&&_0x56733e[0x0]['end']['isEqual'](_0xd6b78f[0x0][_0x3a7f('0x50')]),_0x461e13=(_0x5de5c4,_0xc54a54,_0x498096,_0x2aefb5)=>jt(_0x5de5c4,_0xc54a54,_0x498096,_0x2aefb5,this[_0x3a7f('0x9d')])?[_0x5de5c4,_0xc54a54]:jt(_0xc54a54,_0x5de5c4,_0x2aefb5,_0x498096,this[_0x3a7f('0x9d')])?[_0xc54a54,_0x5de5c4]:null;this[_0x3a7f('0x2c')][_0x3a7f('0x11d')](_0x3a7f('0x75'),_0x2580ae),this[_0x3a7f('0x2c')]['set'](_0x3a7f('0xf0'),_0x2d14bc),this[_0x3a7f('0x2c')]['set'](_0x3a7f('0xd8'),_0xc2b325),this['_defaultCallbacks'][_0x3a7f('0x11d')](_0x3a7f('0x11e'),_0x461e13),this[_0x3a7f('0x2c')][_0x3a7f('0x11d')]('deletion:accept',_0x2d14bc),this[_0x3a7f('0x2c')][_0x3a7f('0x11d')](_0x3a7f('0x8f'),_0x2580ae),this[_0x3a7f('0x2c')][_0x3a7f('0x11d')](_0x3a7f('0x11a'),_0xc2b325),this[_0x3a7f('0x2c')][_0x3a7f('0x11d')](_0x3a7f('0x97'),_0x461e13),this[_0x3a7f('0x2c')][_0x3a7f('0x11d')](_0x3a7f('0x91'),_0x2562c2),this[_0x3a7f('0x2c')][_0x3a7f('0x11d')](_0x3a7f('0xdc'),_0x2580ae),this[_0x3a7f('0x2c')][_0x3a7f('0x11d')]('formatInline:join',_0xc2b325),this['_defaultCallbacks'][_0x3a7f('0x11d')](_0x3a7f('0x61'),_0x2580ae),this[_0x3a7f('0x2c')][_0x3a7f('0x11d')](_0x3a7f('0x8b'),_0x2562c2),this[_0x3a7f('0x2c')][_0x3a7f('0x11d')]('formatBlock:discard',_0x2580ae),this[_0x3a7f('0x2c')][_0x3a7f('0x11d')](_0x3a7f('0xae'),_0xc2b325),this['_defaultCallbacks'][_0x3a7f('0x11d')](_0x3a7f('0x130'),_0x2580ae);}}function Bt(_0x2f6fb0,_0x5cd76f,_0x206552){for(const _0x216aa8 of _0x5cd76f[_0x3a7f('0x10a')][_0x3a7f('0x6e')]({'includeSelf':!0x0,'parentFirst':!0x0})){if(_0x216aa8[_0x3a7f('0x29')]==_0x216aa8)return!0x1;if(!_0x206552[_0x3a7f('0x3b')](_0x216aa8))return!0x1;if(_0x2f6fb0[_0x3a7f('0xa1')](_0x216aa8)||_0x2f6fb0[_0x3a7f('0xd1')](_0x216aa8))return!0x0;}return!0x1;}function _t(_0x123e73){return _0x123e73[_0x3a7f('0x56')][_0x3a7f('0x10a')]==_0x123e73[_0x3a7f('0x50')][_0x3a7f('0x10d')]&&_0x123e73[_0x3a7f('0x56')]['isAtStart'];}function Mt(_0xeb7ce3,_0x350e1d,_0x4cd676,_0x440ca7){const _0x4503a3=_0x4ad7ea=>!_0x4ad7ea[_0x3a7f('0x39')]['is'](_0x3a7f('0x13d'))&&!_0x440ca7['isObject'](_0x4ad7ea[_0x3a7f('0x39')]),_0x526e18=_0xeb7ce3['start']['getLastMatchingPosition'](_0x4503a3),_0x33f9c8=_0xeb7ce3[_0x3a7f('0x56')][_0x3a7f('0x5b')](_0x4503a3,{'direction':_0x3a7f('0x12')});return(!_0xeb7ce3['start'][_0x3a7f('0xd5')](_0x526e18)||!_0xeb7ce3[_0x3a7f('0x56')][_0x3a7f('0xd5')](_0x33f9c8))&&(_0x526e18[_0x3a7f('0xf7')](_0x33f9c8)?_0x4cd676[_0x3a7f('0x4d')](_0x350e1d,{'range':_0x4cd676['createRange'](_0x526e18,_0x33f9c8)}):_0x4cd676[_0x3a7f('0x1e')](_0x350e1d),!0x0);}function $t(_0xa893cf){return _0xf1b0e5(_0xa893cf);}function Nt(_0x31b920){const _0x518915=_0x31b920[_0x3a7f('0x50')][_0x3a7f('0x10d')];return _0x518915&&_0x518915['is'](_0x3a7f('0x4f'));}function Rt(_0x3509ca,_0x2b697b){const _0x37f633=_0x2b697b[_0x3a7f('0x8c')][_0x3a7f('0xa1')](_0x3509ca)||_0x2b697b[_0x3a7f('0x8c')][_0x3a7f('0xcf')](_0x3509ca);return _0x2b697b[_0x3a7f('0x76')](_0x2b697b['createPositionAt'](_0x3509ca,_0x3a7f('0x42')),_0x37f633?_0x2b697b['createPositionAfter'](_0x3509ca):_0x2b697b['createPositionAt'](_0x3509ca,_0x3a7f('0x56')));}function jt(_0x2798f7,_0x30a42d,_0x4e553f,_0x49b2b0,_0xb62de8){if(!xt(_0x2798f7,_0x30a42d))return!0x1;if(_0x4e553f[_0x3a7f('0x56')][_0x3a7f('0xd5')](_0x49b2b0[_0x3a7f('0x50')]))return!0x0;if(_0x2798f7[_0x3a7f('0x18')]!=_0x30a42d['type'])return!0x1;if(!_0x4e553f['end'][_0x3a7f('0xc5')](_0x49b2b0[_0x3a7f('0x50')]))return!0x1;const _0xf98f07=_0xb62de8[_0x3a7f('0x76')](_0x4e553f[_0x3a7f('0x56')],_0x49b2b0[_0x3a7f('0x50')])[_0x3a7f('0x89')]();for(const _0x3cb3bf of _0xf98f07)if(['elementStart','elementEnd']['includes'](_0x3cb3bf['type'])&&_0xb62de8['schema'][_0x3a7f('0xd1')](_0x3cb3bf[_0x3a7f('0x39')]))return!0x1;return!0x0;}function xt(_0x16e4f6,_0x204805){return!(!_0x16e4f6[_0x3a7f('0xe1')]||!_0x204805[_0x3a7f('0xe1')])&&_0x36a598(_0x16e4f6[_0x3a7f('0x16')],_0x204805['attributes']);}function Ut(_0x2018aa,_0x45e1b1){const _0x3c5db4=Ot(_0x2018aa[_0x3a7f('0x16')]),_0x35c76a=Ot(_0x45e1b1);if(!_0x2018aa[_0x3a7f('0xe1')])return!0x1;for(const _0x296ba0 of Object[_0x3a7f('0x80')](_0x35c76a))if(!_0x36a598(_0x3c5db4[_0x296ba0],_0x35c76a[_0x296ba0]))return!0x1;return!0x0;}function Ot(_0x3de5d1){const _0x5e1c3a=Object[_0x3a7f('0x121')]({},_0x3de5d1);return delete _0x5e1c3a[_0x3a7f('0x104')],delete _0x5e1c3a[_0x3a7f('0x74')],_0x5e1c3a;}