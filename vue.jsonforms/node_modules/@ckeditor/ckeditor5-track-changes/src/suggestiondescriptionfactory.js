/*
 *             Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x3ba2=['previousSibling','registerDescriptionCallback','pop','quantity','Object','add','push','function','_resolveDescriptionItems','_itemLabelsCallbacks','$1\x20$2','text','getFirstRange','Container','*Merge:*\x20%0','replace','deletion','isEqual','addEmptyContainer','removeEmptyContainer','_schema','type','data','checkChild','name','remove','matchingCallback','_itemLabels','nextSibling','addContainer','isEmpty','elementEnd','_addDescriptionItems','insertion','isInContent','_customCallbacks','label','normal','getItemLabel','registerElementLabel','get','softBreak','isObject','elementStart','*Insert:*\x20%0','EmptyContainer','length','*Remove:*\x20%0','end','*Split:*\x20%0','start','ELEMENT_SPACE','match','indexOf','element','_locale'];(function(_0x3fcb39,_0x3ba227){const _0x322b00=function(_0x4a9913){while(--_0x4a9913){_0x3fcb39['push'](_0x3fcb39['shift']());}};_0x322b00(++_0x3ba227);}(_0x3ba2,0x170));const _0x322b=function(_0x3fcb39,_0x3ba227){_0x3fcb39=_0x3fcb39-0x0;let _0x322b00=_0x3ba2[_0x3fcb39];return _0x322b00;};import{getTranslation as _0x3b225d}from'./utils/common-translations';import{priorities as _0x51e3da,insertToPriorityArray as _0x50678a}from'ckeditor5/src/utils';export default class m{constructor(_0x4f182a,_0x47632d){this[_0x322b('0x3')]=[],this[_0x322b('0x33')]=new Map(),this['_itemLabelsCallbacks']=[],this[_0x322b('0x2c')]=_0x4f182a,this[_0x322b('0x17')]=_0x47632d;}['getDescriptions'](_0x36f7e1){const _0x4829e2=[];for(let _0x183e96=0x0;_0x183e96<_0x36f7e1[_0x322b('0xe')];_0x183e96++){const _0x31deb3=_0x36f7e1[_0x183e96];if(!_0x31deb3[_0x322b('0x2')])continue;let _0x1ded54=!0x1;for(const _0x83374a of this[_0x322b('0x3')]){const _0x57159c=_0x83374a(_0x31deb3);if(_0x57159c){_0x322b('0x2d')in _0x57159c&&_0x4829e2[_0x322b('0x1e')](_0x57159c),_0x1ded54=!0x0;break;}}if(!_0x1ded54){this[_0x322b('0x0')](_0x4829e2,_0x31deb3);const _0x5cdc17=_0x36f7e1[_0x183e96+0x1];if(_0x5cdc17&&!_0x31deb3[_0x322b('0x24')]()[_0x322b('0x10')][_0x322b('0x29')](_0x5cdc17[_0x322b('0x24')]()[_0x322b('0x12')])){const _0x465a8e=_0x4829e2[_0x4829e2['length']-0x1],_0x8d2766=_0x322b('0x1')==_0x31deb3['type']?_0x322b('0x1d'):'remove';_0x465a8e&&_0x322b('0x23')==_0x465a8e[_0x322b('0x2d')]&&(_0x465a8e[_0x8d2766]+='\x0a');}}}return this[_0x322b('0x20')](_0x4829e2);}[_0x322b('0x19')](_0x570019){this[_0x322b('0x3')][_0x322b('0x1e')](_0x570019);}[_0x322b('0x7')](_0x160fe,_0x51b9f5,_0x541b57=_0x51e3da[_0x322b('0x5')]){_0x322b('0x1f')==typeof _0x160fe?_0x50678a(this['_itemLabelsCallbacks'],{'matchingCallback':_0x160fe,'label':_0x51b9f5,'priority':_0x541b57}):this[_0x322b('0x33')]['set'](_0x160fe,_0x51b9f5);}[_0x322b('0x6')](_0x156505,_0x3ba74c=0x1){let _0x514952;for(const _0x792dc8 of this[_0x322b('0x21')])if(_0x792dc8[_0x322b('0x32')](_0x156505)){_0x514952=_0x792dc8[_0x322b('0x4')];break;}return _0x514952||(_0x514952=this[_0x322b('0x33')][_0x322b('0x8')](_0x156505['name'])),_0x514952?_0x514952(_0x3ba74c):0x1!==_0x3ba74c?_0x3ba74c+'\x20'+_0x156505['name']+'s':''+_0x156505[_0x322b('0x30')];}[_0x322b('0x0')](_0x56113c,_0x36b72a){const _0x3744f4=_0x36b72a['getFirstRange']()['getWalker'](),_0x59bc60=_0x322b('0x1')==_0x36b72a[_0x322b('0x2d')]?_0x322b('0x1d'):'remove';for(const _0x32362d of _0x3744f4){const _0x371263=_0x32362d['item'],_0x1233f5=_0x56113c[_0x56113c[_0x322b('0xe')]-0x1];if(_0x371263['is']('$textProxy'))_0x1233f5&&_0x1233f5[_0x322b('0x2d')][_0x322b('0x15')]('Container')>-0x1&&_0x56113c[_0x322b('0x1a')](),_0x1233f5&&_0x322b('0x23')==_0x1233f5[_0x322b('0x2d')]?_0x1233f5[_0x59bc60]+=_0x371263[_0x322b('0x2e')]:_0x56113c['push']({'type':_0x322b('0x23'),'add':_0x322b('0x1d')==_0x59bc60?_0x371263['data']:'','remove':_0x322b('0x31')==_0x59bc60?_0x371263['data']:''});else{if(this[_0x322b('0x2c')][_0x322b('0xa')](_0x371263)){const _0xb90fda=_0x371263;if(_0x1233f5&&_0x1233f5[_0x322b('0x2d')][_0x322b('0x15')](_0x322b('0x25'))>-0x1&&_0x56113c[_0x322b('0x1a')](),_0x322b('0x37')==_0x32362d[_0x322b('0x2d')])continue;_0x1233f5&&_0x1233f5[_0x322b('0x2d')]==_0x59bc60+'Object'&&_0x1233f5[_0x322b('0x16')]['name']==_0xb90fda[_0x322b('0x30')]?_0x1233f5[_0x322b('0x1b')]++:_0x56113c[_0x322b('0x1e')]({'type':_0x59bc60+_0x322b('0x1c'),'element':_0xb90fda,'quantity':0x1}),_0x3744f4['skip'](_0x2a6932=>!('elementEnd'==_0x2a6932['type']&&_0x2a6932['item']==_0x371263));}else{if(this['_schema'][_0x322b('0x2f')](_0x371263,'$text')||_0x371263['is'](_0x322b('0x16'),_0x322b('0x9'))){const _0xacd1f=_0x371263;if(_0x322b('0x1d')==_0x59bc60&&_0x322b('0xb')==_0x32362d[_0x322b('0x2d')]||_0x322b('0x31')==_0x59bc60&&_0x322b('0x37')==_0x32362d[_0x322b('0x2d')])continue;if(_0x1233f5&&-0x1==_0x1233f5[_0x322b('0x2d')][_0x322b('0x15')]('Container')){_0x322b('0x23')==_0x1233f5[_0x322b('0x2d')]&&(_0x1233f5[_0x59bc60]+='\x0a');continue;}let _0xadb7cc;if(_0xadb7cc=_0x322b('0x1d')==_0x59bc60?_0xacd1f['nextSibling']&&!this[_0x322b('0x2c')][_0x322b('0xa')](_0xacd1f[_0x322b('0x34')])?_0xacd1f['nextSibling']:null:_0xacd1f[_0x322b('0x18')]&&!this[_0x322b('0x2c')]['isObject'](_0xacd1f[_0x322b('0x18')])?_0xacd1f['previousSibling']:null,_0xacd1f[_0x322b('0x36')]||_0xadb7cc&&_0xadb7cc['isEmpty']){const _0x111759=_0xadb7cc&&_0xadb7cc[_0x322b('0x36')]?_0xadb7cc:_0xacd1f;_0x1233f5&&_0x1233f5[_0x322b('0x2d')]==_0x59bc60+_0x322b('0xd')&&_0x1233f5[_0x322b('0x16')][_0x322b('0x30')]==_0x111759[_0x322b('0x30')]?_0x1233f5[_0x322b('0x1b')]++:_0x56113c[_0x322b('0x1e')]({'type':_0x59bc60+_0x322b('0xd'),'element':_0x111759,'quantity':0x1});}else _0x56113c[_0x322b('0x1e')]({'type':_0x59bc60+'Container','element':_0xacd1f});}}}}}[_0x322b('0x20')](_0x4dea54){const _0x4e07e1=this[_0x322b('0x17')],_0x2d5b62=[];for(const _0x3bc475 of _0x4dea54){switch(_0x3bc475['type']){case _0x322b('0x23'):if(_0x3bc475[_0x322b('0x1d')]=_0x3bc475[_0x322b('0x1d')]['replace'](/(\S)\u000A+(\S)/g,_0x322b('0x22'))[_0x322b('0x27')](/\u000A/g,''),_0x3bc475[_0x322b('0x31')]=_0x3bc475[_0x322b('0x31')]['replace'](/(\S)\u000A+(\S)/g,_0x322b('0x22'))[_0x322b('0x27')](/\u000A/g,''),''!=_0x3bc475[_0x322b('0x1d')]&&''!=_0x3bc475[_0x322b('0x31')]){_0x2d5b62[_0x322b('0x1e')]({'type':_0x322b('0x27'),'content':_0x3b225d(_0x4e07e1,'REPLACE_TEXT',['\x22'+_0x3bc475[_0x322b('0x31')]+'\x22','\x22'+_0x3bc475[_0x322b('0x1d')]+'\x22'])});continue;}if(null!=_0x3bc475[_0x322b('0x1d')][_0x322b('0x14')](/^ +$/)){_0x2d5b62[_0x322b('0x1e')]({'type':_0x322b('0x1'),'content':_0x3b225d(_0x4e07e1,_0x322b('0xc'),_0x3b225d(_0x4e07e1,_0x322b('0x13'),_0x3bc475[_0x322b('0x1d')][_0x322b('0xe')]))});continue;}if(null!=_0x3bc475[_0x322b('0x31')][_0x322b('0x14')](/^ +$/)){_0x2d5b62[_0x322b('0x1e')]({'type':'deletion','content':_0x3b225d(_0x4e07e1,_0x322b('0xf'),_0x3b225d(_0x4e07e1,_0x322b('0x13'),_0x3bc475[_0x322b('0x31')]['length']))});continue;}if(''!=_0x3bc475[_0x322b('0x1d')]){_0x2d5b62[_0x322b('0x1e')]({'type':_0x322b('0x1'),'content':_0x3b225d(_0x4e07e1,_0x322b('0xc'),'\x22'+_0x3bc475['add']+'\x22')});continue;}_0x2d5b62[_0x322b('0x1e')]({'type':_0x322b('0x28'),'content':_0x3b225d(_0x4e07e1,_0x322b('0xf'),'\x22'+_0x3bc475[_0x322b('0x31')]+'\x22')});continue;case _0x322b('0x2a'):case'addObject':_0x2d5b62['push']({'type':_0x322b('0x1'),'content':_0x3b225d(_0x4e07e1,'*Insert:*\x20%0',this[_0x322b('0x6')](_0x3bc475[_0x322b('0x16')],_0x3bc475[_0x322b('0x1b')]))});continue;case _0x322b('0x2b'):case'removeObject':_0x2d5b62[_0x322b('0x1e')]({'type':_0x322b('0x28'),'content':_0x3b225d(_0x4e07e1,'*Remove:*\x20%0',this[_0x322b('0x6')](_0x3bc475['element'],_0x3bc475['quantity']))});continue;case _0x322b('0x35'):_0x2d5b62[_0x322b('0x1e')]({'type':_0x322b('0x1'),'content':_0x3b225d(_0x4e07e1,_0x322b('0x11'),this[_0x322b('0x6')](_0x3bc475[_0x322b('0x16')],_0x3bc475[_0x322b('0x1b')]))});continue;case'removeContainer':_0x2d5b62['push']({'type':'deletion','content':_0x3b225d(_0x4e07e1,_0x322b('0x26'),this[_0x322b('0x6')](_0x3bc475[_0x322b('0x16')],_0x3bc475[_0x322b('0x1b')]))});continue;}_0x2d5b62[_0x322b('0x1e')](_0x3bc475);}return _0x2d5b62;}}