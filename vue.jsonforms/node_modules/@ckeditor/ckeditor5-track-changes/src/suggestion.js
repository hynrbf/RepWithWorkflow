/*
 *             Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x25f9=['author','nodeAfter','get','_markerNames','createdAt','authoredAt','attributes','toJSON','hasComments','getMarkers','next','length','getRange','creator','commentThread','map','onAttributesChange','previous','discard','getContainedElement','end','set','_isDataLoaded','onDiscard','split','head','delete','getItems','addMarkerName','isIntersecting','_saved','reduce','addRange','getMultiRangeId','data','_model','setAttribute','add','isExternal','change','from','nodeBefore','removeAttribute','substr','decorate','getFirstMarker','type','accept','_onAccept','removeMarker','getMarkerNames','clear','subType','isIntersectingWithRange','size','getAllAdjacentSuggestions','markers','@external','removeMarkers','_onDiscard','filter','_onAttributesChange','getRanges'];(function(_0x3d4d1d,_0x25f9dd){const _0x2bafac=function(_0xbb8e1c){while(--_0xbb8e1c){_0x3d4d1d['push'](_0x3d4d1d['shift']());}};_0x2bafac(++_0x25f9dd);}(_0x25f9,0x165));const _0x2baf=function(_0x3d4d1d,_0x25f9dd){_0x3d4d1d=_0x3d4d1d-0x0;let _0x2bafac=_0x25f9[_0x3d4d1d];return _0x2bafac;};import{Element as _0x194ccb}from'ckeditor5/src/engine';import{ObservableMixin as _0x411fc0,uid as _0xd8f5c4}from'ckeditor5/src/utils';import{cloneDeep as _0x2c855c,isEqual as _0x59a9e2,set as _0x547294,unset as _0x3164c1}from'lodash-es';export default class u extends _0x411fc0(){constructor(_0x4a9210,_0x19e273){super(),this[_0x2baf('0x2b')]=!0x1,this['id']=_0x19e273['id'],this[_0x2baf('0x4')]=_0x19e273[_0x2baf('0x4')],this['subType']=_0x19e273[_0x2baf('0xa')]||null,this[_0x2baf('0x15')]=_0x19e273[_0x2baf('0x15')],this['creator']=_0x19e273[_0x2baf('0x22')]||_0x19e273['author'],this[_0x2baf('0x3b')]=Boolean(_0x19e273[_0x2baf('0x1b')]&&_0x19e273[_0x2baf('0x1b')][_0x2baf('0xf')]),this[_0x2baf('0x37')]=null,this[_0x2baf('0x38')]=_0x4a9210,this[_0x2baf('0x6')]=_0x19e273['onAccept'],this[_0x2baf('0x11')]=_0x19e273[_0x2baf('0x2c')],this[_0x2baf('0x13')]=_0x19e273[_0x2baf('0x25')],this[_0x2baf('0x18')]=new Set(),this[_0x2baf('0x19')]=null,this[_0x2baf('0x2a')](_0x2baf('0x1a'),null),this[_0x2baf('0x2a')]('attributes',_0x19e273[_0x2baf('0x1b')]||{}),this[_0x2baf('0x2a')]('previous',null),this[_0x2baf('0x2a')](_0x2baf('0x1f'),null),this[_0x2baf('0x2a')](_0x2baf('0x23'),null),this['set'](_0x2baf('0x33'),!0x1),this[_0x2baf('0x2')](_0x2baf('0x5')),this[_0x2baf('0x2')](_0x2baf('0x27'));}get[_0x2baf('0x2e')](){let _0x979603=this;for(;_0x979603[_0x2baf('0x26')];)_0x979603=_0x979603[_0x2baf('0x26')];return _0x979603;}get[_0x2baf('0x1d')](){return!!this[_0x2baf('0x23')]&&this[_0x2baf('0x23')][_0x2baf('0x20')]>0x0;}get['isMultiRange'](){if(0x0==this[_0x2baf('0x18')][_0x2baf('0xc')])return!0x1;return 0x6==Array['from'](this[_0x2baf('0x18')])[0x0][_0x2baf('0x2d')](':')[_0x2baf('0x20')];}get['isInContent'](){return null!==this['getFirstMarker']();}[_0x2baf('0x31')](_0x3b2c78){this[_0x2baf('0x18')][_0x2baf('0x3a')](_0x3b2c78);}[_0x2baf('0x8')](){return Array[_0x2baf('0x3d')](this[_0x2baf('0x18')]);}['getMarkers'](){return this[_0x2baf('0x8')]()[_0x2baf('0x24')](_0x5e4dda=>this[_0x2baf('0x38')][_0x2baf('0xe')][_0x2baf('0x17')](_0x5e4dda))[_0x2baf('0x12')](_0xe1c696=>_0xe1c696);}[_0x2baf('0x3')](){return this[_0x2baf('0x1e')]()[0x0]||null;}[_0x2baf('0x10')](){this[_0x2baf('0x38')][_0x2baf('0x3c')](_0x178c42=>{for(const _0x4716f4 of this['getMarkers']())_0x178c42[_0x2baf('0x7')](_0x4716f4);}),this[_0x2baf('0x18')][_0x2baf('0x9')]();}[_0x2baf('0x7')](_0x5437ea){this[_0x2baf('0x38')][_0x2baf('0x3c')](_0x10e6dd=>{_0x10e6dd[_0x2baf('0x7')](_0x5437ea);}),this[_0x2baf('0x18')][_0x2baf('0x2f')](_0x5437ea);}[_0x2baf('0x35')](_0xf401e7){const _0x39c097='suggestion:'+this[_0x2baf('0x4')]+':'+this['subType']+':'+this['id']+':'+this[_0x2baf('0x22')]['id']+':'+u[_0x2baf('0x36')]();this[_0x2baf('0x31')](_0x39c097),this['_model'][_0x2baf('0x3c')](_0x2aae07=>{_0x2aae07['addMarker'](_0x39c097,{'range':_0xf401e7,'usingOperation':!0x0,'affectsData':!0x0});});}[_0x2baf('0xb')](_0x29f23a){for(const _0x1bbbf2 of this[_0x2baf('0x14')]())if(_0x1bbbf2[_0x2baf('0x32')](_0x29f23a))return!0x0;return!0x1;}[_0x2baf('0x14')](){return this[_0x2baf('0x1e')]()[_0x2baf('0x24')](_0x47504d=>_0x47504d[_0x2baf('0x21')]());}[_0x2baf('0x30')](){return this[_0x2baf('0x14')]()[_0x2baf('0x34')]((_0x4f2ae9,_0xf4ba7f)=>[..._0x4f2ae9,..._0xf4ba7f[_0x2baf('0x30')]()],[]);}['getFirstRange'](){var _0x5ba773;return(null===(_0x5ba773=this['getFirstMarker']())||void 0x0===_0x5ba773?void 0x0:_0x5ba773[_0x2baf('0x21')]())||null;}[_0x2baf('0x28')](){const _0x3d5eee=this[_0x2baf('0x14')]();if(0x1!=_0x3d5eee[_0x2baf('0x20')])return null;const _0x1615e4=_0x3d5eee[0x0],_0x39c5d0=_0x1615e4['start'][_0x2baf('0x16')],_0x567d71=_0x1615e4[_0x2baf('0x29')][_0x2baf('0x3e')];return _0x39c5d0 instanceof _0x194ccb?_0x39c5d0!=_0x567d71?null:_0x39c5d0:null;}['accept'](){this[_0x2baf('0x6')](this['getRanges'](),this[_0x2baf('0x37')],this[_0x2baf('0x1b')]),this['removeMarkers']();}[_0x2baf('0x27')](){this['_onDiscard'](this[_0x2baf('0x14')](),this['data'],this[_0x2baf('0x1b')]),this['removeMarkers']();}[_0x2baf('0xd')](){const _0x13f31c=[];let _0x428e13=this[_0x2baf('0x2e')];for(;_0x428e13;)_0x13f31c['push'](_0x428e13),_0x428e13=_0x428e13[_0x2baf('0x1f')];return _0x13f31c;}[_0x2baf('0x39')](_0x5944aa,_0xcfdb20){const _0x3bbaf6=_0x2c855c(this['attributes']);_0x547294(_0x3bbaf6,_0x5944aa,_0xcfdb20),_0x59a9e2(_0x3bbaf6,this[_0x2baf('0x1b')])||(this[_0x2baf('0x1b')]=_0x3bbaf6,this['_onAttributesChange'](_0x3bbaf6));}[_0x2baf('0x0')](_0x33f811){const _0x309a9e=_0x2c855c(this['attributes']);_0x3164c1(_0x309a9e,_0x33f811),_0x59a9e2(_0x309a9e,this[_0x2baf('0x1b')])||(this[_0x2baf('0x1b')]=_0x309a9e,this[_0x2baf('0x13')](this['attributes']));}[_0x2baf('0x1c')](){return{'id':this['id'],'type':this[_0x2baf('0xa')]?this[_0x2baf('0x4')]+':'+this[_0x2baf('0xa')]:this[_0x2baf('0x4')],'authorId':this[_0x2baf('0x22')]['id'],'createdAt':this['createdAt'],'hasComments':this[_0x2baf('0x1d')],'data':this[_0x2baf('0x37')],'attributes':this['attributes']};}static[_0x2baf('0x36')](){return _0xd8f5c4()[_0x2baf('0x1')](0x1,0x5);}}