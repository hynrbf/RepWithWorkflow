/*
 *             Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x5e7b=['getFirstPosition','format','plugins','enableCommand','_descriptionFactory','commandParams','isCollapsed','editor','document','getRanges','markInlineFormat','hasAttribute','commandName','afterInit','LinkEditing','getAttribute','unlink','locale','from','has','model','selection','getFirstRange','link','linkHref','*Remove\x20link*'];(function(_0x35c460,_0x5e7bfb){const _0x120cc5=function(_0x3a7f84){while(--_0x3a7f84){_0x35c460['push'](_0x35c460['shift']());}};_0x120cc5(++_0x5e7bfb);}(_0x5e7b,0x146));const _0x120c=function(_0x35c460,_0x5e7bfb){_0x35c460=_0x35c460-0x0;let _0x120cc5=_0x5e7b[_0x35c460];return _0x120cc5;};import{Plugin as _0x1f7cc5}from'ckeditor5/src/core';import{findAttributeRange as _0x5a37a0}from'ckeditor5/src/typing';import{getRangesWithAttribute as _0x4cad24}from'./utils';import{getTranslation as _0x31c665}from'../utils/common-translations';export default class et extends _0x1f7cc5{[_0x120c('0x19')](){const _0x85c61b=this[_0x120c('0x13')];if(!_0x85c61b[_0x120c('0xe')][_0x120c('0x5')](_0x120c('0x0')))return;const _0x19fa94=_0x85c61b[_0x120c('0xe')]['get']('TrackChangesEditing');_0x19fa94[_0x120c('0xf')](_0x120c('0x9'),(_0x236c41,_0xce1871)=>{const _0x54c6fd=_0x85c61b[_0x120c('0x6')][_0x120c('0x14')][_0x120c('0x7')];let _0x48d633=[];if(_0x54c6fd[_0x120c('0x12')]){if(!_0x54c6fd[_0x120c('0x17')](_0x120c('0xa')))return void _0x236c41(_0xce1871);{const _0x21571f=_0x5a37a0(_0x54c6fd[_0x120c('0xc')](),_0x120c('0xa'),_0x54c6fd[_0x120c('0x1')](_0x120c('0xa')),_0x85c61b[_0x120c('0x6')]);_0x48d633=[_0x21571f];}}else _0x48d633=Array[_0x120c('0x4')](_0x54c6fd[_0x120c('0x15')]());_0x85c61b[_0x120c('0x6')]['change'](()=>{for(const _0x1c2176 of _0x48d633)_0x19fa94[_0x120c('0x16')](_0x1c2176,{'commandName':_0x120c('0x9'),'commandParams':[_0xce1871]});});}),_0x19fa94['enableCommand'](_0x120c('0x2'),()=>{const _0x542ae0=this['editor'][_0x120c('0x6')],_0x2a33ac=_0x542ae0[_0x120c('0x14')][_0x120c('0x7')];_0x542ae0['change'](()=>{let _0x626e5a=[];if(_0x2a33ac[_0x120c('0x12')])_0x626e5a=[_0x5a37a0(_0x2a33ac[_0x120c('0xc')](),'linkHref',_0x2a33ac[_0x120c('0x1')](_0x120c('0xa')),_0x85c61b[_0x120c('0x6')])];else _0x626e5a=_0x4cad24(_0x120c('0xa'),_0x2a33ac[_0x120c('0x8')](),_0x85c61b['model']);for(const _0x5a6771 of _0x626e5a)_0x19fa94['markInlineFormat'](_0x5a6771,{'commandName':'unlink','commandParams':[]});});}),_0x19fa94[_0x120c('0x10')]['registerDescriptionCallback'](_0x43ebcf=>{const {data:_0x425ac7}=_0x43ebcf,_0x5812de=_0x85c61b[_0x120c('0x3')];if(_0x425ac7){if('link'==_0x425ac7[_0x120c('0x18')]){const _0x127849=_0x425ac7[_0x120c('0x11')][0x0];return{'type':_0x120c('0xd'),'content':_0x31c665(_0x5812de,'*Set\x20link:*\x20%0','\x22'+_0x127849+'\x22')};}return _0x120c('0x2')==_0x425ac7[_0x120c('0x18')]?{'type':'format','content':_0x31c665(_0x5812de,_0x120c('0xb'))}:void 0x0;}});}}