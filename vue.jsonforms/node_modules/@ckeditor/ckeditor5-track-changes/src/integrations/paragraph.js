/*
 *             Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x159d=['paragraph','isTouching','editing','insertion','checkChild','editor','start','insert','registerDescriptionCallback','highest','type','options','model','parent','enableCommand','createUIElement','downcastDispatcher','span','Paragraph','addMarker:suggestion:insertion','getFirstRange','nodeAfter','addClass','filter','writer','markerName','format','schema','getItemLabel','change','consumable','data','mapper','insertParagraph','plugins','TrackChangesEditing','markerRange','isLimit','ck-suggestion-marker-split','afterInit','registerElementLabel','toViewPosition','isBlock','name','get','locale','$text','getSelectedBlocks','ELEMENT_PARAGRAPH','_descriptionFactory','bindElementToMarker','*Insert:*\x20%0','activeMarkers','selection','includes'];(function(_0x39bc37,_0x159d0d){const _0x4f3107=function(_0x1d3e8a){while(--_0x1d3e8a){_0x39bc37['push'](_0x39bc37['shift']());}};_0x4f3107(++_0x159d0d);}(_0x159d,0x156));const _0x4f31=function(_0x39bc37,_0x159d0d){_0x39bc37=_0x39bc37-0x0;let _0x4f3107=_0x159d[_0x39bc37];return _0x4f3107;};import{Plugin as _0x4407f5}from'ckeditor5/src/core';import{getElementsAffectedByListItemRename as _0x1a195f}from'./utils';import{getTranslation as _0x40acb1}from'../utils/common-translations';export default class ct extends _0x4407f5{[_0x4f31('0x1b')](){const _0x4bed56=this[_0x4f31('0x30')];if(!_0x4bed56['plugins']['has'](_0x4f31('0x6')))return;const _0x163b99=_0x4bed56[_0x4f31('0x21')],_0x4164d5=_0x4bed56[_0x4f31('0x16')][_0x4f31('0x20')](_0x4f31('0x17'));_0x4164d5[_0x4f31('0x25')][_0x4f31('0x1c')](_0x4f31('0x2b'),_0x40e790=>_0x40acb1(_0x163b99,_0x4f31('0x24'),_0x40e790)),_0x4164d5[_0x4f31('0x2')](_0x4f31('0x2b'),(_0x598c26,_0x22d867={})=>{const _0x16b3dd=_0x4bed56[_0x4f31('0x0')]['document'],_0x23357b=_0x22d867['selection']||_0x16b3dd[_0x4f31('0x29')],_0x55f0da=Array['from'](_0x23357b[_0x4f31('0x23')]())[_0x4f31('0xb')](_0x279b3d=>function(_0xda439,_0x253fb9){return _0x253fb9[_0x4f31('0x2f')](_0xda439[_0x4f31('0x1')],'paragraph')&&!_0x253fb9['isObject'](_0xda439)&&_0x4f31('0x2b')!=_0xda439[_0x4f31('0x1f')];}(_0x279b3d,this['editor'][_0x4f31('0x0')]['schema']));_0x4bed56['model'][_0x4f31('0x11')](()=>{for(const _0x3aa61c of _0x55f0da)_0x4164d5['markBlockFormat'](_0x3aa61c,{'commandName':_0x4f31('0x2b'),'commandParams':[],'formatGroupId':'blockName'},_0x1a195f(_0x3aa61c));});}),_0x4164d5[_0x4f31('0x25')][_0x4f31('0x33')](_0x1e3a12=>{const {data:_0xd75d2a}=_0x1e3a12;if(_0xd75d2a&&_0x4f31('0x2b')==_0xd75d2a['commandName'])return{'type':_0x4f31('0xe'),'content':_0x40acb1(_0x163b99,'*Change\x20to:*\x20%0',_0x40acb1(_0x163b99,_0x4f31('0x24')))};}),_0x4164d5[_0x4f31('0x2')](_0x4f31('0x15')),_0x4bed56[_0x4f31('0x2d')][_0x4f31('0x4')]['on']('addMarker:suggestion:insertion',ar(_0x4bed56),{'priority':_0x4f31('0x34')}),_0x4bed56[_0x4f31('0x13')]['downcastDispatcher']['on'](_0x4f31('0x7'),(_0x1aee60,_0x46097b,_0x5363d4)=>{_0x5363d4[_0x4f31('0x36')]['showSuggestionHighlights']&&ar(_0x4bed56,{'showActiveMarker':!0x1})(_0x1aee60,_0x46097b,_0x5363d4);},{'priority':'highest'});const _0x48be7d=_0x4164d5[_0x4f31('0x25')];_0x48be7d['registerDescriptionCallback'](_0xaefbd9=>{if('insertion'!==_0xaefbd9[_0x4f31('0x35')])return;const {start:_0xb2c9fc,end:_0x4f98b2}=_0xaefbd9[_0x4f31('0x8')]();if(!_0xb2c9fc[_0x4f31('0x2c')](_0x4f98b2)||!_0xb2c9fc[_0x4f31('0x9')])return;const _0x3c9a0a=_0x4bed56[_0x4f31('0x0')][_0x4f31('0xf')],_0x3bb778=_0xb2c9fc['nodeAfter'];return _0x3c9a0a[_0x4f31('0x1e')](_0x3bb778)&&!_0x3c9a0a['isLimit'](_0x3bb778)&&_0x3c9a0a[_0x4f31('0x2f')](_0x3bb778,_0x4f31('0x22'))?{'type':_0x4f31('0x2e'),'content':_0x40acb1(_0x163b99,_0x4f31('0x27'),_0x48be7d[_0x4f31('0x10')](_0x3bb778,0x1))}:void 0x0;});}}function ar(_0x1ca799,{showActiveMarker:_0x2cc9c7=!0x0}={}){return(_0x5154a6,_0x2acdaa,_0x183705)=>{const _0x42f95d=_0x1ca799['plugins'][_0x4f31('0x20')](_0x4f31('0x17')),_0xd05628=_0x2acdaa[_0x4f31('0x18')][_0x4f31('0x31')],_0x567b1b=_0x2acdaa['markerRange']['end'],_0x22936b=_0x1ca799[_0x4f31('0x0')]['schema'];if(!_0xd05628[_0x4f31('0x2c')](_0x567b1b)||!_0xd05628[_0x4f31('0x9')])return;const _0x120b27=_0xd05628['nodeAfter'];if(_0x22936b[_0x4f31('0x1e')](_0x120b27)&&!_0x22936b[_0x4f31('0x19')](_0x120b27)&&_0x22936b[_0x4f31('0x2f')](_0x120b27,'$text')){if(!_0x183705[_0x4f31('0x12')]['consume'](_0x2acdaa[_0x4f31('0x18')],_0x5154a6[_0x4f31('0x1f')]))return;const _0x101c68=_0x183705['writer'][_0x4f31('0x3')](_0x4f31('0x5'),{'class':_0x4f31('0x1a')}),_0x4535ec=_0x183705[_0x4f31('0x14')][_0x4f31('0x1d')](_0x567b1b);_0x2cc9c7&&_0x42f95d[_0x4f31('0x28')][_0x4f31('0x2a')](_0x2acdaa[_0x4f31('0xd')])&&_0x183705[_0x4f31('0xc')][_0x4f31('0xa')]('ck-suggestion-marker--active',_0x101c68),_0x183705[_0x4f31('0xc')][_0x4f31('0x32')](_0x4535ec,_0x101c68),_0x183705[_0x4f31('0x14')][_0x4f31('0x26')](_0x101c68,_0x2acdaa[_0x4f31('0xd')]);}};}