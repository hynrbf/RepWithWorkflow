/*
 *             Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x449e=['item','formatInline','_descriptionFactory','value','registerDescriptionCallback','isCollapsed','*Set\x20highlight:*\x20%0','hasAttribute','push','getRanges','title','HighlightEditing','backward','get','getLastMatchingPosition','find','model','afterInit','highlight.options','color','getFirstPosition','toLowerCase','plugins','FORMAT_HIGHLIGHT','getAttribute','format','highlight','locale','change','*Remove\x20highlight*','selection'];(function(_0x5c5061,_0x449ec3){const _0x3f1441=function(_0x2dcba4){while(--_0x2dcba4){_0x5c5061['push'](_0x5c5061['shift']());}};_0x3f1441(++_0x449ec3);}(_0x449e,0x1e8));const _0x3f14=function(_0x5c5061,_0x449ec3){_0x5c5061=_0x5c5061-0x0;let _0x3f1441=_0x449e[_0x5c5061];return _0x3f1441;};import{Plugin as _0x9fd500}from'ckeditor5/src/core';import{getTranslation as _0x65a131}from'../utils/common-translations';import{getRangesWithAttribute as _0x129c76}from'./utils';export default class K extends _0x9fd500{[_0x3f14('0x19')](){const _0x3a7b7f=this['editor'];if(!_0x3a7b7f[_0x3f14('0x1e')]['has'](_0x3f14('0x13')))return;const _0x3d4223=_0x3a7b7f[_0x3f14('0x1e')][_0x3f14('0x15')]('TrackChangesEditing');_0x3d4223['enableCommand'](_0x3f14('0x3'),(_0x33551d,_0x400129={})=>{const _0x305689=_0x3a7b7f[_0x3f14('0x18')]['document'][_0x3f14('0x7')],_0x29ed39=_0x305689[_0x3f14('0x1')](_0x3f14('0x3'));let _0x2eea45=_0x400129[_0x3f14('0xb')],_0x34a276=[];if(_0x305689[_0x3f14('0xd')]){const _0x2ea5af=_0x305689[_0x3f14('0x1c')]();if(!_0x305689[_0x3f14('0xf')](_0x3f14('0x3')))return void _0x33551d(_0x400129);{const _0x221044=_0x2de050=>_0x2de050[_0x3f14('0x8')][_0x3f14('0x1')]('highlight')===_0x29ed39,_0x5212d7=_0x2ea5af[_0x3f14('0x16')](_0x221044,{'direction':_0x3f14('0x14')}),_0x142bf1=_0x2ea5af[_0x3f14('0x16')](_0x221044);_0x34a276=[_0x3a7b7f[_0x3f14('0x18')]['createRange'](_0x5212d7,_0x142bf1)],_0x2eea45==_0x29ed39&&(_0x2eea45=null);}}else for(const _0x3cdba8 of _0x305689[_0x3f14('0x11')]())_0x2eea45?_0x34a276[_0x3f14('0x10')](_0x3cdba8):_0x34a276[_0x3f14('0x10')](..._0x129c76(_0x3f14('0x3'),_0x3cdba8,_0x3a7b7f[_0x3f14('0x18')]));_0x3a7b7f[_0x3f14('0x18')][_0x3f14('0x5')](()=>{for(const _0x33349c of _0x34a276)_0x3d4223['markInlineFormat'](_0x33349c,{'commandName':'highlight','commandParams':[{'value':_0x2eea45}]});});});const _0x355e96=_0x3a7b7f[_0x3f14('0x4')];_0x3d4223[_0x3f14('0xa')][_0x3f14('0xc')](_0x48ea88=>{const {type:_0x48f3e7,data:_0x3c4b3b}=_0x48ea88;if(_0x3f14('0x9')==_0x48f3e7&&_0x3c4b3b&&_0x3f14('0x3')==_0x3c4b3b['commandName']){const _0x18c63d=_0x355e96['t'],_0x328ada=_0x3c4b3b['commandParams'][0x0][_0x3f14('0xb')];if(_0x328ada){const _0x308e22=_0x3a7b7f['config'][_0x3f14('0x15')](_0x3f14('0x1a'))[_0x3f14('0x17')](_0xae7ec=>_0xae7ec[_0x3f14('0x18')]==_0x328ada),_0x496258=_0x18c63d(_0x308e22[_0x3f14('0x12')])[_0x3f14('0x1d')]();return{'type':'format','content':_0x65a131(_0x355e96,_0x3f14('0xe'),_0x496258),'color':{'value':_0x308e22[_0x3f14('0x1b')],'title':_0x308e22['title']}};}return{'type':_0x3f14('0x2'),'content':_0x65a131(_0x355e96,_0x3f14('0x6'),_0x65a131(_0x355e96,_0x3f14('0x0')))};}});}}