<div
        v-if="isLoading"
        class="d-flex justify-content-center align-items-center k-animation-container"
        style="background-color: white; width: 100%; height: 100%"
>
    <KendoLoadingComponent :isLoading="isLoading"/>
</div>

<Dialog v-if="isDialogOpen" :theme-color="'primary'">
    <div class="m-2 d-flex justify-content-end">
        <IconComponent @click="closeSignNowDialog" symbol="close" style="cursor:pointer;"/>
    </div>

    <div
            class="py-2 px-2"
            style="width: 74vw; background-color: transparent; height: 80vh"
    >
        <div
                v-if="!proposalUrl || proposalUrl.length < 1"
                class="pb-2 d-flex gap-4 align-items-center"
        >
            <label>{{ noDocumentYetText }}</label>
        </div>

        <Card
                v-if="!proposalUrl || proposalUrl.length < 1"
                width="100%"
                height="100%"
        >
            <Skeleton
                    :shape="'rectangle'"
                    :style="{ width: '100%', height: '75vh' }"
            />
        </Card>

        <iframe :src="proposalUrl" width="100%" height="100%" ref="iFrameSignDoc"/>
    </div>
</Dialog>

<TopBar/>

<Drawer
        class="MainDrawer"
        ref="mainDrawer"
        :expanded="isSideMenuOpen"
        position="start"
        mode="push"
        :mini="true"
        :mini-width="60"
        :width="300"
        :items="sideMenuRouteItems"
        item="item"
>
    <template #item="{ props: { title, icon, route, isDisabled } }">
        <DrawerItem
                :class="[
                    'MainDrawer-menuItem',
                    isMenuActive(route) && 'MainDrawer-menuActive',
                ]"
                @mouseenter="handleMenuItemHover($event)"
                @mouseleave="handleMenuItemHover($event, true)"
                :disabled="isDisabled"
        >
            <a class="MainDrawer-menuLink" :title="$t(title)" @click="redirectToAsync(route)">
                <IconComponent class="MainDrawer-menuIcon" :symbol="icon" size="21"/>

                <span class="MainDrawer-menuText">{{ $t(title) }}</span>

                <SideMenuProgressTextComponent :isActive="isMenuActive(route)"
                                               :routeName="helperService.removeStringSpacesThenSlash($t(route))"/>
            </a>
        </DrawerItem>
    </template>
    <DrawerContent class="MainDrawer-content">
        <KendoButton
                type="button"
                size="small"
                class="SideMenuToggle"
                theme-color="primary"
                rounded="full"
                shape="square"
                @click.prevent="isSideMenuOpen = !isSideMenuOpen"
        >
            <IconComponent
                    symbol="chevron-right"
                    size="10"
                    :class="[isSideMenuOpen && `is-rotate180`]"
            />
        </KendoButton>

        <div class="MainContent">
            <div class="MainContent-container">
                <router-view/>

                <KendoCopyRightComponent/>
            </div>
        </div>

        <KendoSaveOrNextComponent v-if="isBottomBarEnabled" :isNextButtonDisabled="isNextButtonDisabled"/>
    </DrawerContent>
</Drawer>

<OnBoarding/>
