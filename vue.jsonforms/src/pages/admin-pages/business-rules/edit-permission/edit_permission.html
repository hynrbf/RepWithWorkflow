<KendoDialog ref="kendoDialog" />

<div>
    <h3 class="my-3">Edit Permissions</h3>
</div>

<div class="container p-4 bg-white">
    <div class="row text-center">
        <div class="col-3 container">
            Sub Permission Display Text
        </div>

        <div class="col-3 container">
            Sub Permission
        </div>

        <div class="col-3 container">
            Permission Group
        </div>

        <div class="col-3 container">
            Category
        </div>
    </div>

    <div v-if="isLoading"
         class="mt-4 d-flex justify-content-center align-items-center"
         style="width:100%; height:100%;">
        <div class="my-4 d-flex flex-column align-items-center gap-4">
            <Label style="font-size:16px; color:#07077A;">Loading permissions...</Label>

            <Loader style="color:#07077A;" :size="'large'" :type="'pulsing'"/>
        </div>
    </div>

    <div v-else class="row" v-for="permissionEdit in permissionEditList">
        <div class="row">
            <div class="col-3 my-3 container">
                <kendo-input v-model="permissionEdit.subPermissionDisplayText" class="col-12 child-text"/>
            </div>

            <div class="col-3 my-3 container">
                <kendo-input v-model="permissionEdit.subPermissionName" class="col-12 child-text"/>
            </div>

            <div class="col-3 my-3 d-flex align-items-center">
                <DropDownList class="ddl"
                              fill-mode="outline"
                              v-model="permissionEdit.permissionGroupName"
                              :data-items='permissionGroupNames'/>
            </div>

            <div class="col-3 my-3 d-flex align-items-center">
                <DropDownList class="ddl"
                              fill-mode="outline"
                              v-model="permissionEdit.categoryName"
                              :data-items='categoryNames'/>
            </div>
        </div>
    </div>

    <div>
        <button class="btn-save btn btn-secondary" @click="savePermissionsAsync">Save</button>

        <div class="p-1 mt-3" :style="{ width: '100%' }">
            <input type="file" ref="doc" accept=".txt" @change="onUploadFile"/>
        </div>
    </div>
</div>

