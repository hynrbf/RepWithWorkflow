<KendoDialog ref="kendoDialog"/>

<div class="p-4 d-flex flex-column gap-2">
    <h3>Settings for Documents</h3>

    <div v-if="isLoadingSettings"
         class="d-flex justify-content-center align-items-center"
         style="width:100%; height:100%;">
        <div class="my-4 d-flex flex-column align-items-center gap-4">
            <Label style="font-size:16px; color:#07077A;">
                Loading settings...
            </Label>

            <Loader style="color:#07077A;" :size="'large'" :type="'pulsing'"/>
        </div>
    </div>

    <div v-else>
        <ul class="list-group">
            <li class="list-group-item p-3" v-for="setting in settings">
                <div class="d-flex gap-4" style="cursor: pointer;">
                    <div class="col-3 k-font-weight-bold">
                        {{ setting.key }}
                    </div>

                    <TextArea class="flex-grow-1"
                              :value="setting.value"
                              :rows="3"
                              @change="(e) => onValueChanged(e, setting)"/>

                    <Button type="button" class="col-1" @click="(e) => onDeleteSetting(e, setting)">
                        <span style="color:red; font-weight: 500" class="k-icon k-i-delete"/>
                    </Button>
                </div>
            </li>
        </ul>
    </div>

    <div class="d-flex">
        <div class="p-1 mt-3" :style="{ width: '100%' }">
            <input type="file" ref="doc" accept=".txt" @change="onUploadFile"/>
        </div>

        <Button type="button" style="width: 200px; color:white; background-color:#07077A;"
                @click="saveSettings">Save
        </Button>
    </div>
</div>