var G=Object.defineProperty;var U=(e,t,n)=>t in e?G(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var i=(e,t,n)=>(U(e,typeof t!="symbol"?t+"":t,n),n);import{b_ as c,b$ as d,c0 as C,c1 as N,c2 as y,c3 as l,c4 as g,c5 as w,c6 as Y,j as q,o as m,q as $,w as Z,r as T,x as L,D as j,af as H,b1 as M,bI as J,aV as K,bb as Q,ap as I,b3 as W,b4 as X,_ as B,bo as ee,c7 as te,Z as x,m as h,y as _,bO as ne}from"./index-9d6d511f.js";import{_ as re}from"./StatusLabelComponent.vue_vue_type_script_setup_true_lang-90f1f182.js";var ae=function(e){return{"!=":"neq","<":"lt","<=":"lte","==":"eq",">":"gt",">=":"gte",equal:"eq",equals:"eq",equalto:"eq",ge:"gte",greater:"gt",greaterthan:"gt",greaterthanequal:"gte",isempty:"isempty",isequalto:"eq",isgreaterthan:"gt",isgreaterthanorequalto:"gte",islessthan:"lt",islessthanorequalto:"lte",isnotempty:"isnotempty",isnotequalto:"neq",isnull:"isnull",le:"lte",less:"lt",lessthan:"lt",lessthanequal:"lte",ne:"neq",notequal:"neq",notequals:"neq",notequalto:"neq",notsubstringof:"doesnotcontain"}[e.toLowerCase()]||e},D=function(e){e.filters&&(e.filters=e.filters.map(function(t){var n=Object.assign({},t);return!d(t)&&C(t.operator)&&(n.operator=ae(t.operator)),d(t)&&D(n),n}))},ie=function(e){return d(e)?Object.assign({},e):{filters:N(e)?e:[e],logic:"and"}},oe=function(e){return c(e)&&(e=ie(e),D(e)),e},se=function(e){return e=c(e)&&e.getTime?e.getTime():e,e+""},ue=function(e){var t=y(e,!0),n=0;return function(r,a){r[e]=r[e]||{};var o=t(a),s=se(o),u=r[e][s]||{__position:n++,aggregates:{},items:[],value:o};return u.items.push(a),r[e][s]=u,r}},ce=function(e){return e===void 0&&(e={}),Object.keys(e).forEach(function(t){var n=e[t];Object.keys(n).forEach(function(r){n[r]=n[r].result()})}),e},fe=function(e){return{average:function(){var t=0,n=0;return{calc:function(r){l(r)?(t+=r,n++):t=r},result:function(){return l(t)?t/n:t}}},count:function(){var t=0;return{calc:function(){return t++},result:function(){return t}}},max:function(){var t=Number.NEGATIVE_INFINITY;return{calc:function(n){t=l(t)||g(t)?t:n,t<n&&(l(n)||g(n))&&(t=n)},result:function(){return t}}},min:function(){var t=Number.POSITIVE_INFINITY;return{calc:function(n){t=l(t)||g(t)?t:n,t>n&&(l(n)||g(n))&&(t=n)},result:function(){return t}}},sum:function(){var t=0;return{calc:function(n){n=c(n)?n:0,t+=n},result:function(){return t}}}}[e]()},le=function(e){var t=e.map(function(n){var r=y(n.field,!0),a=(n.aggregate||"").toLowerCase(),o=y(a,!0);return function(s,u){var f=s[n.field]||{},p=o(f)||fe(a);return p.calc(r(u)),f[n.aggregate]=p,s[n.field]=f,s}});return function(n,r){return t.reduce(function(a,o){return o(a,r)},n)}},E=function(e){return function(t){return function(n,r,a){return t(n,e(r,a))}}},ge=function(e){return c(e.__value)},R=function(e,t,n){for(var r=t,a=0,o=n.length;a<o;a++)if(r=e(r,n[a],a),ge(r)){r=r.__value;break}return r},me=E(function(e){return e}),ve=function(e,t,n){t===void 0&&(t=[]),n===void 0&&(n=me);var r={};if(!t.length)return r;var a=R(n(le(t)),r,e);return ce(a)},de={or:{concat:function(e,t){return function(n){return e(n)||t(n)}},identity:function(){return!1}},and:{concat:function(e,t){return function(n){return e(n)&&t(n)}},identity:function(){return!0}}},pe={contains:function(e,t){return(e||"").indexOf(t)>=0},doesnotcontain:function(e,t){return(e||"").indexOf(t)===-1},doesnotendwith:function(e,t){return(e||"").indexOf(t,(e||"").length-(t||"").length)<0},doesnotstartwith:function(e,t){return(e||"").lastIndexOf(t,0)===-1},endswith:function(e,t){return(e||"").indexOf(t,(e||"").length-(t||"").length)>=0},eq:function(e,t){return e===t},gt:function(e,t){return e>t},gte:function(e,t){return e>=t},isempty:function(e){return e===""},isnotempty:function(e){return e!==""},isnotnull:function(e){return c(e)},isnull:function(e){return Y(e)},lt:function(e,t){return e<t},lte:function(e,t){return e<=t},neq:function(e,t){return e!=t},startswith:function(e,t){return(e||"").lastIndexOf(t,0)===0}},V=/^\/Date\((.*?)\)\/$/,he=function(e,t){if(e!=null&&C(e)){var n=V.exec(e);if(n)return new Date(+n[1]).getTime();if(t)return e.toLowerCase()}else if(e!=null&&g(e))return e.getTime();return e},_e=function(e,t,n){if(!c(t))return e;var r=e;if(C(t)){var a=V.exec(t);a?t=new Date(+a[1]):r=function(o){var s=e(o);return typeof s=="string"&&n?s.toLowerCase():l(s)?s+"":s}}return g(t)?function(o){var s=r(o);return g(s)?s.getTime():s}:r},ye=function(e){var t=e.field,n=e.ignoreCase,r=e.value,a=e.operator;t=c(t)?t:function(u){return u},n=c(n)?n:!0;var o=_e(w(t)?t:y(t,!0),r,n);r=he(r,n);var s=w(a)?a:pe[a];return function(u){return s(o(u),r,n)}},z=function(e){var t=de[e.logic];return e.filters.filter(c).map(function(n){return d(n)?z(n):ye(n)}).reduce(t.concat,t.identity)},be=function(e){return!e||e.filters.length===0?function(){return!0}:z(e)},Se=function(e,t){return!c(t)||d(t)&&t.filters.length===0?e:e.filter(be(oe(t)))},Ae=function(e){return e=N(e)?e:[e],e.map(function(t){return Object.assign({dir:"asc"},t)})},F=E(function(e){return e}),Ce=function(e,t,n,r){if(t===void 0&&(t=[]),n===void 0&&(n=F),r===void 0&&(r=e),t=Ae(t),!t.length)return e;var a=t[0],o={},s=R(n(ue(a.field)),o,e),u=[];return Object.keys(s).forEach(function(f){Object.keys(s[f]).forEach(function(p){var v=s[f][p],O={},b=r;c(a.aggregates)&&(b=Se(r,{field:a.field,ignoreCase:!1,operator:"eq",value:v.value}),O=ve(b,a.aggregates)),u[v.__position]={aggregates:O,field:f,items:t.length>1?Ce(v.items,t.slice(1),F,b):v.items,value:v.value}})}),u},P=(e=>(e[e.Approved=0]="Approved",e[e.Rejected=1]="Rejected",e[e.Pending=2]="Pending",e))(P||{});class Be{constructor(){i(this,"id","");i(this,"mediaOutlet");i(this,"contentUrl");i(this,"structuredContent");i(this,"content");i(this,"editorContent");i(this,"owner");i(this,"moderator");i(this,"approvalStatus",P.Pending);i(this,"approvalDays");i(this,"isLive");i(this,"media");i(this,"type");i(this,"productType",[]);i(this,"remunerationMethod");i(this,"provider");i(this,"createdAt");i(this,"updatedAt");i(this,"approvedAt");i(this,"rejectedAt");i(this,"isDisclosureConfirmed",!1);i(this,"customerId")}}class De{constructor(){i(this,"id","");i(this,"url");i(this,"name");i(this,"owner");i(this,"archived",!1);i(this,"platform");i(this,"createdAt");i(this,"updatedAt")}}const Ee=q({__name:"LiveLabelComponent",props:{live:{type:Boolean}},setup(e){return(t,n)=>{const r=re;return m(),$(r,{icon:"dot","icon-size":"8",status:t.live?"approved":"rejected",class:"gap-1"},{default:Z(()=>[T(L(t.live?"Live":"Not Live"),1)]),_:1},8,["status"])}}}),qe=j.resolve(H.name),{currentCustomer:S,currentCustomerName:Oe}=M(J()),{currentArCustomer:A,currentArCustomerName:we}=M(K()),k=Q("staffStore",{state:()=>({staffs:[],isFetchingStaffs:!1}),actions:{getStaff(e){return this.staffs.find(t=>t.id===e)},async fetchStaffsAsync(){try{this.isFetchingStaffs=!0;let e=[];const t=localStorage.getItem("onboarding-type");let n="";switch(t){case I.Ar.toString():A.value&&(e=[...e,{name:we.value,id:`${A.value.id}`}],n=A.value.firmReferenceNumber);break;case I.Firm.toString():default:S.value&&(e=[...e,{name:Oe.value,id:`${S.value.id}`}],n=S.value.firmReferenceNumber)}const r=await qe.getFirmIndividualsAsync(n)||[];return e=[...e,...r.map(({IRN:a,name:o})=>({id:`${a}`,name:`${o}`}))],this.staffs=e,Promise.resolve(e)}catch(e){return Promise.reject(e)}finally{this.isFetchingStaffs=!1}}}}),Ie=q({name:"OfficerAvatarComponent",props:{id:{type:String,default:""}},data(){return{isFetching:!1}},computed:{...W(k,["isFetchingStaffs"]),text(){const e=this.getStaff(this.id);return e?e.name:"Undefined User"}},methods:{...X(k,["getStaff","fetchStaffsAsync"]),async fetchAsync(){this.isFetching=!0,await this.fetchStaffsAsync(),this.isFetching=!1}},async mounted(){!this.id||this.getStaff(this.id)||this.isFetchingStaffs||this.fetchAsync()}});function xe(e,t,n,r,a,o){const s=ee;return m(),$(s,{text:e.text},null,8,["text"])}const Re=B(Ie,[["render",xe]]),Fe={key:0,class:"MediaLabel"},ke=["src","width","alt"],Ne={key:1},$e={key:0,class:"MediaLabel-ads"},Te=q({__name:"MediaLabelComponent",props:{id:{},iconOnly:{type:Boolean},iconSize:{default:20},text:{},textOnly:{type:Boolean}},setup(e){const t=e,n=j.resolve(te.name),r=x(()=>n.getMediaPlatform(t.id)),a=x(()=>{var o;return["google-ads","facebook-ads","twitter-ads","linkedin-ads","instagram-ads"].includes(`${(o=r==null?void 0:r.value)==null?void 0:o.id}`)});return(o,s)=>r.value?(m(),h("div",Fe,[o.textOnly?_("",!0):(m(),h("img",{key:0,src:`/${r.value.icon}`,width:o.iconSize,alt:r.value.name},null,8,ke)),o.iconOnly?_("",!0):(m(),h("span",Ne,[ne(o.$slots,"text",{},()=>[T(L(o.text||r.value.name),1)],!0),a.value?(m(),h("strong",$e," Ads")):_("",!0)]))])):_("",!0)}});const Ve=B(Te,[["__scopeId","data-v-05bb58c3"]]);export{P as F,De as M,Ve as _,Be as a,Re as b,Ee as c,Ce as g,k as u};
