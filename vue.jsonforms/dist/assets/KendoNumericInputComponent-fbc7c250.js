import{dc as k,j as _,dd as B,de as I,D as T,d4 as A,u as E,l as F,_ as S,aA as $,o as s,q as m,w as i,n as d,a0 as O,r as l,x as r,m as C,y as c,L,E as M,bV as N,bW as R,B as K,A as b,aB as q,z as j,bY as D,df as P,S as U}from"./index-9d6d511f.js";const W=()=>({formValueToObject:(t,a)=>{var o;if(!a.includes("."))return;const v=t.values||[],h=a.split("."),f=h.shift(),u=(o=t.values)==null?void 0:o[`${f}`];t.onChange(f,{value:{...k(u||{},h,v[a],Object)}})}}),{formValueToObject:z}=W(),H=_({name:"KendoRichTextComponent",components:{TinyMCEEditor:B},props:{name:{type:String,default:""},id:String,label:{type:String,default:""},placeholder:{type:String,default:"Select ..."},hint:{type:String,default:""},disabled:{type:Boolean,default:!1},isRequired:{type:Boolean,default:!0},dataItems:{type:Array,default:[]},valuePrimitive:{type:Boolean,default:!1}},data(){return{tinyMCEApiKey:I,formValidatorService:T.resolve(A.name),errorMessage:""}},methods:{validate(e){this.errorMessage="",this.formValidatorService.setFieldName(this.label||this.name);const t=this.formValidatorService.validate(e,{required:this.isRequired});return this.addIdKeyAndErrorValue(t),this.errorMessage=t,t},handleChange(e){this.kendoForm.onChange(this.name,{value:e}),z(this.kendoForm,this.name)},addIdKeyAndErrorValue(e){if(!this.id)return;const t=this.id;let a={};a[t]=e,this.addComponentValidationValue(t,a)}},watch:{"kendoForm.values":{handler(e){const t=this.$refs.editor;!e[this.name]&&t.getEditor().setContent("")},deep:!0}},setup(){const e=E(),{addComponentValidationValue:t}=e;return{kendoForm:F("kendoForm",{default:{}}),addComponentValidationValue:t}}}),Y={key:0,class:"fineprint ms-1"};function w(e,t,a,v,h,f){const u=L,o=$("TinyMCEEditor"),y=M,V=N,g=R,n=K;return s(),m(n,{id:e.id,name:e.name,component:"template",validator:e.validate},{template:i(({props:p})=>[d(g,{class:O(p.class)},{default:i(()=>[e.label?(s(),m(u,{key:0,"editor-id":e.id,disabled:e.disabled,valid:!(p.touched&&e.errorMessage),class:"control-label mb-2"},{default:i(()=>[l(r(e.label)+" ",1),e.isRequired?c("",!0):(s(),C("span",Y," (Optional) "))]),_:2},1032,["editor-id","disabled","valid"])):c("",!0),d(o,{ref:"editor","api-key":e.tinyMCEApiKey,"model-value":p.value,"onUpdate:modelValue":e.handleChange},null,8,["api-key","model-value","onUpdate:modelValue"]),p.touched&&e.errorMessage?(s(),m(y,{key:1},{default:i(()=>[l(r(e.errorMessage),1)]),_:1})):(s(),m(V,{key:2},{default:i(()=>[l(r(e.hint),1)]),_:1}))]),_:2},1032,["class"])]),_:1},8,["id","name","validator"])}const Z=S(H,[["render",w]]),G=_({name:"KendoNumericInputComponent",props:{id:String,isRequired:{type:Boolean,default:!0},value:Number,defaultValue:{type:Number,default:void 0},name:{type:String,default:""},label:{type:String,default:""},labelStyle:{type:String,default:""},placeholder:{type:String,default:""},min:{type:Number,default:0},minLimit:{type:Number,default:0},maxLimit:{type:Object,default:void 0,validator(e){return e===void 0||typeof e=="number"}},suffixText:String,isValueReactive:{type:Boolean,default:!1},isDataLoadedCompletely:{type:Boolean,default:!1}},data(){return{isFieldValidOnFirstLoad:!1,eventBus:F("$eventBusService"),isUnmounted:!1,errorMessage:""}},watch:{isDataLoadedCompletely(e,t){return e==t||(this.isFieldValidOnFirstLoad=this.validate(this.value||this.defaultValue)==""),e}},setup(){const e=E(),{addComponentValidationValue:t,removeValidationValueByFieldId:a}=e;return{addComponentValidationValue:t,removeValidationValueByFieldId:a}},created(){this.isValueReactive||(this.isFieldValidOnFirstLoad=this.validate(this.value||this.defaultValue)=="")},mounted(){this.isUnmounted=!1,this.isValueReactive&&this.isDataLoadedCompletely&&(this.isFieldValidOnFirstLoad=this.validate(this.value||this.defaultValue)=="")},updated(){this.isFieldValidOnFirstLoad=this.validate(this.value||this.defaultValue)==""},unmounted(){this.id&&(this.removeValidationValueByFieldId(this.id),this.isUnmounted=!0)},methods:{onValueChange(e){this.isFieldValidOnFirstLoad=!1,this.$emit("onValueChange",e.value),this.eventBus.emit(b.formFieldChangedEvent),this.eventBus.emit(b.formFieldPageLevelChangedEvent)},validate(e){if(this.errorMessage="",this.isUnmounted)return"";if(this.isValueReactive&&!this.isDataLoadedCompletely)return this.addIdKeyAndErrorValue(""),"";let t=`Please enter a valid ${this.label}`;return this.isFieldValidOnFirstLoad?(this.addIdKeyAndErrorValue(""),""):(this.isValueReactive&&!e&&this.value&&(e=this.value),this.isRequired?!e||e<this.minLimit?(this.addIdKeyAndErrorValue(t),this.errorMessage=t,t):this.maxLimit&&e>this.maxLimit?(this.addIdKeyAndErrorValue(t),this.errorMessage=t,t):(this.addIdKeyAndErrorValue(""),""):(this.addIdKeyAndErrorValue(""),""))},addIdKeyAndErrorValue(e){if(!this.id)return;const t=this.id;let a={};a[t]=e,this.addComponentValidationValue(t,a)}}}),J={key:0,class:"fineprint ms-1"};function Q(e,t,a,v,h,f){const u=L,o=P,y=M,V=U,g=K;return s(),C("div",null,[d(g,{name:e.name,id:e.id,validator:e.validate,component:"myTemplate"},{myTemplate:i(({props:n})=>[d(V,{orientation:"vertical",gap:8},{default:i(()=>[d(u,{"editor-id":n.id,class:"control-label",style:q(e.labelStyle)},{default:i(()=>[l(r(e.label)+" ",1),e.isRequired?c("",!0):(s(),C("span",J," (Optional) "))]),_:2},1032,["editor-id","style"]),d(o,j(n,{id:n.id,name:n.name,placeholder:e.placeholder,valid:!(n.touched&&e.errorMessage),"default-value":e.defaultValue,value:e.value,min:e.min,"input-suffix":e.suffixText&&"suffix",onChange:e.onValueChange,fillMode:null}),D({_:2},[e.suffixText?{name:"suffix",fn:i(()=>[l(r(e.suffixText),1)]),key:"0"}:void 0]),1040,["id","name","placeholder","valid","default-value","value","min","input-suffix","onChange"]),n.touched&&e.errorMessage?(s(),m(y,{key:0},{default:i(()=>[l(r(e.errorMessage),1)]),_:1})):c("",!0)]),_:2},1024)]),_:1},8,["name","id","validator"])])}const x=S(G,[["render",Q]]);export{x as _,Z as a};
