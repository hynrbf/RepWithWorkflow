import{V as Q,bJ as be,bK as _e,bP as Ce,bQ as xe,j as $e,bR as Le,l as Ee,C as Oe,G as z,bS as Se,o as g,m,J as H,K as we,H as f,P as x,x as K,bO as B,r as re,q as De,w as ke,$ as S,n as E,y as O,A as V,a0 as se,as as Te,at as Be,b6 as Ie,N as Ve}from"./index-9d6d511f.js";var me=function(t){return typeof t=="object"},q=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.filter(function(n){return n!==!0&&!!n}).map(function(n){return Array.isArray(n)?q.apply(void 0,n):me(n)?Object.keys(n).map(function(r,o){return n[o]||n[r]&&r||null}).filter(function(r){return r!==null}).join(" "):n}).filter(function(n){return!!n}).join(" ")},Pe=function(){var t="",e,n;for(e=0;e<32;e++)n=Math.random()*16|0,(e===8||e===12||e===16||e===20)&&(t+="-"),t+=(e===12?4:e===16?n&3|8:n).toString(16);return t};function Fe(t){var e=t.$slots.default;return t.v3&&e&&typeof e=="function"?e():e}var R;function F(t){"@babel/helpers - typeof";return F=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F(t)}function ie(t,e,n){return e=Ne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ne(t){var e=je(t,"string");return(typeof e>"u"?"undefined":F(e))==="symbol"?e:String(e)}function je(t,e){if((typeof t>"u"?"undefined":F(t))!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if((typeof r>"u"?"undefined":F(r))!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ae=Q,P=ae.version&&ae.version[0]==="3";R={emits:{press:null,drag:null,release:null},inheritAttrs:!1,created:function(){this.element=null;var e=be,n=typeof e<"u"&&e.Draggable?e:e.default;this.draggable=new n.Draggable({press:this.press,drag:this.drag,release:this.release})},setup:P?function(){var t=!!P;return{v3:t}}:void 0,mounted:function(){this.$el&&(this.element=this.$el.nodeType===3?this.$el.nextElementSibling:this.$el,this.draggable.bindTo(this.element))},destroyed:P?void 0:function(){this.draggable.destroy()},unmounted:function(){this.draggable.destroy()},methods:{press:function(e){this.element&&this.$emit("press",e,this.element)},drag:function(e){this.element&&this.$emit("drag",e,this.element)},release:function(e){this.element&&this.$emit("release",e,this.element)}}},ie(R,"setup",P?function(){var t=!!P;return{v3:t}}:void 0),ie(R,"render",function(e){return Fe(this)});function oe(){if(this.v3){var t={};for(var e in this.$attrs)e.startsWith("on")&&(t[e]=this.$attrs[e]);return t}else return this.$listeners}var b=globalThis&&globalThis.__assign||function(){return b=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},b.apply(this,arguments)},le=Q,M=le.version&&le.version[0]==="3";function ue(t,e){if(!(!t&&t!==!1)){if(t.kt)return t;var n=M?this.$slots[t]||(t.toLowerCase?this.$slots[t.toLowerCase()]:null):this.$scopedSlots[t]||(t.toLowerCase?this.$scopedSlots[t.toLowerCase()]:null);return typeof t=="string"&&n?{kt:!0,type:"slot",render:n,listeners:e}:typeof t=="string"||me(t)||typeof t=="function"&&t.component?{kt:!0,type:"component",render:t,listeners:e}:{kt:!0,type:"renderFunction",render:t,listeners:e}}}function de(t){var e=t.h,n=t.template,r=t.defaultRendering,o=t.defaultSlots,v=t.additionalProps,l=t.additionalListeners,y=t.swapDefaultSlots;if(!n||n&&n.render===!0)return r;var a,_,C;if(M){var I=r?r.props:{};a=b(b({},ce(l)),n.listeners),_=b(b(b({},I),v),a),C=b(b({},_),a)}else{var w=r&&r.componentOptions,$=w?r.componentOptions.listeners:{},L=w?r.componentOptions.propsData:{};a=b(b(b(b({},$),l),ce(l)),n.listeners),_=b(b(b({},L),v),a),C={props:_,on:a}}if(n.type==="slot"){var h=n.render({props:_,listeners:a,methods:a,defaultSlots:o});return M?h:h?h[0]:void 0}else return n.type==="renderFunction"?y?n.render?n.render(e,r,o,_,a):void 0:n.render?n.render(e,r,_,a,o):void 0:e(n.render,C,M?function(){return[o]}:[o])}function ce(t){if(!t)return t;for(var e={},n=Object.keys(t),r=0;r<n.length;r++){var o=n[r];e["on"+o.charAt(0).toUpperCase()+o.slice(1)]=t[o]}return e}function Ae(t){var e=_e,n=typeof e<"u"&&e.validatePackage?e:e.default;if(n&&n.validatePackage)n.validatePackage(t);else{var r="License activation failed for ".concat(t.name,`
`);r+=`The @progress/kendo-licensing script is not loaded.
`,r+="See ".concat(t.licensingDocsUrl,` for more information.
`),console.warn(r)}}var ze={sizeMap:{small:"sm",medium:"md",large:"lg"},roundedMap:{small:"sm",medium:"md",large:"lg"}},fe=globalThis&&globalThis.__assign||function(){return fe=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},fe.apply(this,arguments)};globalThis&&globalThis.__spreadArray;var ve=globalThis&&globalThis.__assign||function(){return ve=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},ve.apply(this,arguments)},he=globalThis&&globalThis.__assign||function(){return he=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},he.apply(this,arguments)};(function(){function t(e){var n=this;this.rovingTabIndex=!0,this.update=function(){},this.focusNextIndex=function(r,o){var v=n.elements,l=v.indexOf(r)+o;l=l<0?v.length-1:l,n.focusElement(v[l%v.length],r)},this.tabIndex=e.tabIndex||0,this.root=e.root,this.selectors=e.selectors,this.rovingTabIndex=e.rovingTabIndex!==void 0?e.rovingTabIndex:!0,this.mouseEvents=e.mouseEvents||{},this.keyboardEvents=e.keyboardEvents||{}}return Object.defineProperty(t.prototype,"elements",{get:function(){return this.root?Array.from(this.root.querySelectorAll(this.selectors.join(","))):[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"first",{get:function(){return this.root&&this.root.querySelector(this.selectors.join(","))||null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){var e=this.elements;return e[e.length-1]||null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"current",{get:function(){return this.elements.find(function(e){return e.matches(":focus")})||null},enumerable:!1,configurable:!0}),t.prototype.focusNext=function(e){this.focusNextIndex(e,1)},t.prototype.focusPrevious=function(e){this.focusNextIndex(e,-1)},t.prototype.triggerKeyboardEvent=function(e){var n=e.target instanceof Element&&e.target.closest(this.selectors.join(",")),r=e.key===" "?"Space":e.key,o=e.type;n&&this.keyboardEvents[o][r]&&this.keyboardEvents[o][r].call(void 0,n,this,e)},t.prototype.triggerMouseEvent=function(e){var n=e.target instanceof Element&&e.target.closest(this.selectors.join(",")),r=e.type;n&&this.mouseEvents[r].call(void 0,n,this,e)},t.prototype.focusElement=function(e,n){e&&(n&&(this.rovingTabIndex&&n.removeAttribute("tabindex"),n.classList.remove("k-focus")),this.rovingTabIndex&&e.setAttribute("tabindex",String(this.tabIndex)),e.focus({preventScroll:!0}))},t})();var U;(function(t){t.TOP="top",t.BOTTOM="bottom",t.LEFT="left",t.RIGHT="right",t.NONE="none"})(U||(U={}));var Ke={name:"@progress/kendo-vue-listbox",productName:"Kendo UI for Vue",productCodes:["KENDOUIVUE","KENDOUICOMPLETE"],publishDate:1689689643,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-vue-ui/my-license/?utm_medium=product&utm_source=kendovue&utm_campaign=kendo-ui-vue-purchase-license-keys-warning"},J=Q,Re=J.h,pe=J.version&&J.version[0]==="3",Me={name:"KendoListBox",emits:{dragstart:null,itemclick:null,drop:null,dragover:null,keydown:null,dragleave:null},props:{size:{type:String,default:"medium",validator:function(e){return[null,"small","medium","large"].includes(e)}},toolbarPosition:{type:String,default:U.RIGHT,validator:function(e){return["none","top","bottom","left","right"].includes(e)}},textField:String,valueField:String,keyField:String,selectedField:String,item:[String,Object,Function],toolbar:[String,Object,Function],tabIndex:Number,dataItems:{type:Array,default:function(){return[]}},draggable:{type:Boolean,default:!1}},created:function(){Ae(Ke)},computed:{wrapperClass:function(){var e,n=this.$props.toolbarPosition===U.NONE||this.$props.toolbar===void 0;return e={"k-listbox":!0},e["k-listbox-actions-".concat(this.$props.toolbarPosition)]=!n,e}},setup:pe?function(){var t=!!pe;return{v3:t}}:void 0,render:function(e){var n,r=Re||e,o=ue.call(this,this.$props.toolbar,oe.call(this)),v=de.call(this,{h:r,template:o});return r("div",{class:this.wrapperClass,unselectable:"on",attrs:this.v3?void 0:{unselectable:"on"}},[this.$props.toolbarPosition!=="bottom"&&v,r("div",{class:"k-list-scroller k-selectable","data-role":"selectable",attrs:this.v3?void 0:{"data-role":"selectable"},onDragover:function(y){return y.preventDefault()},on:this.v3?void 0:{dragover:function(y){return y.preventDefault()},drop:this.handleContainerDrop,dragleave:this.handleOnDragLeave},onDrop:this.handleContainerDrop,onDragleave:this.handleOnDragLeave},[r("div",{class:q("k-list",(n={},n["k-list-".concat(ze.sizeMap[this.$props.size]||this.$props.size)]=this.$props.size,n))},[r("div",{class:"k-list-content"},[r("ul",{class:"k-list-ul",role:"listbox",attrs:this.v3?void 0:{role:"listbox","aria-label":"listbox-container",tabIndex:this.tabIndex},"aria-label":"listbox-container",tabIndex:this.tabIndex,onKeydown:this.handleKeyDown,on:this.v3?void 0:{keydown:this.handleKeyDown}},[this.$props.dataItems.map(function(l,y){var a=this,_=this.setSelected(l),C=Pe(),I=r("span",{class:"k-list-item-text"},[this.$props.textField?l[this.$props.textField]:l.toString()]),w=ue.call(this,this.$props.item,oe.call(this)),$=de.call(this,{h:r,template:w,defaultRendering:I,additionalProps:{dataItem:l,index:y}});return r("li",{class:q("k-list-item",{"k-selected":_},l.class),style:l.style,role:"option",attrs:this.v3?void 0:{role:"option","aria-selected":_,id:C+y,"data-uid":C+y,draggable:this.$props.draggable},"aria-selected":_,key:this.$props.keyField?l[this.$props.keyField]:y,id:C+y,"data-uid":C+y,draggable:this.$props.draggable,onDragstart:function(h){return a.dispatchEvent("dragstart",h,l)},on:this.v3?void 0:{dragstart:function(h){return a.dispatchEvent("dragstart",h,l)},dragOver:function(h){h.preventDefault(),a.dispatchEvent("dragover",h,l)},drop:function(h){return a.dispatchEvent("drop",h,l)},click:function(h){return a.dispatchEvent("itemclick",h,l)}},onDragOver:function(h){h.preventDefault(),a.dispatchEvent("dragover",h,l)},onDrop:function(h){return a.dispatchEvent("drop",h,l)},onClick:function(h){return a.dispatchEvent("itemclick",h,l)}},[$])},this)])])])]),this.$props.toolbarPosition==="bottom"&&v,r("select",{style:{display:"none"},multiple:!0,attrs:this.v3?void 0:{multiple:!0,"data-role":"listbox"},"data-role":"listbox"},[this.$props.dataItems.map(function(l,y){var a=l[this.$props.valueField||this.$props.textField];return r("option",{key:y,value:this.v3?a:null,domProps:this.v3?void 0:{value:a}},[a])},this)])])},methods:{dispatchEvent:function(e,n,r){this.$emit(e,{event:n,component:this,dataItem:r})},setSelected:function(e){if(this.$props.selectedField)return!!e[this.$props.selectedField]},handleKeyDown:function(e){this.$emit("keydown",{event:e,component:this})},handleContainerDrop:function(e){var n=e.target,r=n.closest(".k-list-scroller"),o=n.closest(".k-list-ul"),v=this.$props.dataItems;r&&!o&&this.$emit("drop",{event:e,component:this,dataItem:v.length>0?v[v.length-1]:null})},handleOnDragLeave:function(e){var n=e.target.classList.contains("k-list-content");n&&this.$emit("dragleave",{event:e,component:this})}}},Ue=Me,Ge=xe,He=1,qe=4;function Je(t){return Ge(t,He|qe)}var Qe=Je;const ge=Ce(Qe),We={class:"ContentListBox"},Ye={class:"ContentListBox-head"},Xe={class:"ContentListBox-body"},Ze={key:0,class:"ContentListBox-empty"},et={class:"ContentListBox-item"},tt=["onClick"],nt=["onClick"],rt={class:"ContentListBox-content"},st={key:1,class:"ContentListBox-editContent"},it={class:"ContentListBox-editContentActions"},at={class:"ContentListBox-action"},ot=["onClick"],lt={key:0},ut=["onClick"],dt=["onClick"],ct={key:4,class:"ContentListBox-foot"},ft={key:5,class:"ContentListBox-foot"},vt={key:2,class:"ContentListBox-add"},ht={class:"ContentListBox-addHead"},pt={class:"ContentListBox-addTitle"},gt={class:"ContentListBox-addActions"},mt=["onClick"],yt=["onClick"],bt=["disabled","onClick"],_t={key:0,class:"ContentListBox-addBody"},Ct={key:0,class:"ContentListBox-toolbar"},xt={href:"javascript:;"},Lt=$e({__name:"ContentListBoxComponent",props:{modelValue:{default:()=>({})},blocks:{default:()=>[]},addTitle:{default:"Add New Text"},deleteableKey:{default:"deleteable"}},emits:["update:modelValue","updated"],setup(t,{emit:e}){const n=t,r=Le(),o=Ee("$eventBusService"),{modelValue:v,blocks:l,deleteableKey:y}=Oe(n),a=z({}),_=(s,d,u,i=!1)=>{if(!a.value[d]||!a.value[u])return;let p;a.value[d]=a.value[d].filter((j,c)=>s===c?(p=j,!1):!0),p&&(a.value[u]=[...a.value[u],p],N(d,s,!1),i&&N(u,a.value[u].length-1,!0),e("update:modelValue",a.value),e("updated",a.value),o.emit(V.formFieldChangedEvent),o.emit(V.formFieldPageLevelChangedEvent))},C=z([]),I=s=>C.value.includes(s),w=(s,d)=>{d&&!C.value.includes(s)?C.value=[...C.value,s]:C.value=C.value.filter(u=>u!==s)},$=z({}),L=s=>(d,u)=>{var i,p;return((p=(i=$.value)==null?void 0:i[s])==null?void 0:p[d])||u},h=s=>(d,u)=>{$.value[s]||($.value[s]={}),$.value[s][d]=u},W=s=>{$.value[s]={}},Y=s=>!!Object.values($.value[s]||{}).filter(d=>!!d).length,ye=s=>{$.value[s]&&(a.value={...a.value,[s]:[...a.value[s],{...ge($.value[s]),[y.value]:!0}]},W(s))},X=(s,d)=>{a.value[s]&&Te({type:Be.CONFIRM,content:"Are you sure you want to delete this item?",onConfirm(){a.value[s].splice(d,1),N(s,d,!1)}})},D=z({}),G=(s,d)=>l.value.some(u=>u.id===s&&u.keepEditting)?!0:(D.value[s]||[]).includes(d),N=(s,d,u)=>{if(D.value[s]||(D.value[s]=[]),u&&!D.value[s].includes(d)){D.value[s]=[...D.value[s],d];return}D.value[s]=D.value[s].filter(i=>i!==d)},Z=(s,d)=>(u,i)=>!a.value[s]&&!a.value[s][d]?i:a.value[s][d][u]||i,ee=(s,d)=>(u,i)=>{!a.value[s]&&!a.value[s][d]||(a.value[s][d]={...a.value[s][d],[u]:i})};return Se(v,s=>{const d=l.value.reduce((u,i)=>v.value[i.id]||Ie(i.initialItems)?u:{...u,[i.id]:i.initialItems},{});a.value={...ge(s),...d}},{immediate:!0}),(s,d)=>{const u=Ve;return g(),m("div",We,[(g(!0),m(H,null,we(f(l),(i,p)=>{var j;return g(),m(H,{key:`ContentListBox-${i.id}`},[x("div",{class:se(["ContentListBox-pane",i.isFeatured&&"ContentListBox-featured"])},[x("div",Ye,[x("span",null,K(i.title),1)]),x("div",Xe,[(j=a.value[i.id])!=null&&j.length?(g(),De(f(Ue),{key:1,"data-items":a.value[i.id],"text-field":"name",item:"item"},{item:ke(({props:c})=>[x("div",et,[B(s.$slots,"item",{props:c},()=>[p>0?(g(),m("button",{key:0,class:"ContentListBox-action",onClick:S(A=>{var k,T;return _(c.index,i.id,(k=f(l)[p-1])==null?void 0:k.id,(T=f(l)[p-1])==null?void 0:T.isEditable)},["prevent"])},[E(u,{size:"22",symbol:"move-left-74"})],8,tt)):O("",!0),p===f(l).length-1&&c.dataItem.deleteable?(g(),m("button",{key:1,class:"ContentListBox-action",onClick:S(A=>X(i.id,c.index),["prevent"])},[E(u,{size:"22",symbol:"trash",class:"text-error"})],8,nt)):O("",!0),x("div",rt,[G(i.id,c.index)?(g(),m("div",st,[x("div",it,[x("button",at,[E(u,{size:"16",symbol:"button-refresh-arrow",onClick:S(A=>{var k,T;return _(c.index,i.id,(k=f(l)[p-1])==null?void 0:k.id,(T=f(l)[p-1])==null?void 0:T.isEditable)},["prevent"])},null,8,["onClick"])]),x("button",{class:"ContentListBox-action",onClick:S(()=>{N(i.id,c.index,!1),e("update:modelValue",a.value),e("updated",a.value),f(o).emit(f(V).formFieldChangedEvent),f(o).emit(f(V).formFieldPageLevelChangedEvent)},["prevent"])},[E(u,{size:"16",symbol:"save"})],8,ot)]),f(r)["item-edit-content"]?(g(),m("div",lt,[B(s.$slots,"item-edit-content",{props:c,blockId:i.id,index:c.index,getValue:Z(i.id,c.index),setValue:ee(i.id,c.index)})])):O("",!0)])):B(s.$slots,"item-content",{key:0,props:c},()=>[re(K(c),1)])]),p<f(l).length-1&&c.dataItem.deleteable?(g(),m("button",{key:2,class:"ContentListBox-action",onClick:S(A=>X(i.id,c.index),["prevent"])},[E(u,{size:"22",symbol:"trash",class:"text-error"})],8,ut)):O("",!0),p<f(l).length-1?(g(),m("button",{key:3,class:"ContentListBox-action",onClick:S(A=>{var k,T,te,ne;return _(c.index,i.id,((k=f(l)[p+1])==null?void 0:k.id)??((T=f(l)[p-1])==null?void 0:T.id),((te=f(l)[p+1])==null?void 0:te.isEditable)??((ne=f(l)[p-1])==null?void 0:ne.isEditable))},["prevent"])},[E(u,{size:"22",symbol:"move-right-4"})],8,dt)):O("",!0),f(r)["item-footer"]&&!G(i.id,c.index)?(g(),m("div",ct,[B(s.$slots,"item-footer",{props:c})])):O("",!0),f(r)["item-edit-footer"]&&G(i.id,c.index)?(g(),m("div",ft,[B(s.$slots,"item-edit-footer",{props:c,blockId:i.id,index:c.index,getValue:Z(i.id,c.index),setValue:ee(i.id,c.index)})])):O("",!0)])])]),_:2},1032,["data-items"])):(g(),m("div",Ze,[B(s.$slots,"empty",{blockId:i.id,emptyText:i.emptyText},()=>[re(K(i.emptyText||"Empty"),1)])])),i.noAdd?O("",!0):(g(),m("div",vt,[x("div",ht,[x("span",pt,K(s.addTitle),1),x("div",gt,[I(i.id)?(g(),m(H,{key:1},[x("button",{class:"text-error",onClick:S(()=>{W(i.id),w(i.id,!1)},["prevent"])},[E(u,{symbol:"clear",size:"14"})],8,yt),x("button",{class:se([Y(i.id)?"text-success":"text-neutral"]),disabled:!Y(i.id),onClick:S(()=>{ye(i.id),w(i.id,!1),e("update:modelValue",a.value),e("updated",a.value),f(o).emit(f(V).formFieldChangedEvent),f(o).emit(f(V).formFieldPageLevelChangedEvent)},["prevent"])},[E(u,{symbol:"check-big",size:"16"})],10,bt)],64)):(g(),m("button",{key:0,class:"text-primary",onClick:S(c=>w(i.id,!0),["prevent"])},[E(u,{symbol:"add-circle-27",size:"20"})],8,mt))])]),I(i.id)?(g(),m("div",_t,[B(s.$slots,"create-form",{blockId:i.id,getValue:L(i.id),setValue:h(i.id)})])):O("",!0)]))])],2),p<f(l).length-1?(g(),m("div",Ct,[x("a",xt,[E(u,{symbol:"arrow-transfer-horizontal-large-2-75",size:"16"})])])):O("",!0)],64)}),128))])}}});export{Lt as _};
