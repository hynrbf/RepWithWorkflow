import{_ as v}from"./ModalComponent.vue_vue_type_script_setup_true_lang-fe9b98ed.js";import{j as w,bH as N,N as O,_ as b,aA as k,o as n,q as h,w as r,P as t,n as u,x as s,m as f,r as g,J as S,K as $,y as z,L as D,a5 as E,a6 as V}from"./index-9d6d511f.js";import{s as I}from"./organizationchart.esm-8c183601.js";const M=w({name:"EmployeeCorporateControllerChartModal",props:{registeredCustomer:{type:Object,default:new N}},data(){return{corporateControllers:this.registeredCustomer.corporateControllers,selection:{}}},components:{IconComponent:O,OrganizationChart:I},computed:{transformedData(){if(!(this.registeredCustomer.noOfCorporateShareholders>0))return{key:void 0};const e=this.corporateControllers[0],o=this.corporateControllers.slice(1);return{...this.mapCompanyToOrganizationChartNode(e),children:o.map(c=>this.mapCompanyToOrganizationChartNode(c))}}},methods:{mapCompanyToOrganizationChartNode(e){return{key:e.companyName,type:"firm",data:{name:e.companyName,companyNo:e.companyNumber,votingRights:e.percentageOfVotingRights,ownership:e.percentageOfCapital,directors:e.directors.map(o=>`${o.forename} ${o.surname}`)}}}}});const i=e=>(E("data-v-f47150ca"),e=e(),V(),e),B={class:"d-flex flex-column",style:{"margin-top":"20px"}},K={class:"node-content"},L={class:"avatar-circle-frame"},R=["src"],T={class:"node-name"},j={class:"company-no-text"},F={class:"d-flex",style:{"justify-content":"start",margin:"10px 0 15px 0"}},q={class:"d-flex flex-column",style:{width:"100px",height:"24px","margin-right":"30px"}},A={class:"text-value"},H=i(()=>t("span",{class:"text-label"},"Voting Rights",-1)),J=i(()=>t("span",{style:{width:"0.5px",height:"40px",background:"var(--text-text-disabled)"}},null,-1)),U={class:"d-flex flex-column",style:{width:"100px",height:"24px","margin-left":"30px"}},G={class:"text-value"},Q=i(()=>t("span",{class:"text-label"},"Ownership",-1)),W={key:0,class:"directors-section"},X={class:"directors-section-title"};function Y(e,o,c,Z,P,ee){const d=D,y=k("OrganizationChart"),C=v;return n(),h(C,{ref:"modalElement",width:"1031",height:"800",title:"Owners & Controllers Structure Chart",isShowDownloadPDF:!0},{default:r(()=>[t("div",B,[u(y,{selectionKeys:e.selection,"onUpdate:selectionKeys":o[0]||(o[0]=a=>e.selection=a),value:e.transformedData,collapsible:"",selectionMode:"multiple"},{firm:r(a=>{var l,p,m,_;return[t("div",K,[t("div",L,[t("img",{alt:"corporate-controller-chart-avatar",src:"/corporate-controller-chart-avatar.png",class:"node-avatar"},null,8,R)]),t("span",T,s((l=a.node)==null?void 0:l.data.name),1),t("span",j,s((p=a.node)==null?void 0:p.data.companyNo),1),t("div",F,[t("div",q,[t("span",A,s(a.node.data.votingRights)+"% ",1),H]),J,t("div",U,[t("span",G,s(a.node.data.ownership)+"% ",1),Q])]),((m=a.node)==null?void 0:m.data.directors.length)>0?(n(),f("div",W,[t("div",X,[u(d,null,{default:r(()=>[g("Directors")]),_:1})]),(n(!0),f(S,null,$((_=a.node)==null?void 0:_.data.directors,x=>(n(),h(d,{class:"directors-names"},{default:r(()=>[g(s(x),1)]),_:2},1024))),256))])):z("",!0)])]}),_:1},8,["selectionKeys","value"])])]),_:1},512)}const se=b(M,[["render",Y],["__scopeId","data-v-f47150ca"]]);export{se as default};
