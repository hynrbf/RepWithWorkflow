var pe=Object.defineProperty;var ce=(e,a,v)=>a in e?pe(e,a,{enumerable:!0,configurable:!0,writable:!0,value:v}):e[a]=v;var c=(e,a,v)=>(ce(e,typeof a!="symbol"?a+"":a,v),v);import{_ as Ie}from"./ModalComponent.vue_vue_type_script_setup_true_lang-fe9b98ed.js";import{bd as he,j as fe,aq as ie,aa as Z,az as X,D as x,af as ge,I as ye,ab as be,ay as Ce,ap as Ae,aj as Ne,a3 as se,bI as De,G as oe,l as Re,bc as Ve,au as ee,av as ne,as as re,at as de,dm as Pe,A as ue,_ as Le,aA as ae,o as m,q as te,bY as me,w as d,P as n,n as i,$ as ve,r as J,m as p,x as l,y as F,J as le,K as Se,a0 as Fe,aZ as we,N as _e,c8 as Te,b8 as Ue,aI as Oe,R as ke,aJ as $e,aK as qe,aL as Be,aM as Ee,Q as Me,aO as ze,cD as We,a2 as Ke,W as je,b0 as Je,aT as Ye,aU as He,O as Ge,aC as Qe,a5 as Ze,a6 as Xe}from"./index-9d6d511f.js";import{_ as xe}from"./NumberListComponent-fb44b311.js";import{_ as en}from"./KendoNationalityInputComponent-5a552edf.js";import{_ as nn}from"./StatusLabelComponent.vue_vue_type_script_setup_true_lang-90f1f182.js";import{u as an}from"./AppointedRepresentatives-34c5263f.js";import"./GridCardTable-248623f7.js";class tn{constructor(){c(this,"id",he());c(this,"productId","");c(this,"annualFeeIncome");c(this,"annualCommissionIncome");c(this,"limitations");c(this,"isAppointed",!1);c(this,"hasLimitation",!1);c(this,"name");c(this,"projectedAnnualFee");c(this,"projectedAnnualCommissionIncome");c(this,"yearsOfExperience");c(this,"hasPendingApplication",!1);c(this,"isModified",!1);c(this,"isNewProduct",!1)}}const ln=fe({name:"DetailsModal",props:{value:{type:Object,default:new ie},viewMode:{type:Boolean,default:!1},editMode:{type:Boolean,default:!1}},components:{Activities:Z(()=>X(()=>import("./Activities-5b835db0.js"),["assets/Activities-5b835db0.js","assets/index-9d6d511f.js","assets/index-982d5504.css","assets/InfoTableComponent.vue_vue_type_script_setup_true_lang-a9fe18e7.js","assets/Activities-60c7b5a0.css"])),FeesChargeTable:Z(()=>X(()=>import("./FeesChargeTable-f504c5d2.js"),["assets/FeesChargeTable-f504c5d2.js","assets/index-9d6d511f.js","assets/index-982d5504.css","assets/FeesChargeTable-0aa883c2.css"])),KendoFirmFinderComponentAsync:Z(()=>X(()=>import("./KendoFirmFinderComponent-9a5bf623.js"),["assets/KendoFirmFinderComponent-9a5bf623.js","assets/index-9d6d511f.js","assets/index-982d5504.css","assets/KendoFirmFinderComponent-d11737a3.css"]))},data(){return{fcaService:x.resolve(ge.name),helperService:x.resolve(ye.name),appointedRepresentativeService:x.resolve(be.name),activePanels:["ar-details"],isLoading:!1,isInitializing:!0,valueInternal:this.value}},computed:{AppointedRepresentativeActivity(){return tn},ContactNumber(){return Ce},OnboardingType(){return Ae},FirmBasicInfo(){return Ne},AppointedRepresentative(){return ie},navPills(){return[{id:"ar-details",label:"Appointed Representative Details",icon:"text-file-17",anchorTo:"panel-ar-details",active:this.activePanels.includes("ar-details")},{id:"ar-rep-details",label:"Representative Details",icon:"user-protection-check",anchorTo:"panel-ar-rep-details",active:this.activePanels.includes("ar-rep-details")},{id:"activities",label:"Activities",icon:"task-list-35",anchorTo:"panel-activities",active:this.activePanels.includes("activities")},{id:"fees",label:"Fees",icon:"currency-pound-circle",anchorTo:"panel-fees",active:this.activePanels.includes("fees")}]},panels(){return[{id:"ar-details",title:"Appointed Representative Details",content:"",active:this.activePanels.includes("ar-details")},{id:"ar-rep-details",title:`${this.valueInternal.name??""} Representative Details`,content:"",active:this.activePanels.includes("ar-rep-details")},{id:"activities",title:"Activities",content:"",active:this.activePanels.includes("activities"),contentClass:"pt-0"},{id:"fees",title:"Fees",content:"",active:this.activePanels.includes("fees")}]},reasonsOptions(){return se.getAppointReasons().map(e=>({label:e,value:e}))},servicesARPayForOptions(){return se.getServicesARPayFor().map(e=>({label:e,value:e}))},isEmailValid(){return this.valueInternal.email?this.helperService.checkIfEmailFormatIsValid(this.valueInternal.email):!1},isValidPrimaryDetails(){return this.valueInternal.isCompany?!!this.valueInternal.name&&(!!this.valueInternal.companyNumber||!!this.valueInternal.firmReferenceNumber):!!this.valueInternal.forename&&!!this.valueInternal.firmReferenceNumber},areAllRequiredFieldsProvided(){var t;const{isCompany:e,companyNumber:a,firmReferenceNumber:v,name:g,forename:C,surname:R,tradingNames:A,registeredAddress:T,tradingAddress:V,homeAddress:y,email:P,contactNumber:N,proposedCommencementDate:U,residenceStartDate:L,dateOfBirth:w,countryOfBirth:Y,nationalities:_,nationalityInsuranceNumber:O,passportNumber:h,representative:b,isBeIntroducer:E,primaryReason:M,isPayForServices:k,serviceToPayFor:$,fees:q,isActivitiesCoveredByPii:z,piiActivitiesCovered:H,activities:W}=this.valueInternal,K=!!a||!!v,G=!!O||!!h,B=Array.isArray(A)&&A.length>0,j=U!=null&&U!==0,Q=L!=null&&L!==0,r=w!=null&&w!==0,o=b&&b.forename!==""&&b.surname!==""&&b.emailAddress!==""&&((t=b.contactNumber)==null?void 0:t.number)!==void 0&&b.jobTitle!=="",D=Array.isArray(W)&&W.length>0,S=Array.isArray(_)&&_.length>0;let f=[K,g!=="",B,T!=="",V!=="",this.helperService.checkIfEmailFormatIsValid(P??""),(N==null?void 0:N.number)!==void 0,j,o,E!=null,M!=="",k!=null,D];return e||(f=[K,C!=="",R!=="",y!=="",V!=="",this.helperService.checkIfEmailFormatIsValid(P??""),(N==null?void 0:N.number)!==void 0,j,Q,r,Y!=="",S,G,B,E!=null,M!=="",k!=null,D]),k&&(f.push(z!=null),f.push($!==""),f.push(!!q&&Array.isArray(q)&&q.length>0)),z&&f.push(H!==""),f.every(I=>I)}},watch:{value(e){this.valueInternal=e},"valueInternal.isPayForServices":function(e){e||(this.valueInternal.serviceToPayFor="",this.valueInternal.fees=[],this.valueInternal.isActivitiesCoveredByPii=null)},"valueInternal.isActivitiesCoveredByPii":function(e){e||(this.valueInternal.piiActivitiesCovered="")},"valueInternal.proposedCommencementDate":function(e){e&&this.valueInternal.firmDetail&&(this.valueInternal.firmDetail.proposedCommencementDate=e)}},setup(){const e=an(),{saveOrUpdateAppointedRepresentativeAsync:a}=e,{currentFirmName:v}=De(),g=oe(),C=oe(),R=Re("editItem");return{currentFirmName:v,saveOrUpdateAppointedRepresentativeAsync:a,editDetails:R,modalElement:g,arPanelsElement:C,openARPanel:T=>{const V=T.filter(y=>y.active);if(V.length>0){const y=V[0].anchorTo;y!==void 0&&y!==""&&C.value.expand(y.replace(/^panel-/,"").trim())}}}},mounted(){this.isInitializing=!1},methods:{moment(e){return Ve(e)},onPanelExpanded(e){this.activePanels.push(e.id),this.activePanels=[...new Set(this.activePanels)]},onPanelCollapsed(e){this.activePanels=this.activePanels.filter(a=>a!==e.id)},async save(e){var a,v,g,C,R,A;try{this.valueInternal.firstName=((a=this.valueInternal.forename)==null?void 0:a.trim())??((g=(v=this.valueInternal.representative)==null?void 0:v.forename)==null?void 0:g.trim())??"Company",this.valueInternal.lastName=((C=this.valueInternal.surname)==null?void 0:C.trim())??((A=(R=this.valueInternal.representative)==null?void 0:R.surname)==null?void 0:A.trim())??"User",this.valueInternal.isCompany||(this.valueInternal.name=`${this.valueInternal.forename} ${this.valueInternal.surname}`.trim()),this.valueInternal.firmDetail&&(this.valueInternal.firmDetail.firmName=this.valueInternal.name,this.valueInternal.firmDetail.proposedCommencementDate=this.valueInternal.proposedCommencementDate,this.valueInternal.firmDetail.emailAddress=this.valueInternal.email,this.valueInternal.firmDetail.website=this.valueInternal.website),await this.saveOrUpdateAppointedRepresentativeAsync(this.valueInternal),ee({type:ne.SUCCESS,content:`
              <div class="text-center">
                New Appointed Representative Added.
                <br /><br />
                ${e}
              </div>
            `})}catch{ee({type:ne.ERROR,content:"Something went wrong. Please try again later."})}},handleRequestToCompleteDetails(){if(!this.valueInternal.email)return;const e=this.valueInternal.email;re({title:"Confirm",content:`Please confirm that you are happy for us to email ${this.currentFirmName} to complete their profile.`,confirmButtonText:"Confirm & Send Email",cancelButtonText:"Cancel",type:de.SAVEDETAILS,saveDetailsText:"Save Details",isShowSaveDetailsButton:!0,width:440,onConfirm:async()=>{var v,g;this.isLoading=!0;const a=this.valueInternal;a.profileStatus=Pe.Full.toString(),a.firstName=this.valueInternal.isCompany?"Company":(v=this.valueInternal.forename)==null?void 0:v.trim(),a.lastName=this.valueInternal.isCompany?"User":(g=this.valueInternal.surname)==null?void 0:g.trim(),this.valueInternal.isCompany||(a.name=`${this.valueInternal.forename} ${this.valueInternal.surname}`.trim()),await this.saveOrUpdateAppointedRepresentativeAsync(a),this.isLoading=!1,ee({type:ne.SUCCESS,content:`<center>New Appointed Representative Added.</center> <br /> <center>We have emailed <b>${e}</b> to complete their profile.</center>`,interval:ue.notificationPopupTimeOut})},onSaveDetails:()=>{this.save("Please complete the Appointed Representative Profile here.")}})},handleSubmit(){re({type:de.CONFIRM,width:410,content:`Please confirm that you are happy for us to email ${this.valueInternal.name??"[Appointed Representative Name]"} to complete their profile.`,confirmButtonText:"Confirm & Send Email",cancelButtonText:"Save Details",cancelButtonThemeColor:"primary",cancelButtonFillMode:"outline",onConfirm:()=>{this.save(`We have emailed <strong>${this.valueInternal.email}</strong> to complete their profile.`)},onCancel:()=>{this.save("Please complete the Appointed Representative Profile here.")}})},async populateRelatedFields(e){try{const a=await this.fcaService.getFirmAddressesDetailsAsync(e,"PPOB");if(!a.length)return;a[0]["Phone Number"]&&a[0].country&&(this.valueInternal.contactNumber=await this.helperService.convertToContactNoAsync(a[0]["Phone Number"],a[0].country)),this.valueInternal.website=a[0]["Website Address"];const v=await this.fcaService.getFirmTradingNamesAsync(e);this.valueInternal.tradingNames=v}catch{throw new Error("Something went wrong. Please try again later.")}},setUniqueIdentifier(e){return`${ue.appointedRepresentativesRoute}${e}`.replace(/\s+/g,"").replace("/","")}}});const s=e=>(Ze("data-v-66be300b"),e=e(),Xe(),e),sn={key:0,class:"text-center mb-3"},on={class:"font-weight-bold font-size-xl"},rn={key:0,class:"row"},dn={class:"col-lg-4"},un={class:"DescList"},mn=s(()=>n("dt",null,"Appointed Representative Name",-1)),vn={class:"col-lg-4"},pn={class:"DescList"},cn=s(()=>n("dt",null,"Company Number",-1)),In={class:"col-lg-4"},hn={class:"DescList"},fn=s(()=>n("dt",null,"Firm Reference Number",-1)),gn={class:"col-lg-8"},yn={class:"DescList"},bn=s(()=>n("dt",null,"Trading Names",-1)),Cn={class:"is-truncated d-inline-block w-100"},An={class:"col-lg-4"},Nn={class:"DescList"},Dn={class:"col-lg-12"},Rn={class:"DescList"},Vn=s(()=>n("dt",null,"Registered Address",-1)),Pn={class:"col-lg-12"},Ln={class:"DescList"},Sn=s(()=>n("dt",null,"Trading Address",-1)),Fn={class:"col-lg-4"},wn={class:"DescList"},_n=s(()=>n("dt",null,"Email Address",-1)),Tn={class:"col-lg-4"},Un={class:"DescList"},On=s(()=>n("dt",null,"Contact Number",-1)),kn={class:"col-lg-4"},$n={class:"DescList"},qn=s(()=>n("dt",null,"Website",-1)),Bn={key:1},En={class:"row"},Mn={class:"col-lg-3"},zn={class:"DescList"},Wn=s(()=>n("dt",null,"Title",-1)),Kn={class:"col-lg-3"},jn={class:"DescList"},Jn=s(()=>n("dt",null,"Forename(s)",-1)),Yn={class:"col-lg-3"},Hn={class:"DescList"},Gn=s(()=>n("dt",null,"Surname",-1)),Qn={class:"col-lg-3"},Zn={class:"DescList"},Xn=s(()=>n("dt",null,"Firm Reference number",-1)),xn={class:"col-lg-6"},ea={class:"DescList"},na=s(()=>n("dt",null,"Home Address",-1)),aa={class:"col-lg-6"},ta={class:"DescList"},la=s(()=>n("dt",null,"Residence Start Date",-1)),ia={class:"col-lg-4"},sa={class:"DescList"},oa=s(()=>n("dt",null,"Date of Birth",-1)),ra={class:"col-lg-4"},da={class:"DescList"},ua=s(()=>n("dt",null,"Country of Birth",-1)),ma={class:"col-lg-4"},va={class:"DescList"},pa=s(()=>n("dt",null,"Nationality",-1)),ca={key:0},Ia={key:1},ha={class:"col-lg-4"},fa={class:"DescList"},ga=s(()=>n("dt",null,"National Insurance Number",-1)),ya={class:"col-lg-4"},ba={class:"DescList"},Ca=s(()=>n("dt",null,"Passport Number",-1)),Aa={class:"col-lg-6"},Na={class:"DescList"},Da=s(()=>n("dt",null,"Trading Names",-1)),Ra={class:"is-truncated d-inline-block w-100"},Va={class:"col-lg-4"},Pa={class:"DescList"},La={class:"col-lg-12"},Sa={class:"DescList"},Fa=s(()=>n("dt",null,"Trading Address",-1)),wa={class:"col-lg-3"},_a={class:"DescList"},Ta=s(()=>n("dt",null,"Email Address",-1)),Ua={class:"col-lg-3"},Oa={class:"DescList"},ka=s(()=>n("dt",null,"Contact Number",-1)),$a={class:"col-lg-3"},qa={class:"DescList"},Ba=s(()=>n("dt",null,"Website",-1)),Ea={key:0,class:"row gy-3"},Ma={class:"col-lg-9"},za={key:1,class:"row gy-3"},Wa={class:"col-lg-3"},Ka={class:"col-lg-4"},ja={class:"col-lg-9"},Ja={key:0,class:"row"},Ya={class:"col-lg-4"},Ha={class:"DescList"},Ga=s(()=>n("dt",null,"Title",-1)),Qa={class:"col-lg-4"},Za={class:"DescList"},Xa=s(()=>n("dt",null,"Forename(s)",-1)),xa={class:"col-lg-4"},et={class:"DescList"},nt=s(()=>n("dt",null,"Surname",-1)),at={class:"col-lg-4"},tt={class:"DescList"},lt=s(()=>n("dt",null,"Email Address",-1)),it={class:"col-lg-4"},st={class:"DescList"},ot=s(()=>n("dt",null,"Contact Number",-1)),rt={class:"col-lg-4"},dt={class:"DescList"},ut=s(()=>n("dt",null,"Job Title",-1)),mt={key:1,class:"row gy-3"},vt={class:"col-lg-4"},pt={key:0},ct={class:"DescList list-group list-group-numbered"},It={class:"DescList"},ht={class:"DescList"},ft={class:"DescList"},gt={class:"mb-10px w-100 d-block"},yt={class:"font-size-xs font-weight-bold mb-2px w-100 d-block"},bt={class:"DescList"},Ct={class:"DescList"},At={class:"row align-items-center"},Nt={class:"col-lg-8"},Dt={class:"col-lg-4 text-right"},Rt={key:0,class:"row align-items-center"},Vt={class:"col-lg-8"},Pt={class:"col-lg-4 text-right"},Lt={key:0,class:"row align-items-center"},St={class:"col-lg-8"},Ft={class:"col-lg-4 text-right"},wt={class:"d-flex justify-content-end",style:{gap:"10px"}};function _t(e,a,v,g,C,R){const A=nn,T=we,V=_e,y=Te,P=Ue,N=ae("KendoFirmFinderComponentAsync"),U=Oe,L=ke,w=$e,Y=qe,_=Be,O=Ee,h=Me,b=ze,E=We,M=en,k=ae("Activities"),$=Ke,q=ae("FeesChargeTable"),z=je,H=xe,W=Je,K=Ye,G=He,B=Ge,j=Qe,Q=Ie;return m(),te(Q,{ref:"modalElement",title:e.viewMode?"":`${e.editMode?"Edit":"Add New"} Appointed Representative`,width:"1200","auto-scroll-content":"",class:Fe(["DetailsModal",e.viewMode&&"DetailsModal--viewMode"]),onClose:a[44]||(a[44]=()=>e.valueInternal=new e.AppointedRepresentative)},me({default:d(()=>[e.viewMode?(m(),p("div",sn,[n("h4",on,l(e.valueInternal.name),1),i(A,{"no-icon":"",status:2,text:"Onboarding"})])):F("",!0),i(T,{items:e.navPills,"hidden-items":[!e.valueInternal.isCompany&&"ar-rep-details"],class:"is-sticky-top is-bg-white",style:{margin:"0 -10px 10px","z-index":"5"},anchorable:"","onUpdate:items":e.openARPanel},null,8,["items","hidden-items","onUpdate:items"]),i(G,{onSubmit:e.handleSubmit},{default:d(()=>[i(K,{ref:"formElement"},{default:d(()=>[i(W,{ref:"arPanelsElement",class:"ARPanels",items:e.panels,"hidden-items":[!e.valueInternal.isCompany&&"ar-rep-details"],accordion:"",onExpanded:e.onPanelExpanded,onCollapsed:e.onPanelCollapsed},{"after-title":d(()=>[e.viewMode?(m(),p("a",{key:0,href:"javascript:;",onClick:a[0]||(a[0]=ve(()=>{var r;(r=e.editDetails)==null||r.call(e,e.valueInternal.id),e.modalElement.close()},["stop"]))},[i(V,{symbol:"edit-pen"})])):F("",!0)]),"content-ar-details":d(()=>{var r,o,D,S,f;return[e.viewMode?(m(),p(le,{key:0},[e.valueInternal.isCompany===!0?(m(),p("div",rn,[n("div",dn,[n("dl",un,[mn,n("dd",null,l(e.valueInternal.name||"-"),1)])]),n("div",vn,[n("dl",pn,[cn,n("dd",null,l(e.valueInternal.companyNumber||"-"),1)])]),n("div",In,[n("dl",hn,[fn,n("dd",null,l(e.valueInternal.firmReferenceNumber||"-"),1)])]),n("div",gn,[n("dl",yn,[bn,n("dd",null,[i(y,{items:e.valueInternal.tradingNames,"popup-title":"Trading Names"},{"visible-items":d(({items:t})=>[n("span",Cn,l((t||[]).join(", ")||"-"),1)]),_:1},8,["items"])])])]),n("div",An,[n("dl",Nn,[n("dt",null,l(e.valueInternal.firmReferenceNumber?"Commencement Date":"Proposed Commencement Date"),1),n("dd",null,l(((r=e.valueInternal)==null?void 0:r.proposedCommencementDate)!=0?e.moment((o=e.valueInternal)==null?void 0:o.proposedCommencementDate).format("LL"):"-"),1)])]),n("div",Dn,[n("dl",Rn,[Vn,n("dd",null,l(e.valueInternal.registeredAddress||"-"),1)])]),n("div",Pn,[n("dl",Ln,[Sn,n("dd",null,l(e.valueInternal.tradingAddress||"-"),1)])]),n("div",Fn,[n("dl",wn,[_n,n("dd",null,l(e.valueInternal.email||"-"),1)])]),n("div",Tn,[n("dl",Un,[On,n("dd",null,l(((D=e.valueInternal.contactNumber)==null?void 0:D.number)||"-"),1)])]),n("div",kn,[n("dl",$n,[qn,n("dd",null,l(e.valueInternal.website||"-"),1)])])])):(m(),p("div",Bn,[n("div",En,[n("div",Mn,[n("dl",zn,[Wn,n("dd",null,l(e.valueInternal.title||"-"),1)])]),n("div",Kn,[n("dl",jn,[Jn,n("dd",null,l(e.valueInternal.forename||"-"),1)])]),n("div",Yn,[n("dl",Hn,[Gn,n("dd",null,l(e.valueInternal.surname||"-"),1)])]),n("div",Qn,[n("dl",Zn,[Xn,n("dd",null,l(e.valueInternal.firmReferenceNumber||"-"),1)])]),n("div",xn,[n("dl",ea,[na,n("dd",null,l(e.valueInternal.homeAddress||"-"),1)])]),n("div",aa,[n("dl",ta,[la,n("dd",null,l(e.moment(e.valueInternal.residenceStartDate).format("LL")||"-"),1)])]),n("div",ia,[n("dl",sa,[oa,n("dd",null,l(e.moment(e.valueInternal.dateOfBirth).format("LL")||"-"),1)])]),n("div",ra,[n("dl",da,[ua,n("dd",null,l(e.valueInternal.countryOfBirth||"-"),1)])]),n("div",ma,[n("dl",va,[pa,e.valueInternal.nationalities&&e.valueInternal.nationalities.length>0?(m(),p("dd",ca,[(m(!0),p(le,null,Se(e.valueInternal.nationalities,(t,I)=>(m(),p("span",{key:I},l(`${t}, `),1))),128))])):(m(),p("dd",Ia," - "))])]),n("div",ha,[n("dl",fa,[ga,n("dd",null,l(e.valueInternal.nationalityInsuranceNumber||"-"),1)])]),n("div",ya,[n("dl",ba,[Ca,n("dd",null,l(e.valueInternal.passportNumber||"-"),1)])]),n("div",Aa,[n("dl",Na,[Da,n("dd",null,[i(y,{items:e.valueInternal.tradingNames,"popup-title":"Trading Names",style:{display:"inline-flex"}},{"visible-items":d(({items:t})=>[n("span",Ra,l((t||[]).join(", ")),1)]),_:1},8,["items"])])])]),n("div",Va,[n("dl",Pa,[n("dt",null,l(e.valueInternal.firmReferenceNumber?"Commencement Date":"Proposed Commencement Date"),1),n("dd",null,l(e.moment((S=e.valueInternal)==null?void 0:S.proposedCommencementDate).format("LL")),1)])]),n("div",La,[n("dl",Sa,[Fa,n("dd",null,l(e.valueInternal.tradingAddress||"-"),1)])]),n("div",wa,[n("dl",_a,[Ta,n("dd",null,l(e.valueInternal.email||"-"),1)])]),n("div",Ua,[n("dl",Oa,[ka,n("dd",null,l(((f=e.valueInternal.contactNumber)==null?void 0:f.number)||"-"),1)])]),n("div",$a,[n("dl",qa,[Ba,n("dd",null,l(e.valueInternal.website||"-"),1)])])])]))],64)):(m(),p(le,{key:1},[i(P,{modelValue:e.valueInternal.isCompany,"onUpdate:modelValue":a[1]||(a[1]=t=>e.valueInternal.isCompany=t),text:"Is the Appointed Representative a Company or a Sole Trader?",reverse:"",wide:"","on-label":"Company","off-label":"Sole Trader",class:"mb-3",hasDefaultModelValue:!0,disabled:e.valueInternal.isCompany!==null&&e.editMode},null,8,["modelValue","disabled"]),e.valueInternal.isCompany===!0?(m(),p("div",Ea,[i(N,{id:e.setUniqueIdentifier("-arDetails.appointed-representative"),class:"col-12",companyNameLabel:"Appointed Representative Name",company:{firmName:e.valueInternal.name,companyNumber:e.valueInternal.companyNumber,firmReferenceNumber:e.valueInternal.firmReferenceNumber},companyName:e.valueInternal.name,companyNumber:e.valueInternal.companyNumber,firmReferenceNumber:e.valueInternal.firmReferenceNumber,isInitializing:!1,onOnCompanyDetailUpdated:a[2]||(a[2]=t=>{var I,u;e.valueInternal.name=t.firmName,e.valueInternal.companyNumber=t.companyNumber,e.valueInternal.firmReferenceNumber=t.firmReferenceNumber,e.valueInternal.tradingAddress=t.tradingAddress,e.valueInternal.registeredAddress=t.address,e.populateRelatedFields(((u=(I=e.valueInternal)==null?void 0:I.firmReferenceNumber)==null?void 0:u.toString())??"")})},null,8,["id","company","companyName","companyNumber","firmReferenceNumber"]),n("div",Ma,[i(U,{name:"tradingNames",isValueReactive:!0,value:e.valueInternal.tradingNames,isUserModified:e.valueInternal.isTradingNamesChanged,isDataLoadedCompletely:!e.isInitializing,onOnValueChange:a[3]||(a[3]=t=>e.valueInternal.tradingNames=t),onOnRemoveItem:a[4]||(a[4]=(t,I)=>{var u;(u=e.valueInternal.tradingNames)==null||u.splice(I,1)}),isShowAllOnPopup:!0},null,8,["value","isUserModified","isDataLoadedCompletely"])]),i(L,{id:e.setUniqueIdentifier("proposedCommencementDate"),class:"col-lg-3",label:e.valueInternal.firmReferenceNumber?"Commencement Date":"Proposed Commencement Date",name:"proposedCommencementDate",epoch:!0,value:e.valueInternal.proposedCommencementDate,isValueReactive:!0,isRequired:!0,onOnValueChange:a[5]||(a[5]=t=>e.valueInternal.proposedCommencementDate=t)},null,8,["id","label","value"]),i(w,{id:e.setUniqueIdentifier("-registeredAddress"),class:"col-12",name:"registeredAddress",label:"Registered Address",value:e.valueInternal.registeredAddress,isValueReactive:!0,isDataLoadedCompletely:!e.isInitializing,onOnValueChange:a[6]||(a[6]=t=>e.valueInternal.registeredAddress=t)},null,8,["id","value","isDataLoadedCompletely"]),i(Y,{id:e.setUniqueIdentifier("-tradingAddress"),class:"col-12",name:"tradingAddress",label:"Trading Address",isRequired:!0,value:e.valueInternal.tradingAddress,isShowCheckBox:!0,isChecked:e.valueInternal.isTradingSameAsRegisteredAddress,onOnValueChange:a[7]||(a[7]=t=>e.valueInternal.tradingAddress=t),onOnToggle:a[8]||(a[8]=()=>{e.valueInternal.isTradingSameAsRegisteredAddress=!e.valueInternal.isTradingSameAsRegisteredAddress,e.valueInternal.isTradingSameAsRegisteredAddress?e.valueInternal.tradingAddress=e.valueInternal.registeredAddress:e.valueInternal.tradingAddress=""}),sameAsLabel:e.$t("same-as-registered-address"),isValueReactive:!0,isDataLoadedCompletely:!e.isInitializing},null,8,["id","value","isChecked","sameAsLabel","isDataLoadedCompletely"]),i(_,{id:e.setUniqueIdentifier("-email"),class:"col-lg-4",label:"Email Address",name:"email",modelValue:e.valueInternal.email,"onUpdate:modelValue":a[9]||(a[9]=t=>e.valueInternal.email=t),isValueReactive:!0},null,8,["id","modelValue"]),i(O,{id:e.setUniqueIdentifier("-contactNumber"),name:"contactNumber",label:"Contact Number",class:"col-lg-4",value:e.valueInternal.contactNumber,onOnValueChange:a[10]||(a[10]=t=>e.valueInternal.contactNumber=t),isValueReactive:!0,isDataLoadedCompletely:!e.isInitializing},null,8,["id","value","isDataLoadedCompletely"]),i(h,{id:e.setUniqueIdentifier("-website"),class:"col-lg-4",label:"Website",name:"website",modelValue:e.valueInternal.website,"onUpdate:modelValue":a[11]||(a[11]=t=>e.valueInternal.website=t),isRequired:!1},null,8,["id","modelValue"])])):F("",!0),e.valueInternal.isCompany===!1?(m(),p("div",za,[n("div",Wa,[i(b,{name:"title",label:"Title",isRequired:!1,isValueReactive:!0,isDataLoadedCompletely:!e.isInitializing,value:e.valueInternal.title,onOnValueChange:a[12]||(a[12]=t=>e.valueInternal.title=t)},null,8,["isDataLoadedCompletely","value"])]),i(h,{id:e.setUniqueIdentifier("-forename"),class:"col-lg-3",name:"forename",label:"Forename(s)",modelValue:e.valueInternal.forename,"onUpdate:modelValue":a[13]||(a[13]=t=>e.valueInternal.forename=t),isCapitalizeFirstLetter:!0,isCheckForProfanity:!0,isValueReactive:!0,isDataLoadedCompletely:!e.isInitializing},null,8,["id","modelValue","isDataLoadedCompletely"]),i(h,{id:e.setUniqueIdentifier("-surname"),class:"col-lg-3",name:"surname",label:"Surname",modelValue:e.valueInternal.surname,"onUpdate:modelValue":a[14]||(a[14]=t=>e.valueInternal.surname=t),isCapitalizeFirstLetter:!0,isCheckForProfanity:!0,isValueReactive:!0,isDataLoadedCompletely:!e.isInitializing},null,8,["id","modelValue","isDataLoadedCompletely"]),i(h,{id:e.setUniqueIdentifier("-firmReferenceNumber"),class:"col-lg-3",name:"firmReferenceNumber",label:"Firm Reference Number",modelValue:e.valueInternal.firmReferenceNumber,"onUpdate:modelValue":a[15]||(a[15]=t=>e.valueInternal.firmReferenceNumber=t),isCapitalizeFirstLetter:!0,isCheckForProfanity:!0,isValueReactive:!0,isDataLoadedCompletely:!e.isInitializing},null,8,["id","modelValue","isDataLoadedCompletely"]),i(w,{id:e.setUniqueIdentifier("-homeAddress"),class:"col-9",name:"homeAddress",label:"Home Address",value:e.valueInternal.homeAddress,isValueReactive:!0,isDataLoadedCompletely:!e.isInitializing,onOnValueChange:a[16]||(a[16]=t=>e.valueInternal.homeAddress=t)},null,8,["id","value","isDataLoadedCompletely"]),i(L,{id:e.setUniqueIdentifier("-residenceStartDate"),class:"col-lg-3",label:"Residence Start Date",name:"residenceStartDate",epoch:"",onOnValueChange:a[17]||(a[17]=t=>e.valueInternal.residenceStartDate=t),value:e.valueInternal.residenceStartDate,isValueReactive:!0},null,8,["id","value"]),i(L,{id:e.setUniqueIdentifier("-dateOfBirth"),class:"col-lg-4",label:"Date of Birth",name:"dateOfBirth",epoch:"",onOnValueChange:a[18]||(a[18]=t=>e.valueInternal.dateOfBirth=t),value:e.valueInternal.dateOfBirth,isValueReactive:!0},null,8,["id","value"]),n("div",Ka,[i(E,{id:e.setUniqueIdentifier("-countryOfBirth"),name:"countryOfBirth",label:"Country of Birth",value:e.valueInternal.countryOfBirth,onOnValueChange:a[19]||(a[19]=t=>e.valueInternal.countryOfBirth=t)},null,8,["id","value"])]),i(M,{id:e.setUniqueIdentifier("-nationality"),class:"col-lg-4",name:"nationality",label:"Nationality",placeholder:"Please select all that apply",value:e.valueInternal.nationalities,onOnValueChange:a[20]||(a[20]=t=>e.valueInternal.nationalities=t)},null,8,["id","value"]),i(h,{id:e.setUniqueIdentifier("-nationalityInsuranceNumber"),class:"col-lg-6",name:"nationalityInsuranceNumber",label:"Nationality Insurance Number",placeholder:"LLLNNLLL",modelValue:e.valueInternal.nationalityInsuranceNumber,"onUpdate:modelValue":a[21]||(a[21]=t=>e.valueInternal.nationalityInsuranceNumber=t),isCapitalizeFirstLetter:!0,isCheckForProfanity:!0,isValueReactive:!0,isDataLoadedCompletely:!e.isInitializing},null,8,["id","modelValue","isDataLoadedCompletely"]),i(h,{id:e.setUniqueIdentifier("-passportNumber"),class:"col-lg-6",name:"passportNumber",label:"Passport Number (If National Insurance Number is not available)",placeholder:"NNNNNNNN",modelValue:e.valueInternal.passportNumber,"onUpdate:modelValue":a[22]||(a[22]=t=>e.valueInternal.passportNumber=t),isCapitalizeFirstLetter:!0,isCheckForProfanity:!0,isValueReactive:!0,isDataLoadedCompletely:!e.isInitializing},null,8,["id","modelValue","isDataLoadedCompletely"]),n("div",ja,[i(U,{id:e.setUniqueIdentifier("-tradingNames"),name:"tradingNames",isValueReactive:!0,isDataLoadedCompletely:!e.isInitializing,value:e.valueInternal.tradingNames,isUserModified:e.valueInternal.isTradingNamesChanged,onOnValueChange:a[23]||(a[23]=t=>e.valueInternal.tradingNames=t),onOnRemoveItem:a[24]||(a[24]=(t,I)=>{var u;(u=e.valueInternal.tradingNames)==null||u.splice(I,1)}),isShowAllOnPopup:!0},null,8,["id","isDataLoadedCompletely","value","isUserModified"])]),i(L,{id:e.setUniqueIdentifier("-soletrader-proposedCommencementDate"),class:"col-lg-3",label:e.valueInternal.firmReferenceNumber?"Commencement Date":"Proposed Commencement Date",name:"proposedCommencementDate",epoch:!0,value:e.valueInternal.proposedCommencementDate,isValueReactive:!0,isRequired:!0,onOnValueChange:a[25]||(a[25]=t=>e.valueInternal.proposedCommencementDate=t)},null,8,["id","label","value"]),i(w,{id:e.setUniqueIdentifier("-tradingAddress"),class:"col-12",name:"tradingAddress",label:"Trading Address",value:e.valueInternal.tradingAddress,isValueReactive:!0,isDataLoadedCompletely:!e.isInitializing,onOnValueChange:a[26]||(a[26]=t=>e.valueInternal.tradingAddress=t)},null,8,["id","value","isDataLoadedCompletely"]),i(_,{id:e.setUniqueIdentifier("-soletrader-email"),class:"col-lg-4",label:"Email Address",name:"soletrader-email",modelValue:e.valueInternal.email,"onUpdate:modelValue":a[27]||(a[27]=t=>e.valueInternal.email=t),isValueReactive:!0},null,8,["id","modelValue"]),i(O,{id:e.setUniqueIdentifier("-contactNumber"),name:"contactNumber",label:"Contact Number",class:"col-lg-4",value:e.valueInternal.contactNumber,onOnValueChange:a[28]||(a[28]=t=>e.valueInternal.contactNumber=t),isValueReactive:!0,isDataLoadedCompletely:!e.isInitializing},null,8,["id","value","isDataLoadedCompletely"]),i(h,{id:e.setUniqueIdentifier("-website"),class:"col-lg-4",label:"Website",name:"website",modelValue:e.valueInternal.website,"onUpdate:modelValue":a[29]||(a[29]=t=>e.valueInternal.website=t)},null,8,["id","modelValue"])])):F("",!0)],64))]}),"content-ar-rep-details":d(()=>{var r,o,D,S,f,t,I;return[e.viewMode?(m(),p("div",Ja,[n("div",Ya,[n("dl",Ha,[Ga,n("dd",null,l(((r=e.valueInternal.representative)==null?void 0:r.title)||"-"),1)])]),n("div",Qa,[n("dl",Za,[Xa,n("dd",null,l(((o=e.valueInternal.representative)==null?void 0:o.forename)||"-"),1)])]),n("div",xa,[n("dl",et,[nt,n("dd",null,l(((D=e.valueInternal.representative)==null?void 0:D.surname)||"-"),1)])]),n("div",at,[n("dl",tt,[lt,n("dd",null,l(((S=e.valueInternal.representative)==null?void 0:S.emailAddress)||"-"),1)])]),n("div",it,[n("dl",st,[ot,n("dd",null,l(((t=(f=e.valueInternal.representative)==null?void 0:f.contactNumber)==null?void 0:t.number)||"-"),1)])]),n("div",rt,[n("dl",dt,[ut,n("dd",null,l(((I=e.valueInternal.representative)==null?void 0:I.jobTitle)||"-"),1)])])])):(m(),p("div",mt,[n("div",vt,[i(b,{label:"Title",name:"representative.title",value:e.valueInternal.representative.title,onOnValueChange:a[30]||(a[30]=u=>e.valueInternal.representative.title=u),"is-required":!1},null,8,["value"])]),i(h,{id:e.setUniqueIdentifier("-representative.forename"),class:"col-md-4",label:"Forename(s)",name:"representative.forename",modelValue:e.valueInternal.representative.forename,"onUpdate:modelValue":a[31]||(a[31]=u=>e.valueInternal.representative.forename=u)},null,8,["id","modelValue"]),i(h,{id:e.setUniqueIdentifier("-representative.surname"),class:"col-md-4",label:"Surname",name:"representative.surname",modelValue:e.valueInternal.representative.surname,"onUpdate:modelValue":a[32]||(a[32]=u=>e.valueInternal.representative.surname=u)},null,8,["id","modelValue"]),i(_,{id:e.setUniqueIdentifier("-representative.emailAddress"),class:"col-md-4",label:"Email Address",name:"representative.emailAddress",modelValue:e.valueInternal.representative.emailAddress,"onUpdate:modelValue":a[33]||(a[33]=u=>e.valueInternal.representative.emailAddress=u)},null,8,["id","modelValue"]),i(O,{id:e.setUniqueIdentifier("-representative.contactNumber"),name:"contactNumber",label:"Contact Number",class:"col-lg-4",value:e.valueInternal.representative.contactNumber,onOnValueChange:a[34]||(a[34]=u=>e.valueInternal.representative.contactNumber=u),isValueReactive:!0,isDataLoadedCompletely:!e.isInitializing},null,8,["id","value","isDataLoadedCompletely"]),i(h,{id:e.setUniqueIdentifier("-representative.jobTitle"),class:"col-md-4",label:"Job Title",name:"representative.jobTitle",modelValue:e.valueInternal.representative.jobTitle,"onUpdate:modelValue":a[35]||(a[35]=u=>e.valueInternal.representative.jobTitle=u)},null,8,["id","modelValue"])]))]}),"content-activities":d(()=>[i(k,{modelValue:e.valueInternal.activities,"view-mode":e.viewMode,"onUpdate:modelValue":a[36]||(a[36]=r=>e.valueInternal.activities=r)},null,8,["modelValue","view-mode"])]),"content-fees":d(()=>[e.viewMode?(m(),p("div",pt,[n("dl",ct,[n("dt",null," 1. "+l(`Will ${e.valueInternal.name??"[Appointed Representative Name]"} be an Introducer Appointed Representative?`),1),n("dd",null,l(e.valueInternal.isBeIntroducer===void 0||e.valueInternal.isBeIntroducer===null?"-":e.valueInternal.isBeIntroducer?"Yes":"No"),1)]),n("dl",It,[n("dt",null," 2. "+l(`What is the primary reason for ${e.currentFirmName} seeking to appoint ${e.valueInternal.name??"[Appointed Representative Name]"}?`),1),n("dd",null,l(e.valueInternal.primaryReason||"-"),1)]),n("dl",ht,[n("dt",null," 3. "+l(`Will ${e.valueInternal.name??"[Appointed Representative Name]"} pay ${e.currentFirmName} for the appointment or for any other services received?`),1),n("dd",null,l(e.valueInternal.isPayForServices===void 0||e.valueInternal.isPayForServices===null?"-":e.valueInternal.isPayForServices?"Yes":"No"),1)]),n("dl",ft,[n("dt",null," 4. "+l(`Which services will ${e.valueInternal.name??"[Appointed Representative Name]"} pay ${e.currentFirmName} for? `),1),n("dd",null,[n("span",gt,l(e.valueInternal.serviceToPayFor),1),n("span",yt,l(`Fees Charged by ${e.currentFirmName} to ${e.valueInternal.name}:`),1),J(" "+l((e.valueInternal.fees||[]).map(({type:r,amount:o})=>`${r}: ${(o==null?void 0:o.symbol)??""} ${(o==null?void 0:o.amount)??""}
                  ${(o==null?void 0:o.currency)??""}`).join("<br />")),1)])]),n("dl",bt,[n("dt",null," 5. "+l(`Will the activities undertaken by ${e.valueInternal.name??"[Appointed Representative Name]"} be covered by the PII of The Right Mortgage Limited?`),1),n("dd",null,l(e.valueInternal.isActivitiesCoveredByPii===void 0||e.valueInternal.isActivitiesCoveredByPii===null?"-":e.valueInternal.isActivitiesCoveredByPii?"Yes":"No"),1)]),n("dl",Ct,[n("dt",null," 6. "+l(`Will the activities undertaken by ${e.valueInternal.name??"[Appointed Representative Name]"} be covered by the PII of The Right Mortgage Limited?`),1),n("dd",null,l(e.valueInternal.piiActivitiesCovered||"-"),1)])])):(m(),te(H,{key:1,items:[`Will ${e.valueInternal.name??"[Appointed Representative Name]"} be an Introducer Appointed Representative?`,`What is the primary reason for ${e.currentFirmName} seeking to appoint ${e.valueInternal.name??"[Appointed Representative Name]"}?`,`Will ${e.valueInternal.name??"[Appointed Representative Name]"} pay ${e.currentFirmName} for the appointment or for any other services received?`,`Which services will ${e.valueInternal.name??"[Appointed Representative Name]"} pay ${e.currentFirmName} for? `,`Will the activities undertaken by ${e.valueInternal.name??"[Appointed Representative Name]"} be covered by the PII of ${e.currentFirmName}?`,`Which PII of ${e.currentFirmName} will the activities undertaken by ${e.valueInternal.name??"[Appointed Representative Name]"} be covered?`],"hidden-items":[!e.valueInternal.isPayForServices&&4,!e.valueInternal.isPayForServices&&5,!e.valueInternal.isActivitiesCoveredByPii&&6]},me({"item-1":d(({item:r})=>[J(l(e.valueInternal.isActivitiesCoveredByPii)+" ",1),i(P,{text:r,reverse:"",wide:"",modelValue:e.valueInternal.isBeIntroducer,"onUpdate:modelValue":a[37]||(a[37]=o=>e.valueInternal.isBeIntroducer=o),isRequired:!0},null,8,["text","modelValue"])]),"item-2":d(({item:r})=>[n("div",At,[n("div",Nt,l(r),1),n("div",Dt,[i($,{id:e.setUniqueIdentifier("-arDetails.primaryReason"),name:"primaryReason","data-items":e.reasonsOptions,"is-required":!1,"value-primitive":"",placeholder:"Please Select",modelValue:e.valueInternal.primaryReason,"onUpdate:modelValue":a[38]||(a[38]=o=>e.valueInternal.primaryReason=o)},null,8,["id","data-items","modelValue"])])])]),"item-3":d(({item:r})=>[i(P,{text:r,reverse:"",wide:"",modelValue:e.valueInternal.isPayForServices,"onUpdate:modelValue":a[39]||(a[39]=o=>e.valueInternal.isPayForServices=o)},null,8,["text","modelValue"])]),"item-5":d(({item:r})=>[i(P,{text:r,reverse:"",wide:"",modelValue:e.valueInternal.isActivitiesCoveredByPii,"onUpdate:modelValue":a[42]||(a[42]=o=>e.valueInternal.isActivitiesCoveredByPii=o)},null,8,["text","modelValue"])]),"item-6":d(({item:r})=>[e.valueInternal.isActivitiesCoveredByPii?(m(),p("div",Lt,[n("div",St,l(r),1),n("div",Ft,[i($,{id:e.setUniqueIdentifier("-arDetails.piiActivitiesCovered"),name:"piiCovered","data-items":e.reasonsOptions,"is-required":!1,modelValue:e.valueInternal.piiActivitiesCovered,"onUpdate:modelValue":a[43]||(a[43]=o=>e.valueInternal.piiActivitiesCovered=o),"value-primitive":"",placeholder:"Please Select"},null,8,["id","data-items","modelValue"])])])):F("",!0)]),_:2},[e.valueInternal.isPayForServices?{name:"item-4",fn:d(({item:r})=>[e.valueInternal.isPayForServices?(m(),p("div",Rt,[n("div",Vt,l(r),1),n("div",Pt,[i($,{id:e.setUniqueIdentifier("-arDetails.isPayForService"),name:"servicesPayFor","data-items":e.servicesARPayForOptions,modelValue:e.valueInternal.serviceToPayFor,"onUpdate:modelValue":a[40]||(a[40]=o=>e.valueInternal.serviceToPayFor=o),"is-required":e.valueInternal.isPayForServices,"value-primitive":"",placeholder:"Please Select",addable:!0},null,8,["id","data-items","modelValue","is-required"])])])):F("",!0)]),key:"0"}:void 0,e.valueInternal.isPayForServices?{name:"item-extend-4",fn:d(()=>[e.valueInternal.isPayForServices?(m(),te(z,{key:0,title:`Fees Charged by ${e.currentFirmName} to ${e.valueInternal.name}`},{default:d(()=>[i(q,{modelValue:e.valueInternal.fees,"onUpdate:modelValue":a[41]||(a[41]=r=>e.valueInternal.fees=r)},null,8,["modelValue"])]),_:1},8,["title"])):F("",!0)]),key:"1"}:void 0]),1032,["items","hidden-items"]))]),_:2},1032,["items","hidden-items","onExpanded","onCollapsed"])]),_:1},512)]),_:1},8,["onSubmit"]),i(j,{isLoading:e.isLoading},null,8,["isLoading"])]),_:2},[e.viewMode?void 0:{name:"footer",fn:d(()=>[n("div",wt,[i(B,{style:{"font-weight":"600"},type:"button","fill-mode":"outline","theme-color":"primary",onClick:ve(e.handleRequestToCompleteDetails,["prevent"]),disabled:!e.isEmailValid||!e.isValidPrimaryDetails},{default:d(()=>[J(" Save & Add Appointed Representative ")]),_:1},8,["onClick","disabled"]),i(B,{type:"button","theme-color":"primary",disabled:!e.areAllRequiredFieldsProvided,onClick:e.handleSubmit},{default:d(()=>[J(" Request Appointed Representative to Complete Details ")]),_:1},8,["disabled","onClick"])])]),key:"0"}]),1032,["title","class"])}const Mt=Le(ln,[["render",_t],["__scopeId","data-v-66be300b"]]);export{Mt as default};
