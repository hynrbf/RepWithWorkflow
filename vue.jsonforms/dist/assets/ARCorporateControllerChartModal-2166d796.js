import{_ as v}from"./ModalComponent.vue_vue_type_script_setup_true_lang-fe9b98ed.js";import{j as w,bH as b,_ as N,aA as O,o as n,q as _,w as r,P as t,n as u,x as s,m as g,r as f,J as k,K as R,y as S,L as $,a5 as z,a6 as D}from"./index-9d6d511f.js";import{s as V}from"./organizationchart.esm-8c183601.js";const M=w({name:"ARCorporateControllerChartModal",props:{registeredCustomer:{type:Object,default:new b}},data(){return{corporateControllers:this.registeredCustomer.corporateControllers,selection:{}}},components:{OrganizationChart:V},computed:{transformedData(){if(!(this.registeredCustomer.noOfCorporateShareholders>0))return{key:void 0};const e=this.corporateControllers[0],o=this.corporateControllers.slice(1);return{...this.mapCompanyToOrganizationChartNode(e),children:o.map(c=>this.mapCompanyToOrganizationChartNode(c))}}},methods:{mapCompanyToOrganizationChartNode(e){return{key:e.companyName,type:"firm",data:{name:e.companyName,companyNo:e.companyNumber,votingRights:e.percentageOfVotingRights,ownership:e.percentageOfCapital,directors:e.directors.map(o=>`${o.forename} ${o.surname}`)}}}}});const i=e=>(z("data-v-4836b096"),e=e(),D(),e),A={class:"d-flex flex-column",style:{"margin-top":"20px"}},B={class:"node-content"},I={class:"avatar-circle-frame"},K=["src"],L={class:"node-name"},T={class:"company-no-text"},j={class:"d-flex",style:{"justify-content":"start",margin:"10px 0 15px 0"}},E={class:"d-flex flex-column",style:{width:"100px",height:"24px","margin-right":"30px"}},F={class:"text-value"},q=i(()=>t("span",{class:"text-label"},"Voting Rights",-1)),H=i(()=>t("span",{style:{width:"0.5px",height:"40px",background:"var(--text-text-disabled)"}},null,-1)),J={class:"d-flex flex-column",style:{width:"100px",height:"24px","margin-left":"30px"}},U={class:"text-value"},G=i(()=>t("span",{class:"text-label"},"Ownership",-1)),Q={key:0,class:"directors-section"},W={class:"directors-section-title"};function X(e,o,c,Y,Z,P){const d=$,C=O("OrganizationChart"),x=v;return n(),_(x,{ref:"modalElement",width:"1031",height:"800",title:"Owners & Controllers Structure Chart",isShowDownloadPDF:!0},{default:r(()=>[t("div",A,[u(C,{selectionKeys:e.selection,"onUpdate:selectionKeys":o[0]||(o[0]=a=>e.selection=a),value:e.transformedData,collapsible:"",selectionMode:"multiple"},{firm:r(a=>{var l,p,m,h;return[t("div",B,[t("div",I,[t("img",{alt:"corporate-controller-chart-avatar",src:"/corporate-controller-chart-avatar.png",class:"node-avatar"},null,8,K)]),t("span",L,s((l=a.node)==null?void 0:l.data.name),1),t("span",T,s((p=a.node)==null?void 0:p.data.companyNo),1),t("div",j,[t("div",E,[t("span",F,s(a.node.data.votingRights)+"% ",1),q]),H,t("div",J,[t("span",U,s(a.node.data.ownership)+"% ",1),G])]),((m=a.node)==null?void 0:m.data.directors.length)>0?(n(),g("div",Q,[t("div",W,[u(d,null,{default:r(()=>[f("Directors")]),_:1})]),(n(!0),g(k,null,R((h=a.node)==null?void 0:h.data.directors,y=>(n(),_(d,{class:"directors-names"},{default:r(()=>[f(s(y),1)]),_:2},1024))),256))])):S("",!0)])]}),_:1},8,["selectionKeys","value"])])]),_:1},512)}const oe=N(M,[["render",X],["__scopeId","data-v-4836b096"]]);export{oe as default};
