var $=Object.defineProperty;var E=(e,a,t)=>a in e?$(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t;var s=(e,a,t)=>(E(e,typeof a!="symbol"?a+"":a,t),t);import{j as S,D as A,d4 as B,u as _,A as K,d5 as O,_ as M,o as i,q as r,w as l,n as h,a0 as f,r as u,x as d,m as V,y as c,bY as R,bO as n,P as v,N as P,cK as T,L as q,b2 as N,aE as W,E as U,bV as j,bW as z,B as H}from"./index-9d6d511f.js";const Y=S({name:"KendoDropdownListWithTypeComponent",props:{name:{type:String,default:""},id:String,label:{type:String,default:""},placeholder:{type:String,default:"Please select"},hint:{type:String,default:""},info:String,disabled:{type:Boolean,default:!1},isRequired:{type:Boolean,default:!0},dataItems:{type:Array,default:[]},valuePrimitive:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},disabledValues:{type:Array,default:[]},value:{type:Object,default:null},modelValue:{type:Object,default:null},addable:Boolean,bypassDefaultOnSelectEvent:Boolean,isValueReactive:{type:Boolean,default:!1},isDataLoadedCompletely:{type:Boolean,default:!1}},data(){return{formValidatorService:A.resolve(B.name),customInputValue:"",isFieldValidOnFirstLoad:!1,isUnmounted:!1,errorMessage:""}},computed:{computedPlaceholder(){return this.$t("common-placeholder-text-dropdown")?this.$t("common-placeholder-text-dropdown"):this.placeholder}},watch:{isDataLoadedCompletely(e,a){return e==a||(this.isFieldValidOnFirstLoad=this.validate(this.value)==""),e}},setup(){const e=_(),{addComponentValidationValue:a,removeValidationValueByFieldId:t}=e;return{addComponentValidationValue:a,removeValidationValueByFieldId:t}},created(){this.isValueReactive||(this.isFieldValidOnFirstLoad=this.validate(this.value)=="")},mounted(){var a;this.$watch(t=>t.disabled,()=>{this.kendoForm.errors[this.name]=this.validate(this.modelValue||this.value)});let e=document.querySelector("span.k-svg-icon.k-svg-i-caret-alt-down");e&&(((a=e.classList)==null?void 0:a.length)<1||(e.classList.remove("k-svg-icon"),e.classList.remove("k-svg-i-caret-alt-down"),e.classList.add("k-icon"),e.classList.add("k-i-chevron-down"),e.style.scale="1.25",e.style.color="var(--content-content-05)",this.isUnmounted=!1))},unmounted(){this.id&&(this.removeValidationValueByFieldId(this.id),this.isUnmounted=!0)},methods:{validate(e){if(this.errorMessage="",this.isUnmounted)return"";if(this.isValueReactive&&!this.isDataLoadedCompletely)return this.addIdKeyAndErrorValue(""),"";if(this.isFieldValidOnFirstLoad||this.disabled)return this.addIdKeyAndErrorValue(""),"";this.isValueReactive&&!e&&this.value&&(e=this.value),this.formValidatorService.setFieldName(this.label||this.name);const a=this.formValidatorService.validate(e,{[K.RequiredKey]:this.isRequired});return this.addIdKeyAndErrorValue(a),this.errorMessage=a,a},isValueDisabled(e){return this.disabledValues.some(a=>O(a,e))},onDropdownChanged(e){var a,t;this.isFieldValidOnFirstLoad=!1,(t=(a=this.kendoForm)==null?void 0:a.onChange)==null||t.call(a,this.name,e),this.$emit("update:modelValue",e.value),this.$emit("onValueChange",e.value)},onCustomInputEnter(){const e=this.$refs.dropdownList;e._skipFocusEvent=!0},onCustomInputLeave(){const e=this.$refs.dropdownList;e._skipFocusEvent=!1},onAdd(e){this.$emit("addCustom",e,(t=e)=>this.attachValue(t));const a=this.$refs.dropdownList;a.currentFocused=!1,a.currentOpened=!1},attachValue(e){var t;const a=(t=this.dataItems)==null?void 0:t.find(y=>y.value===e);a&&this.onDropdownChanged({value:this.valuePrimitive?e:a})},addIdKeyAndErrorValue(e){if(!this.id)return;const a=this.id;let t={};t[a]=e,this.addComponentValidationValue(a,t)}},inject:{kendoForm:{default:{}}}});const G={key:0,class:"fineprint ms-1"},J={style:{color:"#808191"}},Q=["onClick"];function X(e,a,t,y,Z,x){const g=P,b=T,C=q,k=N,I=W,L=U,F=j,w=z,D=H;return i(),r(D,{id:e.id,name:e.name,component:"template",validator:e.validate},{template:l(({props:m})=>[h(w,{class:f(m.class)},{default:l(()=>[e.label?(i(),r(C,{key:0,"editor-id":e.id,disabled:e.disabled,valid:!(m.touched&&e.errorMessage),class:"control-label"},{default:l(()=>[u(d(e.label)+" ",1),e.isRequired?c("",!0):(i(),V("span",G," (Optional) ")),e.info?(i(),r(b,{key:1,"anchor-element":"target",position:"top"},{default:l(()=>[h(g,{title:e.info,symbol:"information-circle-18",class:"ms-2 text-primary",size:"17"},null,8,["title"])]),_:1})):c("",!0)]),_:2},1032,["editor-id","disabled","valid"])):c("",!0),h(I,{style:{"margin-top":"6px",height:"38px"},ref:"dropdownList",valid:!(m.touched&&e.errorMessage),value:e.value,"data-items":e.dataItems,"value-render":"value","item-render":"item",loading:e.loading,footer:"footer",header:"header",disabled:e.disabled,onChange:e.onDropdownChanged},R({header:l(()=>[n(e.$slots,"header",{},void 0,!0)]),value:l(({props:o})=>[v("span",{class:f([o.class])},[o.value?e.$slots.valueDisplayTemplate?n(e.$slots,"valueDisplayTemplate",{key:1,value:o.value},void 0,!0):n(e.$slots,"display",{key:2,value:o.value},()=>{var p;return[u(d((p=o.value)==null?void 0:p.label),1)]},!0):n(e.$slots,"placeholder",{key:0,placeholder:e.computedPlaceholder},()=>[v("text",J,d(e.computedPlaceholder),1)],!0)],2)]),item:l(({props:o})=>[v("li",{class:f(["k-item",e.isValueDisabled(o.dataItem.value)&&"is-disabled",o.class,o.dataItem.class&&o.dataItem.class]),onClick:p=>{e.bypassDefaultOnSelectEvent||e.isValueDisabled(o.dataItem.value)||o.onClick(p)}},[n(e.$slots,"display",{value:o.dataItem,clickEvent:o.onClick},()=>[u(d(o.dataItem.label),1)],!0)],10,Q)]),_:2},[e.$slots.footer||e.addable?{name:"footer",fn:l(()=>[n(e.$slots,"footer",{},()=>[e.addable?(i(),V("div",{key:0,class:"p-3 p-2",onMouseenter:a[1]||(a[1]=(...o)=>e.onCustomInputEnter&&e.onCustomInputEnter(...o)),onMouseleave:a[2]||(a[2]=(...o)=>e.onCustomInputLeave&&e.onCustomInputLeave(...o))},[n(e.$slots,"footerTemplate",{onAdd:e.onAdd},()=>[h(k,{modelValue:e.customInputValue,"onUpdate:modelValue":a[0]||(a[0]=o=>e.customInputValue=o),placeholder:"Others",onAdd:e.onAdd},null,8,["modelValue","onAdd"])],!0)],32)):c("",!0)],!0)]),key:"0"}:void 0]),1032,["valid","value","data-items","loading","disabled","onChange"]),m.touched&&e.errorMessage?(i(),r(L,{key:1,style:{"margin-top":"8px"}},{default:l(()=>[u(d(e.errorMessage),1)]),_:1})):(i(),r(F,{key:2},{default:l(()=>[u(d(e.hint),1)]),_:1}))]),_:2},1032,["class"])]),_:3},8,["id","name","validator"])}const te=M(Y,[["render",X],["__scopeId","data-v-eb751ea5"]]);class oe{constructor(){s(this,"name");s(this,"state");s(this,"isModified",!1);s(this,"isFcaAuthorised",!1);s(this,"isPending",!1)}}class se{constructor(){s(this,"label");s(this,"value");s(this,"class");s(this,"raw")}}export{se as D,oe as R,te as _};
