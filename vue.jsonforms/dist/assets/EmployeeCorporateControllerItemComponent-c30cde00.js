import{j as we,bZ as Ie,aa as ue,az as me,cq as Ce,bH as Se,l as ce,D as Ve,I as ze,ap as Fe,cr as $e,aj as Be,ay as qe,A as T,am as Ue,a3 as $,bd as ke,as as j,cs as Pe,at as je,au as Ee,av as Ke,ct as Me,_ as He,aA as E,o as u,q as m,w as t,n as r,r as y,P as A,y as O,bY as K,K as M,cu as fe,L as Ye,N as Ge,S as Qe,cv as Je,cw as We,aJ as Ze,aK as Xe,cx as _e,aL as xe,aM as eo,aN as oo,aP as ro,T as to,U as no,aO as ao,Q as io,R as lo,cy as ge,cz as so,cA as po,cB as uo,b9 as mo}from"./index-9d6d511f.js";import{C as Co}from"./CorporateControllerCollapsibleItem-02d38413.js";const co=we({name:"EmployeeCorporateControllerItemComponent",components:{ScrollableTabComponent:Ie,EmployeeIndividualControllerItemComponent:ue(()=>me(()=>import("./EmployeeIndividualControllerItemComponent-08b44f94.js"),["assets/EmployeeIndividualControllerItemComponent-08b44f94.js","assets/index-9d6d511f.js","assets/index-982d5504.css","assets/KendoNationalityInputComponent-5a552edf.js","assets/KendoNationalityInputComponent-37e5dd00.css","assets/AddressInfo-03a085c8.js","assets/EmployeeIndividualControllerItemComponent-87c5498a.css"])),KendoFirmFinderComponentAsync:ue(()=>me(()=>import("./KendoFirmFinderComponent-9a5bf623.js"),["assets/KendoFirmFinderComponent-9a5bf623.js","assets/index-9d6d511f.js","assets/index-982d5504.css","assets/KendoFirmFinderComponent-d11737a3.css"]))},props:{individualItems:{type:Object,default:[]},corporateItem:{type:Object,default:{corporateController:new Ce,isCollapsed:!1,fullName:"",items:[]}},registeredCustomer:{type:Object,default:new Se},identifier:{type:String,default:""}},data(){return{eventBus:ce("$eventBusService"),helperService:Ve.resolve(ze.name),eventBusControlElement:ce("$eventBusService"),firmTypes:[],titles:[],nationalities:[],financialSolvencies:[],natureOfBusinesses:[],tabs:[{title:"Individual Controller(s)",content:"IndividualTemplate",titleRender:""},{title:"Corporate Controller(s)",content:"CorporateTemplate",titleRender:""},{title:"",content:"",titleRender:""}],selectedControllerTabIndex:0,selectedDirectorTabIndex:-1,currentIndividualControllerCollapsibleItems:[],hasIndividualControllers:void 0,selectedIndividualControllerTabIndex:0,selectedCorporateControllerTabIndex:0,currentCorporateControllerCollapsibleItems:[],hasCorporateController:void 0,inputType:this.$t("common-placeholder-text"),isInitializing:!0,isTradingAddressChangedAlertOpened:!1}},computed:{OnboardingType(){return Fe},CorporateControllerCollapsibleItem(){return Co},BusinessIncorporation(){return $e},FirmBasicInfo(){return Be},ContactNumber(){return qe},eighteenYearsAgo(){return this.helperService.getDateForGivenYearsAgo(18)},AppConstants(){return T},directorsTab:{get(){return this.corporateItem.corporateController.directors.map((e,o)=>{let a="<Director Name>";return e.forename&&(a=e.forename),e.surname&&(a+=` ${e.surname}`),{id:`director-${e.id}`,title:a,content:"",active:this.selectedDirectorTabIndex===o}})},set(e){for(const o in e)if(e[o].active){this.selectedDirectorTabIndex=+o;break}}},individualControllersTab:{get(){return this.currentIndividualControllerCollapsibleItems.map(({individualController:e},o)=>({id:`individual-controller-${e.id}`,title:e.getFullNameOrSetDefault(this.$t("individualControllerPage-newItemTitle")),content:"",active:this.selectedIndividualControllerTabIndex===o}))},set(e){for(const o in e)if(e[o].active){this.selectedIndividualControllerTabIndex=+o;break}}},corporateControllersTab:{get(){return this.currentCorporateControllerCollapsibleItems.map(({corporateController:e,fullName:o},a)=>({id:`corporate-controller-${e.id}`,title:o??(e==null?void 0:e.companyName),content:"",active:this.selectedCorporateControllerTabIndex===a}))},set(e){for(const o in e)if(e[o].active){this.selectedCorporateControllerTabIndex=+o;break}}}},setup(){const e=Ue(),{changeLifeCycleName:o}=e;return{changeLifeCycleName:o}},created(){var e;if(this.titles=$.getTitles(),this.nationalities=$.getNationalities(),this.firmTypes=$.getFirmTypes(),this.financialSolvencies=$.getFinancialSolvency(),this.natureOfBusinesses=$.getNatureOfBusinesses(),!((e=this.corporateItem)!=null&&e.corporateController))throw new Error("Corporate item should not be empty!");this.setUniqueIdForDirectorsIfAny(this.corporateItem.corporateController.directors),this.currentCorporateControllerCollapsibleItems=this.buildCorporateControllerCollapsibleItem(this.corporateItem.corporateController),this.currentIndividualControllerCollapsibleItems=this.buildIndividualControllerCollapsibleItem(this.corporateItem.corporateController),this.changeLifeCycleName(T.pageLifeCycleNameCreated)},mounted(){this.helperService.resizeExpander(),this.isInitializing=!1,this.changeLifeCycleName(T.pageLifeCycleNameMounted)},methods:{setUniqueIdForDirectorsIfAny(e){e!=null&&e.length&&(e.forEach(o=>{o.id||(o.id=ke())}),this.selectedDirectorTabIndex=0)},toggleHasIndividualController(e){this.hasIndividualControllers=e,this.hasIndividualControllers?this.addNewIndividualControllerItem():this.currentIndividualControllerCollapsibleItems=[]},addNewIndividualControllerItem(){const e=new Me,o=this.corporateItem.corporateController;e.directorsAndDirectorship={nationalities:[],dateOfBirth:0,fullName:e.getFullNameOrSetDefault(this.$t("individualControllerPage-newItemTitle")),items:[]},e.controllingInterests=[],o.individualControllers.push(e),this.currentIndividualControllerCollapsibleItems.push({fullName:e.getFullNameOrSetDefault(this.$t("individualControllerPage-newItemTitle")),individualController:e,isCollapsed:!1}),this.selectedIndividualControllerTabIndex=this.currentIndividualControllerCollapsibleItems.length-1,o.individualOwners=this.currentCorporateControllerCollapsibleItems.length},removeIndividualControllerItem(e){j({title:"Confirm",content:"Are you sure you wish to remove this Individual Controller?",confirmButtonText:"Confirm & Delete",confirmButtonThemeColor:"error",onConfirm:()=>{const o=this.corporateItem.corporateController;o.individualControllers.splice(e,1),this.currentIndividualControllerCollapsibleItems.splice(e,1),o.individualOwners=this.currentIndividualControllerCollapsibleItems.length,e<=this.selectedIndividualControllerTabIndex&&this.selectedIndividualControllerTabIndex>0&&(this.selectedIndividualControllerTabIndex-=1),o.individualOwners<1&&(this.hasIndividualControllers=!1)},onClose:()=>{}})},toggleHasCorporateController(e){this.hasCorporateController=e,this.hasCorporateController?this.addNewCorporateControllerItem():this.currentCorporateControllerCollapsibleItems=[]},addNewCorporateControllerItem(){const e=new Ce,o=this.corporateItem.corporateController;e.directors=[],e.corporateControllers=[],e.individualControllers=[];const a={corporateController:e,isCollapsed:!1,fullName:this.$t("corporateControllerPage-newItemTitle"),items:[]};o.corporateControllers.push(e),this.currentCorporateControllerCollapsibleItems.push(a),this.selectedCorporateControllerTabIndex=this.currentCorporateControllerCollapsibleItems.length-1,o.corporateOwners=this.currentCorporateControllerCollapsibleItems.length},removeCorporateControllerItem(e){j({title:"Confirm",content:"Are you sure you wish to remove this Corporate Controller?",confirmButtonText:"Confirm & Delete",confirmButtonThemeColor:"error",onConfirm:()=>{const o=this.corporateItem.corporateController;o.corporateControllers.splice(e,1),this.currentCorporateControllerCollapsibleItems.splice(e,1),o.corporateOwners=this.currentCorporateControllerCollapsibleItems.length,e<=this.selectedCorporateControllerTabIndex&&this.selectedCorporateControllerTabIndex>0&&(this.selectedCorporateControllerTabIndex-=1),o.corporateOwners<1&&(this.hasCorporateController=!1)},onClose:()=>{}})},onToggleTradingAddress(e){if(e.isTradingAddressSameAsRegisteredAddress=!e.isTradingAddressSameAsRegisteredAddress,e.isTradingAddressSameAsRegisteredAddress){e.tradingAddress=e.registeredAddress??"";return}else e.tradingAddress=""},onToggleHeadOfficeAddress(e){if(e.isHeadOfficeAddressSameAsTradingAddress=!e.isHeadOfficeAddressSameAsTradingAddress,e.isHeadOfficeAddressSameAsTradingAddress){e.headOfficeAddress=e.tradingAddress??"";return}else e.headOfficeAddress=""},onPercentageCapitalValueChange(e,o){o.percentageOfCapital=e,o.percentageOfVotingRights=e},onPercentageVotingRightsChange(e,o){o.percentageOfVotingRights=e},onAddDirector(){const e=this.corporateItem.corporateController;e.directors.push(new Pe),this.selectedDirectorTabIndex=e.directors.length-1},onRemoveDirector(e){this.corporateItem.corporateController.directors.splice(e,1),e<=this.selectedDirectorTabIndex&&(this.selectedDirectorTabIndex-=1)},onDateOfBirthChange(e,o){o.dateOfBirth=this.helperService.dateStringToEpoch(e.toDateString())},onContactNumberChange(e){this.corporateItem.corporateController.contactNumber=e},convertEpochValueToDate(e){return e?this.helperService.convertEpochToDateTime(e):new Date},onTabItemSelect(e){this.selectedControllerTabIndex=e.selected},buildCorporateControllerCollapsibleItem(e){let o=[];for(const a of e.corporateControllers)o.push({fullName:a.companyName??"",corporateController:a,isCollapsed:!1,items:[]});return e.corporateOwners&&(this.hasCorporateController=!0),e.corporateOwnersActual=e.corporateOwners,o},buildIndividualControllerCollapsibleItem(e){let o=[];for(const a of e.individualControllers)o.push({fullName:a.getFullNameOrSetDefault(this.$t("individualControllerPage-newItemTitle")),individualController:a,isCollapsed:!1});return e.individualOwners&&(this.hasIndividualControllers=!0),e.individualOwnersActual=e.individualOwners,o},mapCorporateControllerToFirmModel(e){var o,a;return{companyNumber:e.companyNumber,firmName:e.companyName,firmReferenceNumber:e.firmReferenceNumber,fcaStatus:((o=e==null?void 0:e.firm)==null?void 0:o.fcaStatus)??"",companyHouseStatus:((a=e==null?void 0:e.firm)==null?void 0:a.companyHouseStatus)??"",address:(e==null?void 0:e.registeredAddress)??"",tradingAddress:(e==null?void 0:e.tradingAddress)??"",headOfficeAddress:(e==null?void 0:e.headOfficeAddress)??"",contactNumber:"",website:"",sicCode:"",countryCode:""}},onCorporateControllerUpdate(e){var o;this.corporateItem.corporateController.companyName=e.firmName??"",this.corporateItem.corporateController.companyNumber=e.companyNumber??"",this.corporateItem.corporateController.firmReferenceNumber=e.firmReferenceNumber??"",this.corporateItem.corporateController.firm=e,this.corporateItem.corporateController.registeredAddress=e.address??"",this.corporateItem.corporateController.tradingAddress=e.tradingAddress??"",this.corporateItem.corporateController.isRegisteredAddressChanged=!1,this.corporateItem.corporateController.isTradingAddressChanged=!1,this.corporateItem.corporateController.contactNumber={country:"GB",countryCode:"",dialCode:"+44",number:(o=e.contactNumber)==null?void 0:o.replace("+44","")},this.corporateItem.corporateController.isTradingAddressSameAsRegisteredAddress&&(this.corporateItem.corporateController.tradingAddress=this.corporateItem.corporateController.registeredAddress)},mapCountryAndNatureOfBusinessToBusinessIncorporation(e){return{country:e.countryOfIncorporation??"",businessNature:e.natureOfBusiness??""}},onBusinessIncorporationChange(e,o){o.countryOfIncorporation=e.country,o.natureOfBusiness=e.businessNature},onCorporateControllerRegisteredAddressChange(e){const o=this.corporateItem.corporateController,a=this.corporateItem.corporateController.firm;if(!(a!=null&&a.address)){o.isRegisteredAddressChanged=!1;return}o.registeredAddress=e,o.isRegisteredAddressChanged=o.registeredAddress!==a.address,o.isTradingAddressSameAsRegisteredAddress&&(o.tradingAddress=o.registeredAddress)},onCorporateControllerTradingAddressDoneTyping(e,o){if(!o||this.isTradingAddressChangedAlertOpened)return;const a=this.corporateItem.corporateController,g=this.corporateItem.corporateController.firm;if(!(g!=null&&g.tradingAddress)){a.isTradingAddressChanged=!1;return}this.isTradingAddressChangedAlertOpened=!0,j({title:this.$t("common-alert-title"),content:"Are you sure you wish to update your Trading Address?",additionalContent:`Current Trading Address with the FCA is ${g.tradingAddress}.`,confirmButtonText:"Confirm & Save",type:je.ALERT,onConfirm:async()=>{Ee({type:Ke.SUCCESS,content:"Trading Address updated.",interval:T.notificationPopupTimeOut}),a.isTradingAddressChanged=a.tradingAddress!==g.tradingAddress,a.isHeadOfficeAddressSameAsTradingAddress&&(a.headOfficeAddress=a.tradingAddress),this.isTradingAddressChangedAlertOpened=!1,this.eventBusControlElement.emit(T.updateTradingAddressControlStateEvent,e)},onClose:()=>{a.tradingAddress=(g==null?void 0:g.tradingAddress)??"",a.isTradingAddressChanged||(a.isTradingAddressChanged=!1),this.isTradingAddressChangedAlertOpened=!1}})},onCorporateControllerTradingAddressChange(e){const o=this.corporateItem.corporateController;o.tradingAddress=e},uploadFormatForCv(e){const a=`${e.forename.split(" ")[0]}${e.surname}`;return`CorporateControllersCV-${this.registeredCustomer.companyNumber}-${this.corporateItem.corporateController.companyNumber}-${a}`},setUniqueIdentifier(e){return`${T.employeeOwnersAndControllersRoute}-CC${this.identifier}${e}`.replace(/\s+/g,"").replace("/","")}}});const fo={class:"anchor-selected section-item"},go={class:"anchor section-item"},Io={class:"anchor section-item"},ho={class:"anchor section-item"},yo={class:"d-flex justify-content-center"},bo={class:"d-flex justify-content-center"};function vo(e,o,a,g,To,Ao){const h=Ye,B=Ge,d=Qe,he=E("KendoFirmFinderComponentAsync"),ye=Je,H=We,be=Ze,Y=Xe,G=_e,ve=xe,Te=eo,q=oo,I=ro,D=to,b=no,Ae=ao,U=io,Oe=lo,De=ge,k=Ie,Q=so,J=ge,Ne=E("EmployeeIndividualControllerItemComponent"),W=po,Z=uo,Le=E("EmployeeCorporateControllerItemComponent",!0),Re=mo;return e.corporateItem?(u(),m(d,{key:0,class:"template-content-container",orientation:"vertical"},{default:t(()=>{var X,_,x,ee;return[r(d,{class:"with-vertical-gap",orientation:"vertical",align:{horizontal:"start",vertical:"middle"}},{default:t(()=>[r(h,{class:"section-title k-color-primary flex-grow-1"},{default:t(()=>[y("Corporate Controller")]),_:1}),r(d,{class:"with-horizontal-gap align-self-stretch",orientation:"horizontal"},{default:t(()=>[A("div",fo,[r(B,{symbol:"business-card",size:"24"}),r(h,null,{default:t(()=>[y("Details")]),_:1})]),A("div",go,[r(B,{symbol:"hand-held-tablet-writing-77",size:"24"}),r(h,null,{default:t(()=>[y("Additional Information")]),_:1})]),A("div",Io,[r(B,{symbol:"user-square-single-17",size:"24"}),r(h,null,{default:t(()=>[y("Directors")]),_:1})]),A("div",ho,[r(B,{symbol:"user-multiple-accounts-1",size:"24"}),r(h,null,{default:t(()=>[y("Controllers")]),_:1})])]),_:1})]),_:1}),r(q,{title:"Corporate Controller Details"},{default:t(()=>[r(d,{class:"with-vertical-gap",orientation:"vertical"},{default:t(()=>{var n,s,N,L,R,w,S,V,z,F;return[r(he,{id:e.setUniqueIdentifier("-corporateController.companyName"),companyNameLabel:"Company Name",IsInitializing:e.isInitializing,company:e.mapCorporateControllerToFirmModel(e.corporateItem.corporateController),companyName:(n=e.corporateItem.corporateController)==null?void 0:n.companyName,companyNumber:(s=e.corporateItem.corporateController)==null?void 0:s.companyNumber,firmReferenceNumber:(N=e.corporateItem.corporateController)==null?void 0:N.firmReferenceNumber,onOnCompanyDetailUpdated:o[0]||(o[0]=l=>{e.onCorporateControllerUpdate(l)}),onboardingType:e.OnboardingType.Employee.toString()},null,8,["id","IsInitializing","company","companyName","companyNumber","firmReferenceNumber","onboardingType"]),r(ye,{id:e.setUniqueIdentifier("-corporateController.businessNature"),isInitializing:e.isInitializing,value:e.mapCountryAndNatureOfBusinessToBusinessIncorporation(e.corporateItem.corporateController),onOnBusinessIncorporationChange:o[1]||(o[1]=l=>e.onBusinessIncorporationChange(l,e.corporateItem.corporateController))},null,8,["id","isInitializing","value"]),r(d,{class:"with-horizontal-gap",orientation:"horizontal",align:{horizontal:"stretch"}},{default:t(()=>{var l,C,c,f;return[r(H,{id:e.setUniqueIdentifier("-corporateControllerDetails.firmType"),name:"corporateControllerDetails.firmType",label:"Firm Type",onOnValueChange:o[2]||(o[2]=p=>e.corporateItem.corporateController.firmType=p),value:(C=(l=e.corporateItem)==null?void 0:l.corporateController)==null?void 0:C.firmType,placeholder:"Please select ...","data-items":e.firmTypes,isValueReactive:!0,isDataLoadedCompletely:!e.isInitializing},null,8,["id","value","data-items","isDataLoadedCompletely"]),r(H,{id:e.setUniqueIdentifier("-corporateControllerDetails.financialSolvency"),label:"Financial Solvency",placeholder:"Please Select",name:"corporateControllerDetails.financialSolvency",onOnValueChange:o[3]||(o[3]=p=>e.corporateItem.corporateController.financialSolvency=p),dataItems:e.financialSolvencies,value:(f=(c=e.corporateItem)==null?void 0:c.corporateController)==null?void 0:f.financialSolvency,isValueReactive:!0,isDataLoadedCompletely:!e.isInitializing},null,8,["id","dataItems","value","isDataLoadedCompletely"])]}),_:1}),r(be,{id:e.setUniqueIdentifier("-corporateControllerDetails.registeredAddress"),name:"'corporateControllerDetails.registeredAddress",label:"Registered Address",isUserModified:e.corporateItem.corporateController.isRegisteredAddressChanged,onOnValueChange:o[4]||(o[4]=l=>e.onCorporateControllerRegisteredAddressChange(l)),value:(R=(L=e.corporateItem)==null?void 0:L.corporateController)==null?void 0:R.registeredAddress,isValueReactive:!0,isDataLoadedCompletely:!e.isInitializing},null,8,["id","isUserModified","value","isDataLoadedCompletely"]),r(Y,{id:e.setUniqueIdentifier("-corporateControllerDetails.tradingAddress"),name:"corporateControllerDetails.tradingAddress",label:"Trading Address",isRequired:!0,sameAsLabel:e.$t("same-as-registered-address"),isChecked:((w=e.corporateItem.corporateController)==null?void 0:w.isTradingAddressSameAsRegisteredAddress)??!1,isUserModified:e.corporateItem.corporateController.isTradingAddressChanged,value:(S=e.corporateItem.corporateController)==null?void 0:S.tradingAddress,onOnToggle:o[5]||(o[5]=l=>e.onToggleTradingAddress(e.corporateItem.corporateController)),onOnValueChange:o[6]||(o[6]=l=>e.onCorporateControllerTradingAddressChange(l)),onOnLostFocus:e.onCorporateControllerTradingAddressDoneTyping,isValueReactive:!0,isDataLoadedCompletely:!e.isInitializing},null,8,["id","sameAsLabel","isChecked","isUserModified","value","onOnLostFocus","isDataLoadedCompletely"]),r(Y,{id:e.setUniqueIdentifier("-corporateControllerDetails.headOfficeAddress"),name:"corporateControllerDetails.headOfficeAddress",label:"Head Office Address",sameAsLabel:e.$t("same-as-trading-address"),isRequired:!1,isChecked:((V=e.corporateItem.corporateController)==null?void 0:V.isHeadOfficeAddressSameAsTradingAddress)??!1,value:(F=(z=e.corporateItem)==null?void 0:z.corporateController)==null?void 0:F.headOfficeAddress,onOnToggle:o[7]||(o[7]=l=>e.onToggleHeadOfficeAddress(e.corporateItem.corporateController)),onOnValueChange:o[8]||(o[8]=l=>e.corporateItem.corporateController.headOfficeAddress=l),isValueReactive:!0,isDataLoadedCompletely:!e.isInitializing},null,8,["id","sameAsLabel","isChecked","value","isDataLoadedCompletely"]),r(d,{class:"with-horizontal-gap",orientation:"horizontal",align:{horizontal:"stretch"}},{default:t(()=>{var l,C,c,f;return[r(G,{id:e.setUniqueIdentifier("-corporateControllerDetails.percentageOfCapital"),name:"corporateControllerDetails.percentageOfCapital",minLimit:10,maxLimit:"100",KendoNumericInputComponent:"",label:"Percentage of Capital (Ownership)",placeholder:"%",onOnValueChange:o[9]||(o[9]=p=>e.onPercentageCapitalValueChange(p,e.corporateItem.corporateController)),value:(C=(l=e.corporateItem)==null?void 0:l.corporateController)==null?void 0:C.percentageOfCapital,isValueReactive:!0,isDataLoadedCompletely:!e.isInitializing},null,8,["id","value","isDataLoadedCompletely"]),r(G,{id:e.setUniqueIdentifier("-corporateControllerDetails.percentageOfVotingRights"),name:"corporateControllerDetails.percentageOfVotingRights",minLimit:10,maxLimit:"100",label:"Percentage of Voting Rights",placeholder:"%",onOnValueChange:o[10]||(o[10]=p=>e.onPercentageVotingRightsChange(p,e.corporateItem.corporateController)),value:(f=(c=e.corporateItem)==null?void 0:c.corporateController)==null?void 0:f.percentageOfVotingRights,isValueReactive:!0,isDataLoadedCompletely:!e.isInitializing},null,8,["id","value","isDataLoadedCompletely"])]}),_:1}),r(d,{orientation:"horizontal",class:"with-horizontal-gap",align:{horizontal:"start"}},{default:t(()=>{var l,C,c,f;return[r(ve,{id:e.setUniqueIdentifier("-corporateControllerDetails.emailAddress"),name:"'corporateControllerDetails.emailAddress",class:"col",label:"Email Address",onOnValueChange:o[11]||(o[11]=p=>e.corporateItem.corporateController.emailAddress=p),value:(C=(l=e.corporateItem)==null?void 0:l.corporateController)==null?void 0:C.emailAddress,isValueReactive:!0,isDataLoadedCompletely:!e.isInitializing},null,8,["id","value","isDataLoadedCompletely"]),r(Te,{id:e.setUniqueIdentifier("-corporateControllerDetails.contactNumber"),name:"corporateControllerDetails.contactNumber",class:"col",label:"Contact Number",value:((f=(c=e.corporateItem)==null?void 0:c.corporateController)==null?void 0:f.contactNumber)??new e.ContactNumber,onOnValueChange:e.onContactNumberChange,isValueReactive:!0,isDataLoadedCompletely:!e.isInitializing},null,8,["id","value","onOnValueChange","isDataLoadedCompletely"])]}),_:1})]}),_:1})]),_:1}),r(q,{title:"Additional Information"},{default:t(()=>[r(d,{class:"with-vertical-gap",orientation:"vertical"},{default:t(()=>{var n,s,N,L,R,w,S,V,z,F,l,C,c,f,p,oe,re,te,ne,ae,ie,le,se,de,pe;return[r(I,{id:e.setUniqueIdentifier("-corporateControllerDetails.isSubjectToRegulationByAnotherRegulator"),name:"corporateControllerDetails.isSubjectToRegulationByAnotherRegulator",isRequired:!0,value:(s=(n=e.corporateItem)==null?void 0:n.corporateController)==null?void 0:s.isSubjectToRegulationByAnotherRegulator,onOnValueChange:o[12]||(o[12]=i=>e.corporateItem.corporateController.isSubjectToRegulationByAnotherRegulator=i),numberText:"1",questionText:`Is ${(N=e.corporateItem.corporateController)==null?void 0:N.companyName} subject to regulation by another regulator? `,isValueReactive:!0,isDataLoadedCompletely:!e.isInitializing},null,8,["id","value","questionText","isDataLoadedCompletely"]),r(I,{id:e.setUniqueIdentifier("-corporateControllerDetails.isThirdCountryFirm"),name:"corporateControllerDetails.isThirdCountryFirm",numberText:"2",isRequired:!0,value:(R=(L=e.corporateItem)==null?void 0:L.corporateController)==null?void 0:R.isThirdCountryFirm,onOnValueChange:o[13]||(o[13]=i=>e.corporateItem.corporateController.isThirdCountryFirm=i),questionText:`Is ${(w=e.corporateItem.corporateController)==null?void 0:w.companyName} a third country investment firm, a third country credit institution, a third country insurance undertaking or a third country management company? `,isValueReactive:!0,isDataLoadedCompletely:!e.isInitializing},null,8,["id","value","questionText","isDataLoadedCompletely"]),((V=(S=e.corporateItem)==null?void 0:S.corporateController)==null?void 0:V.isThirdCountryFirm)??!1?(u(),m(d,{key:0,orientation:"vertical",class:"with-vertical-gap",align:{horizontal:"stretch"}},{default:t(()=>{var i,v;return[r(D,{id:e.setUniqueIdentifier("-corporateControllerDetails.thirdCountryFirmInfo"),name:"corporateControllerDetails.thirdCountryFirmInfo",class:"flex-grow-1",label:"Additional Information","corner-radius":8,placeholder:e.inputType,onOnValueChange:o[14]||(o[14]=P=>e.corporateItem.corporateController.thirdCountryFirmInfo=P),value:(v=(i=e.corporateItem)==null?void 0:i.corporateController)==null?void 0:v.thirdCountryFirmInfo,isValueReactive:!0,isDataLoadedCompletely:!e.isInitializing},null,8,["id","placeholder","value","isDataLoadedCompletely"]),r(b,{label:"Supporting documents",optionalText:"(Optional) (Accepted file types: pdf, jpg, doc, Maximum 25 MB file size)",stretched:"",multiple:"",dropzone:"",buttonText:"Upload file",isRequired:!1,disabled:!e.registeredCustomer.companyNumber,"allowed-extensions":[".pdf","doc","docx"],uploadFor:`CorporateControllersThirdCountryFirm-${e.registeredCustomer.companyNumber}-${e.corporateItem.corporateController.companyNumber}`,onOnFinishedUpload:o[15]||(o[15]=P=>e.corporateItem.corporateController.supportingDocumentsUrls.push(P))},null,8,["disabled","allowed-extensions","uploadFor"])]}),_:1})):O("",!0),r(I,{id:e.setUniqueIdentifier("-corporateControllerDetails.isMemberOfFinancialConglomerate"),name:"corporateControllerDetails.isMemberOfFinancialConglomerate",numberText:"3",isRequired:!0,value:(F=(z=e.corporateItem)==null?void 0:z.corporateController)==null?void 0:F.isMemberOfFinancialConglomerate,onOnValueChange:o[16]||(o[16]=i=>e.corporateItem.corporateController.isMemberOfFinancialConglomerate=i),questionText:`Is ${(l=e.corporateItem.corporateController)==null?void 0:l.companyName} a member of a financial conglomerate? `,isValueReactive:!0,isDataLoadedCompletely:!e.isInitializing},null,8,["id","value","questionText","isDataLoadedCompletely"]),((c=(C=e.corporateItem)==null?void 0:C.corporateController)==null?void 0:c.isMemberOfFinancialConglomerate)??!1?(u(),m(d,{key:1,orientation:"vertical",class:"with-vertical-gap",align:{horizontal:"stretch"}},{default:t(()=>{var i;return[r(D,{id:e.setUniqueIdentifier("-corporateControllerDetails.memberOfFinancialConglomerateInfo"),name:"corporateControllerDetails.memberOfFinancialConglomerateInfo",class:"flex-grow-1",label:"Additional Information","corner-radius":8,placeholder:e.inputType,onOnValueChange:o[17]||(o[17]=v=>e.corporateItem.corporateController.memberOfFinancialConglomerateInfo=v),value:(i=e.corporateItem.corporateController)==null?void 0:i.memberOfFinancialConglomerateInfo,isValueReactive:!0,isDataLoadedCompletely:!e.isInitializing},null,8,["id","placeholder","value","isDataLoadedCompletely"]),r(b,{label:"Supporting documents",optionalText:"(Optional) (Accepted file types: pdf, jpg, doc, Maximum 25 MB file size)",stretched:"",multiple:"",dropzone:"",buttonText:"Upload file",isRequired:!1,disabled:!e.registeredCustomer.companyNumber,"allowed-extensions":[".pdf","doc","docx"],uploadFor:`CorporateControllersConglomerate-${e.registeredCustomer.companyNumber}-${e.corporateItem.corporateController.companyNumber}`,onOnFinishedUpload:o[18]||(o[18]=v=>e.corporateItem.corporateController.supportingDocumentsUrls.push(v))},null,8,["disabled","allowed-extensions","uploadFor"])]}),_:1})):O("",!0),r(I,{id:e.setUniqueIdentifier("-corporateControllerDetails.isMemberOfThirdCountryFinancialConglomerate"),name:"corporateControllerDetails.isMemberOfThirdCountryFinancialConglomerate",numberText:"4",isRequired:!0,value:(p=(f=e.corporateItem)==null?void 0:f.corporateController)==null?void 0:p.isMemberOfThirdCountryFinancialConglomerate,onOnValueChange:o[19]||(o[19]=i=>e.corporateItem.corporateController.isMemberOfThirdCountryFinancialConglomerate=i),questionText:`Is ${(oe=e.corporateItem.corporateController)==null?void 0:oe.companyName} a member of a third-country financial conglomerate? `,isValueReactive:!0,isDataLoadedCompletely:!e.isInitializing},null,8,["id","value","questionText","isDataLoadedCompletely"]),((te=(re=e.corporateItem)==null?void 0:re.corporateController)==null?void 0:te.isMemberOfThirdCountryFinancialConglomerate)??!1?(u(),m(d,{key:2,orientation:"vertical",class:"with-vertical-gap",align:{horizontal:"stretch"}},{default:t(()=>[r(D,{id:e.setUniqueIdentifier("-corporateControllerDetails.memberOfThirdCountryFinancialConglomerateInfo"),name:"corporateControllerDetails.memberOfThirdCountryFinancialConglomerateInfo",class:"flex-grow-1",label:"Additional Information","corner-radius":8,placeholder:e.inputType,onOnValueChange:o[20]||(o[20]=i=>e.corporateItem.corporateController.memberOfThirdCountryFinancialConglomerateInfo=i),value:e.corporateItem.corporateController.memberOfThirdCountryFinancialConglomerateInfo,isValueReactive:!0,isDataLoadedCompletely:!e.isInitializing},null,8,["id","placeholder","value","isDataLoadedCompletely"]),r(b,{label:"Supporting documents",optionalText:"(Optional) (Accepted file types: pdf, jpg, doc, Maximum 25 MB file size)",stretched:"",multiple:"",dropzone:"",buttonText:"Upload file",isRequired:!1,disabled:!e.registeredCustomer.companyNumber,"allowed-extensions":[".pdf","doc","docx"],uploadFor:`CorporateControllersThirdConglomerate-${e.registeredCustomer.companyNumber}-${e.corporateItem.corporateController.companyNumber}`,onOnFinishedUpload:o[21]||(o[21]=i=>e.corporateItem.corporateController.supportingDocumentsUrls.push(i))},null,8,["disabled","allowed-extensions","uploadFor"])]),_:1})):O("",!0),r(I,{id:e.setUniqueIdentifier("-corporateControllerDetails.isMemberOfThirdCountryBanking"),name:"corporateControllerDetails.isMemberOfThirdCountryBanking",numberText:"5",isRequired:!0,value:(ne=e.corporateItem.corporateController)==null?void 0:ne.isMemberOfThirdCountryBanking,onOnValueChange:o[22]||(o[22]=i=>e.corporateItem.corporateController.isMemberOfThirdCountryBanking=i),questionText:`Is ${(ae=e.corporateItem.corporateController)==null?void 0:ae.companyName} a member of a third-country banking and investment group? `,isValueReactive:!0,isDataLoadedCompletely:!e.isInitializing},null,8,["id","value","questionText","isDataLoadedCompletely"]),((ie=e.corporateItem.corporateController)==null?void 0:ie.isMemberOfThirdCountryBanking)??!1?(u(),m(d,{key:3,orientation:"vertical",class:"with-vertical-gap",align:{horizontal:"stretch"}},{default:t(()=>[r(D,{id:e.setUniqueIdentifier("-corporateControllerDetails.memberOfThirdCountryBankingInfo"),name:"corporateControllerDetails.memberOfThirdCountryBankingInfo",class:"flex-grow-1",label:"Additional Information","corner-radius":8,placeholder:e.inputType,onOnValueChange:o[23]||(o[23]=i=>e.corporateItem.corporateController.memberOfThirdCountryBankingInfo=i),value:e.corporateItem.corporateController.memberOfThirdCountryBankingInfo,isValueReactive:!0,isDataLoadedCompletely:!e.isInitializing},null,8,["id","placeholder","value","isDataLoadedCompletely"]),r(b,{label:"Supporting documents",optionalText:"(Optional) (Accepted file types: pdf, jpg, doc, Maximum 25 MB file size)",stretched:"",multiple:"",dropzone:"",buttonText:"Upload file",isRequired:!1,disabled:!e.registeredCustomer.companyNumber,"allowed-extensions":[".pdf","doc","docx"],uploadFor:`CorporateControllersThirdCountryBanking-${e.registeredCustomer.companyNumber}-${e.corporateItem.corporateController.companyNumber}`,onOnFinishedUpload:o[24]||(o[24]=i=>e.corporateItem.corporateController.supportingDocumentsUrls.push(i))},null,8,["disabled","allowed-extensions","uploadFor"])]),_:1})):O("",!0),r(I,{id:e.setUniqueIdentifier("-corporateControllerDetails.hasBeenSubjectToAnyMaterialComplaints"),name:"corporateControllerDetails.hasBeenSubjectToAnyMaterialComplaints",numberText:"6",isRequired:!0,value:(le=e.corporateItem.corporateController)==null?void 0:le.hasBeenSubjectToAnyMaterialComplaints,onOnValueChange:o[25]||(o[25]=i=>e.corporateItem.corporateController.hasBeenSubjectToAnyMaterialComplaints=i),questionText:`Has ${(se=e.corporateItem.corporateController)==null?void 0:se.companyName} or any persons with a position of influence or who effectively run the business of ${(de=e.corporateItem.corporateController)==null?void 0:de.companyName}, been subject to any material complaints made against them by their customers or former customers in the last 5 years, which are awaiting determination by, or have been upheld by, an ombudsman? `,isValueReactive:!0,isDataLoadedCompletely:!e.isInitializing},null,8,["id","value","questionText","isDataLoadedCompletely"]),(pe=e.corporateItem.corporateController)!=null&&pe.hasBeenSubjectToAnyMaterialComplaints?(u(),m(d,{key:4,orientation:"vertical",class:"with-vertical-gap",align:{horizontal:"stretch"}},{default:t(()=>[r(D,{id:e.setUniqueIdentifier("-corporateControllerDetails.beenSubjectToAnyMaterialComplaintsInfo"),name:"corporateControllerDetails.beenSubjectToAnyMaterialComplaintsInfo",class:"flex-grow-1",label:"Additional Information","corner-radius":8,placeholder:e.inputType,onOnValueChange:o[26]||(o[26]=i=>e.corporateItem.corporateController.beenSubjectToAnyMaterialComplaintsInfo=i),value:e.corporateItem.corporateController.beenSubjectToAnyMaterialComplaintsInfo,isValueReactive:!0,isDataLoadedCompletely:!e.isInitializing},null,8,["id","placeholder","value","isDataLoadedCompletely"]),r(b,{label:"Supporting documents",optionalText:"(Optional) (Accepted file types: pdf, jpg, doc, Maximum 25 MB file size)",stretched:"",multiple:"",dropzone:"",buttonText:"Upload file",isRequired:!1,disabled:!e.registeredCustomer.companyNumber,"allowed-extensions":[".pdf","doc","docx"],uploadFor:`CorporateControllersMaterialComplaints-${e.registeredCustomer.companyNumber}-${e.corporateItem.corporateController.companyNumber}`,onOnFinishedUpload:o[27]||(o[27]=i=>e.corporateItem.corporateController.supportingDocumentsUrls.push(i))},null,8,["disabled","allowed-extensions","uploadFor"])]),_:1})):O("",!0)]}),_:1})]),_:1}),r(q,{title:(X=e.corporateItem.corporateController)!=null&&X.companyName?`Directors of ${(_=e.corporateItem.corporateController)==null?void 0:_.companyName}`:"Directors of <Company Name>"},{default:t(()=>[r(d,{orientation:"vertical",class:"with-vertical-gap"},{default:t(()=>[r(k,{items:e.directorsTab,"onUpdate:items":o[28]||(o[28]=n=>e.directorsTab=n),addable:!0,onAdd:e.onAddDirector,removable:!0,onRemove:e.onRemoveDirector},K({_:2},[M(e.corporateItem.corporateController.directors,n=>({name:`content(director-${n.id})`,fn:t(()=>[r(De,{class:"col with-vertical-gap scrollable-tab-card-item"},{default:t(()=>[r(h,{class:"section-title k-color-primary flex-grow-1"},{default:t(()=>[y("Director Details")]),_:1}),r(d,{orientation:"horizontal",class:"with-horizontal-gap",align:{horizontal:"stretch"}},{default:t(()=>[r(Ae,{id:e.setUniqueIdentifier(`-director-${n.id}-director.title`),name:`director.title-${n.id}`,label:"Title",isRequired:!1,value:n.title,onOnValueChange:s=>n.title=s,isValueReactive:!0,isDataLoadedCompletely:!e.isInitializing},null,8,["id","name","value","onOnValueChange","isDataLoadedCompletely"]),r(U,{id:e.setUniqueIdentifier(`-director-${n.id}-director.forename`),name:`director.forename--${n.id}`,label:"Forename(s)",isCapitalizeFirstLetter:!0,placeholder:e.inputType,onOnValueChange:s=>n.forename=s,value:n.forename,isValueReactive:!0,isDataLoadedCompletely:!e.isInitializing},null,8,["id","name","placeholder","onOnValueChange","value","isDataLoadedCompletely"]),r(U,{id:e.setUniqueIdentifier(`-director-${n.id}-director.surname`),name:`director.surname-${n.id}`,label:"Surname",placeholder:e.inputType,isCapitalizeFirstLetter:!0,onOnValueChange:s=>n.surname=s,value:n.surname,isValueReactive:!0,isDataLoadedCompletely:!e.isInitializing},null,8,["id","name","placeholder","onOnValueChange","value","isDataLoadedCompletely"])]),_:2},1024),r(d,{class:"with-horizontal-gap",orientation:"horizontal",align:{horizontal:"stretch"}},{default:t(()=>[r(Oe,{id:e.setUniqueIdentifier(`-director-${n.id}-director.dateOfBirth`),name:`director.dateOfBirth-${n.id}`,maxDate:e.eighteenYearsAgo,label:"Date of Birth",onOnValueChange:s=>e.onDateOfBirthChange(s,n),value:e.convertEpochValueToDate(n.dateOfBirth),isValueReactive:!0,isDataLoadedCompletely:!e.isInitializing},null,8,["id","name","maxDate","onOnValueChange","value","isDataLoadedCompletely"]),r(U,{id:e.setUniqueIdentifier(`-director-${n.id}-director.position`),name:`director.position-${n.id}`,label:"Position",placeholder:"Type...",onOnValueChange:s=>n.position=s,value:n.position,isValueReactive:!0,isDataLoadedCompletely:!e.isInitializing},null,8,["id","name","onOnValueChange","value","isDataLoadedCompletely"])]),_:2},1024),r(d,{orientation:"vertical",style:{gap:"15px"}},{default:t(()=>[r(h,{class:"section-description section-description-upload-cv"},{default:t(()=>[y(" Please upload a copy of CV (Accepted file types: pdf, jpg, doc, Maximum 25 MB file size) ")]),_:1}),r(b,{stretched:"",multiple:"",dropzone:"",buttonText:"Upload CV",disabled:!e.registeredCustomer.companyNumber,"allowed-extensions":[".pdf","doc","docx"],uploadFor:e.uploadFormatForCv(n),onOnFinishedUpload:s=>n.cvUrlLink=s},null,8,["disabled","allowed-extensions","uploadFor","onOnFinishedUpload"])]),_:2},1024)]),_:2},1024)])}))]),1032,["items","onAdd","onRemove"])]),_:1})]),_:1},8,["title"]),r(q,{title:(x=e.corporateItem.corporateController)!=null&&x.companyName?`Controllers of ${(ee=e.corporateItem.corporateController)==null?void 0:ee.companyName}`:"Controllers of <Company Name>"},{default:t(()=>[r(Re,{class:"TabStripControllers TabStripControllers--lined",selected:e.selectedControllerTabIndex,onSelect:e.onTabItemSelect,tabs:e.tabs},{IndividualTemplate:t(()=>[r(d,{orientation:"vertical",gap:8},{default:t(()=>[r(J,{class:"mb-4"},{default:t(()=>[r(Q,null,{default:t(()=>[r(I,{id:e.setUniqueIdentifier("-individualControllersPage-hasIndividualControllerText"),questionText:e.$t("individualControllersPage-hasIndividualControllerText",{firmName:e.corporateItem.fullName}),value:e.hasIndividualControllers,onOnValueChange:e.toggleHasIndividualController,isValueReactive:!0,isDataLoadedCompletely:!e.isInitializing},null,8,["id","questionText","value","onOnValueChange","isDataLoadedCompletely"])]),_:1})]),_:1}),e.hasIndividualControllers?(u(),m(k,{key:0,items:e.individualControllersTab,"onUpdate:items":o[29]||(o[29]=n=>e.individualControllersTab=n),addable:!0,onAdd:e.addNewIndividualControllerItem,removable:!0,onRemove:e.removeIndividualControllerItem},K({_:2},[M(e.currentIndividualControllerCollapsibleItems,n=>({name:`content(individual-controller-${n.individualController.id})`,fn:t(({index:s})=>[(u(),m(fe,null,{fallback:t(()=>[A("div",yo,[r(W,{style:{color:"var(--color-primary)"},size:"medium",type:"infinite-spinner","theme-color":"info"})])]),default:t(()=>[r(Ne,{class:"flex-grow-1",individualItem:e.currentIndividualControllerCollapsibleItems[s],identifier:e.identifier+"["+n.individualController.id+"]"},null,8,["individualItem","identifier"])]),_:2},1024))])}))]),1032,["items","onAdd","onRemove"])):(u(),m(Z,{key:1,label:"No Individual Controllers"}))]),_:1})]),CorporateTemplate:t(()=>[r(d,{orientation:"vertical",gap:8},{default:t(()=>[r(J,{class:"mb-4"},{default:t(()=>[r(Q,null,{default:t(()=>[r(I,{id:e.setUniqueIdentifier("-corporateControllersPage-hasCorporateControllerText"),questionText:e.$t("corporateControllersPage-hasCorporateControllerText",{firmName:e.corporateItem.fullName}),value:e.hasCorporateController,onOnValueChange:e.toggleHasCorporateController,isValueReactive:!0,isDataLoadedCompletely:!e.isInitializing},null,8,["id","questionText","value","onOnValueChange","isDataLoadedCompletely"])]),_:1})]),_:1}),e.hasCorporateController?(u(),m(k,{key:0,items:e.corporateControllersTab,"onUpdate:items":o[30]||(o[30]=n=>e.corporateControllersTab=n),addable:!0,onAdd:e.addNewCorporateControllerItem,removable:!0,onRemove:e.removeCorporateControllerItem},K({_:2},[M(e.currentCorporateControllerCollapsibleItems,n=>({name:`content(corporate-controller-${n.corporateController.id})`,fn:t(({index:s})=>[(u(),m(fe,null,{fallback:t(()=>[A("div",bo,[r(W,{style:{color:"var(--color-primary)"},size:"medium",type:"infinite-spinner","theme-color":"info"})])]),default:t(()=>[r(Le,{class:"flex-grow-1",individualItems:e.currentIndividualControllerCollapsibleItems,corporateItem:e.currentCorporateControllerCollapsibleItems[s],identifier:`${e.identifier}[${n.corporateController.id}]`},null,8,["individualItems","corporateItem","identifier"])]),_:2},1024))])}))]),1032,["items","onAdd","onRemove"])):(u(),m(Z,{key:1,label:"No Corporate Controllers",icon:"bank"}))]),_:1})]),_:1},8,["selected","onSelect","tabs"])]),_:1},8,["title"])]}),_:1})):O("",!0)}const No=He(co,[["render",vo],["__scopeId","data-v-fcddb8d3"]]);export{No as default};
