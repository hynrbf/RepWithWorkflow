var le=Object.defineProperty;var re=(e,o,u)=>o in e?le(e,o,{enumerable:!0,configurable:!0,writable:!0,value:u}):e[o]=u;var K=(e,o,u)=>(re(e,typeof o!="symbol"?o+"":o,u),u);import{aV as U,b1 as F,j as I,C as R,Z as T,o as N,m as A,n as t,w as n,P as d,r as D,x as m,H as b,J as $,A as L,Q as k,b2 as se,W as E,q as Z,y as de,aa as ce,D as j,I as me,l as G,ag as ue,b3 as pe,am as fe,an as ve,ao as Ce,b4 as ge,b5 as he,b6 as x,b7 as Pe,as as H,at as De,au as W,av as Y,az as Se,aA as w,aC as be,aG as ye,aH as Ve,R as Le,b8 as _e,aO as Te,aL as Oe,aM as Ne,aR as Ue,b9 as Ae,ba as $e,aU as Ie,a5 as we,a6 as Fe,_ as Re}from"./index-9d6d511f.js";import{D as ke,_ as Ee}from"./SelectivePillComponent-512dc96a.js";import{_ as B}from"./ContentListBoxComponent.vue_vue_type_style_index_0_lang-738fb067.js";import{_ as Be}from"./ModalComponent.vue_vue_type_script_setup_true_lang-fe9b98ed.js";import qe from"./KendoFirmFinderComponent-9a5bf623.js";import{_ as Me}from"./NumberListComponent-fb44b311.js";const Ke=U(),{currentArCustomer:J}=F(Ke);class Q extends ke{constructor(){super(...arguments);K(this,"timingOfDataCollectionService",[{text:`Personal data may be collected at various points throughout your interaction with ${J.value}. Basic personal and contact details may be collected upon your initial contact with us or upon submission of an email or website contact form, whilst more detailed personal data, including documentation and financial details, may be collected during the process of our service provision. This will usually be when we are collating the personal data required, to submit or manage, an application on your behalf.`}]);K(this,"timingOfDataCollectionNonService",[{text:`Personal data may be collected at various points throughout your interaction with ${J.value}. Basic personal and contact details may be collected upon your initial contact with us or upon submission of an email or website contact form, whilst more detailed personal data, including documentation and financial details, may be collected during the process of our service provision. This will usually be when we are collating the personal data required, to submit or manage, an application on your behalf.`}])}}const ze={class:"alert alert-primary border-0"},je=d("span",{class:"text-decoration-underline"},"required",-1),Ge={class:"font-weight-semi-bold"},xe={class:"alert alert-primary border-0"},He=d("span",{class:"text-decoration-underline"},"not required",-1),We={class:"font-weight-semi-bold"},Ye=I({__name:"ARCategoriesOfPersonalData",props:{modelValue:{default:()=>({})}},emits:["update:modelValue"],setup(e,{emit:o}){const u=e,{modelValue:h}=R(u),c=T({get(){return h.value},set(l){o("update:modelValue",l)}}),S=U(),{currentArFirmName:C}=F(S),_=T(()=>[{id:"categoriesOfPersonalDataService",title:"Select the Applicable Categories",initialItems:[]},{id:"categoriesOfPersonalDataServiceConfirmed",title:"Confirmed Categories of Personal Data",initialItems:[],isFeatured:!0,noAdd:!0,emptyText:"Confirmed Categories",keepEditting:!0}]),O=T(()=>[{id:"categoriesOfPersonalDataNonService",title:"Select the Applicable Categories",initialItems:[]},{id:"categoriesOfPersonalDataNonServiceConfirmed",title:"Confirmed Categories of Personal Data",initialItems:[],isFeatured:!0,noAdd:!0,emptyText:"Confirmed Categories",keepEditting:!0}]),p=l=>`${L.arDataProtectionRoute}-categoriesOfPersonalData${l}`.replace(/\s+/g,"").replace("/","");return(l,f)=>{const v=k,y=Ee,V=se,a=B,r=E;return N(),A($,null,[t(r,{title:"Service Dependent Data Collection"},{description:n(()=>[d("div",ze,[D(m(l.$t("dataProtectionLicencePage-sectionRequiredDescription",{currentFirmName:b(C)}))+" ",1),je,D(" "+m(l.$t("dataProtectionLicencePage-sectionRequiredContinuationDescription",{currentFirmName:b(C)})),1)])]),default:n(()=>[t(a,{modelValue:c.value,"onUpdate:modelValue":f[0]||(f[0]=i=>c.value=i),blocks:_.value,"add-title":"Add New Category"},{"create-form":n(({getValue:i,setValue:P})=>[t(v,{class:"mb-2",id:p("-service-category-title-create"),placeholder:"Category Title","model-value":i("title",""),isValueReactive:!0,"onUpdate:modelValue":g=>P("title",g)},null,8,["id","model-value","onUpdate:modelValue"]),t(y,{"model-value":i("details",[]),"onUpdate:modelValue":g=>P("details",g)},null,8,["model-value","onUpdate:modelValue"]),t(V,{placeholder:"Category Details",onAdd:g=>P("details",[...i("details",[]),g])},null,8,["onAdd"])]),"item-edit-footer":n(({getValue:i,setValue:P})=>[t(v,{class:"mb-2",id:p("-service-category-title-edit"),placeholder:"Category Title","model-value":i("title",""),isValueReactive:!0,"onUpdate:modelValue":g=>P("title",g)},null,8,["id","model-value","onUpdate:modelValue"]),t(y,{"model-value":i("details",[]),"onUpdate:modelValue":g=>P("details",g)},null,8,["model-value","onUpdate:modelValue"]),t(V,{placeholder:"Category Details",onAdd:g=>P("details",[...i("details",[]),g])},null,8,["onAdd"])]),"item-content":n(({props:i})=>{var P;return[d("span",Ge,m(((P=i.dataItem)==null?void 0:P.title)||""),1)]}),"item-footer":n(({props:i})=>[d("span",null,m((i.dataItem.details||[]).join(", ").trim()),1)]),_:1},8,["modelValue","blocks"])]),_:1}),t(r,{title:"Non-Service Dependent Data Collection"},{description:n(()=>[d("div",xe,[D(m(l.$t("dataProtectionLicencePage-sectionRequiredDescription",{currentFirmName:b(C)}))+" ",1),He,D(" "+m(l.$t("dataProtectionLicencePage-sectionRequiredContinuationDescription",{currentFirmName:b(C)})),1)])]),default:n(()=>[t(a,{modelValue:c.value,"onUpdate:modelValue":f[1]||(f[1]=i=>c.value=i),blocks:O.value,"add-title":"Add New Category"},{"create-form":n(({getValue:i,setValue:P})=>[t(v,{class:"mb-2",id:p("-nonService-category-title-create"),placeholder:"Category Title","model-value":i("title",""),isValueReactive:!0,"onUpdate:modelValue":g=>P("title",g)},null,8,["id","model-value","onUpdate:modelValue"]),t(y,{"model-value":i("details",[]),"onUpdate:modelValue":g=>P("details",g)},null,8,["model-value","onUpdate:modelValue"]),t(V,{placeholder:"Category Details",onAdd:g=>P("details",[...i("details",[]),g])},null,8,["onAdd"])]),"item-edit-footer":n(({getValue:i,setValue:P})=>[t(v,{class:"mb-2",id:p("-nonService-category-title-edit"),placeholder:"Category Title","model-value":i("title",""),isValueReactive:!0,"onUpdate:modelValue":g=>P("title",g)},null,8,["id","model-value","onUpdate:modelValue"]),t(y,{"model-value":i("details",[]),"onUpdate:modelValue":g=>P("details",g)},null,8,["model-value","onUpdate:modelValue"]),t(V,{placeholder:"Category Details",onAdd:g=>P("details",[...i("details",[]),g])},null,8,["onAdd"])]),"item-content":n(({props:i})=>{var P;return[d("span",We,m(((P=i.dataItem)==null?void 0:P.title)||""),1)]}),"item-footer":n(({props:i})=>[d("span",null,m((i.dataItem.details||[]).join(", ").trim()),1)]),_:1},8,["modelValue","blocks"])]),_:1})],64)}}}),Je={class:"alert alert-primary border-0"},Qe=d("span",{class:"text-decoration-underline"},"required",-1),Ze={class:"alert alert-primary border-0"},Xe=d("span",{class:"text-decoration-underline"},"not required",-1),et=I({__name:"ARTimingOfDataCollection",props:{modelValue:{default:()=>({})}},emits:["update:modelValue"],setup(e,{emit:o}){const u=e,{modelValue:h}=R(u),c=T({get(){return h.value},set(l){o("update:modelValue",l)}}),S=U(),{currentArFirmName:C}=F(S),_=T(()=>[{id:"timingOfDataCollectionService",title:"Select Sample Text for Timing of Data Collection",initialItems:[]},{id:"timingOfDataCollectionServiceConfirmed",title:"Confirmed Text for Timing Data Collection",initialItems:[],isFeatured:!0,noAdd:!0,emptyText:"Confirmed Text",keepEditting:!0}]),O=T(()=>[{id:"timingOfDataCollectionNonService",title:"Select Sample Text for Timing of Data Collection",initialItems:[]},{id:"timingOfDataCollectionNonServiceConfirmed",title:"Confirmed Text for Timing Data Collection",initialItems:[],isFeatured:!0,noAdd:!0,emptyText:"Confirmed Text",keepEditting:!0}]),p=l=>`${L.arDataProtectionRoute}-timingOfDataCollection${l}`.replace(/\s+/g,"").replace("/","");return(l,f)=>{const v=k,y=B,V=E;return N(),A($,null,[t(V,{title:"Service Dependent Data Collection"},{description:n(()=>[d("div",Je,[D(m(l.$t("dataProtectionLicencePage-sectionTimingDescription",{currentFirmName:b(C)}))+" ",1),Qe,D(" "+m(l.$t("dataProtectionLicencePage-sectionForTheProvision",{currentFirmName:b(C)})),1)])]),default:n(()=>[t(y,{modelValue:c.value,"onUpdate:modelValue":f[0]||(f[0]=a=>c.value=a),blocks:_.value,"add-title":"Add New Text"},{"create-form":n(({getValue:a,setValue:r})=>[t(v,{placeholder:"Type",id:p("-service-timing-create"),"model-value":a("text",""),"onUpdate:modelValue":i=>r("text",i)},null,8,["id","model-value","onUpdate:modelValue"])]),"item-edit-footer":n(({getValue:a,setValue:r})=>[t(v,{placeholder:"Type",id:p("-service-timing-edit"),"model-value":a("text",""),"onUpdate:modelValue":i=>r("text",i)},null,8,["id","model-value","onUpdate:modelValue"])]),"item-content":n(({props:a})=>[D(m(a.dataItem.text||""),1)]),_:1},8,["modelValue","blocks"])]),_:1}),t(V,{title:"Non-Service Dependent Data Collection"},{description:n(()=>[d("div",Ze,[D(m(l.$t("dataProtectionLicencePage-sectionTimingDescription",{currentFirmName:b(C)}))+" ",1),Xe,D(" "+m(l.$t("dataProtectionLicencePage-sectionForTheProvision",{currentFirmName:b(C)})),1)])]),default:n(()=>[t(y,{modelValue:c.value,"onUpdate:modelValue":f[1]||(f[1]=a=>c.value=a),blocks:O.value,"add-title":"Add New Text"},{"create-form":n(({getValue:a,setValue:r})=>[t(v,{placeholder:"Type",id:p("-nonService-timing-create"),"model-value":a("text",""),"onUpdate:modelValue":i=>r("text",i)},null,8,["id","model-value","onUpdate:modelValue"])]),"item-edit-footer":n(({getValue:a,setValue:r})=>[t(v,{placeholder:"Type",id:p("-nonService-timing-edit"),"model-value":a("text",""),"onUpdate:modelValue":i=>r("text",i)},null,8,["id","model-value","onUpdate:modelValue"])]),"item-content":n(({props:a})=>[D(m(a.dataItem.text||""),1)]),_:1},8,["modelValue","blocks"])]),_:1})],64)}}}),tt={class:"alert alert-primary border-0"},ot=d("span",{class:"text-decoration-underline"},"required",-1),it={class:"font-weight-semi-bold"},at={class:"alert alert-primary border-0"},nt=d("span",{class:"text-decoration-underline"},"not required",-1),lt={class:"font-weight-semi-bold"},rt=I({__name:"ARMethodsOfDataCollection",props:{modelValue:{default:()=>({})}},emits:["update:modelValue"],setup(e,{emit:o}){const u=e,{modelValue:h}=R(u),c=T({get(){return h.value},set(l){o("update:modelValue",l)}}),S=U(),{currentArFirmName:C}=F(S),_=T(()=>[{id:"methodsOfDataCollectionService",title:"Select Sample Type for Methods of Data Collection",initialItems:[]},{id:"methodsOfDataCollectionServiceConfirmed",title:"Confirmed Method Types",initialItems:[],isFeatured:!0,noAdd:!0,emptyText:"Confirmed Method Types",keepEditting:!0}]),O=T(()=>[{id:"methodsOfDataCollectionNonService",title:"Select Sample Type for Methods of Data Collection",initialItems:[]},{id:"methodsOfDataCollectionNonServiceConfirmed",title:"Confirmed Method Types",initialItems:[],isFeatured:!0,noAdd:!0,emptyText:"Confirmed Method Types",keepEditting:!0}]),p=l=>`${L.arDataProtectionRoute}-methodsOfDataProtection${l}`.replace(/\s+/g,"").replace("/","");return(l,f)=>{const v=k,y=B,V=E;return N(),A($,null,[t(V,{title:"Service Dependent Data Collection"},{description:n(()=>[d("div",tt,[D(m(l.$t("dataProtectionLicencePage-sectionServiceDependentDescription",{currentFirmName:b(C)}))+" ",1),ot,D(" "+m(l.$t("dataProtectionLicencePage-sectionForTheProvision",{currentFirmName:b(C)})),1)])]),default:n(()=>[t(y,{modelValue:c.value,"onUpdate:modelValue":f[0]||(f[0]=a=>c.value=a),blocks:_.value,"add-title":"Add New Method Type"},{"create-form":n(({getValue:a,setValue:r})=>[t(v,{class:"mb-2",id:p("-service-method-title-create"),placeholder:"Method Type Title","model-value":a("title",""),"onUpdate:modelValue":i=>r("title",i)},null,8,["id","model-value","onUpdate:modelValue"]),t(v,{placeholder:"Method Type Details",id:p("service-method-details-create"),"model-value":a("text",""),"onUpdate:modelValue":i=>r("text",i)},null,8,["id","model-value","onUpdate:modelValue"])]),"item-edit-footer":n(({getValue:a,setValue:r})=>[t(v,{class:"mb-2",id:p("service-method-title-edit"),placeholder:"Method Type Title","model-value":a("title",""),"onUpdate:modelValue":i=>r("title",i)},null,8,["id","model-value","onUpdate:modelValue"]),t(v,{placeholder:"Method Type Details",id:p("service-method-details-edit"),"model-value":a("text",""),"onUpdate:modelValue":i=>r("text",i)},null,8,["id","model-value","onUpdate:modelValue"])]),"item-content":n(({props:a})=>{var r;return[d("span",it,m(((r=a.dataItem)==null?void 0:r.title)||""),1)]}),"item-footer":n(({props:a})=>[D(m(a.dataItem.text||""),1)]),_:1},8,["modelValue","blocks"])]),_:1}),t(V,{title:"Non-Service Dependent Data Collection"},{description:n(()=>[d("div",at,[D(m(l.$t("dataProtectionLicencePage-sectionServiceDependentDescription",{currentFirmName:b(C)}))+" ",1),nt,D(" "+m(l.$t("dataProtectionLicencePage-sectionForTheProvision",{currentFirmName:b(C)})),1)])]),default:n(()=>[t(y,{modelValue:c.value,"onUpdate:modelValue":f[1]||(f[1]=a=>c.value=a),blocks:O.value,"add-title":"Add New Method Type"},{"create-form":n(({getValue:a,setValue:r})=>[t(v,{class:"mb-2",id:p("nonService-method-title-create"),placeholder:"Method Type Title","model-value":a("title",""),"onUpdate:modelValue":i=>r("title",i)},null,8,["id","model-value","onUpdate:modelValue"]),t(v,{placeholder:"Method Type Details",id:p("nonService-method-details-create"),"model-value":a("text",""),"onUpdate:modelValue":i=>r("text",i)},null,8,["id","model-value","onUpdate:modelValue"])]),"item-edit-footer":n(({getValue:a,setValue:r})=>[t(v,{class:"mb-2",id:p("nonService-method-title-edit"),placeholder:"Method Type Title","model-value":a("title",""),"onUpdate:modelValue":i=>r("title",i)},null,8,["id","model-value","onUpdate:modelValue"]),t(v,{placeholder:"Method Type Details",id:p("nonService-method-details-edit"),"model-value":a("text",""),"onUpdate:modelValue":i=>r("text",i)},null,8,["id","model-value","onUpdate:modelValue"])]),"item-content":n(({props:a})=>{var r;return[d("span",lt,m(((r=a.dataItem)==null?void 0:r.title)||""),1)]}),"item-footer":n(({props:a})=>[D(m(a.dataItem.text||""),1)]),_:1},8,["modelValue","blocks"])]),_:1})],64)}}}),st={class:"alert alert-primary border-0"},dt=d("span",{class:"text-decoration-underline"},"required",-1),ct={class:"alert alert-primary border-0"},mt=d("span",{class:"text-decoration-underline"},"not required",-1),ut=I({__name:"ARPurposeOfDataCollection",props:{modelValue:{default:()=>({})}},emits:["update:modelValue"],setup(e,{emit:o}){const u=e,{modelValue:h}=R(u),c=T({get(){return h.value},set(l){o("update:modelValue",l)}}),S=U(),{currentArFirmName:C}=F(S),_=T(()=>[{id:"purposeOfDataCollectionService",title:"Select Sample Text for Purpose of Data Collection",initialItems:[]},{id:"purposeOfDataCollectionServiceConfirmed",title:"Confirmed Text for Timing Data Collection",initialItems:[],isFeatured:!0,noAdd:!0,emptyText:"Confirmed Text",keepEditting:!0}]),O=T(()=>[{id:"purposeOfDataCollectionNonService",title:"Select Sample Text for Purpose of Data Collection",initialItems:[]},{id:"purposeOfDataCollectionNonServiceConfirmed",title:"Confirmed Text for Purpose of Data Collection",initialItems:[],isFeatured:!0,noAdd:!0,emptyText:"Confirmed Text",keepEditting:!0}]),p=l=>`${L.arDataProtectionRoute}-purposeOfDataCollection${l}`.replace(/\s+/g,"").replace("/","");return(l,f)=>{const v=k,y=B,V=E;return N(),A($,null,[t(V,{title:"Service Dependent Data Collection"},{description:n(()=>[d("div",st,[D(m(l.$t("dataProtectionLicencePage-sectionPurposeDescription",{currentFirmName:b(C)}))+" ",1),dt,D(" "+m(l.$t("dataProtectionLicencePage-sectionForTheProvision",{currentFirmName:b(C)})),1)])]),default:n(()=>[t(y,{modelValue:c.value,"onUpdate:modelValue":f[0]||(f[0]=a=>c.value=a),blocks:_.value,"add-title":"Add New Text"},{"create-form":n(({getValue:a,setValue:r})=>[t(v,{placeholder:"Type",id:p("-service-purpose-create"),"model-value":a("text",""),"onUpdate:modelValue":i=>r("text",i)},null,8,["id","model-value","onUpdate:modelValue"])]),"item-edit-footer":n(({getValue:a,setValue:r})=>[t(v,{placeholder:"Type",id:p("-service-purpose-edit"),"model-value":a("text",""),"onUpdate:modelValue":i=>r("text",i)},null,8,["id","model-value","onUpdate:modelValue"])]),"item-content":n(({props:a})=>[D(m(a.dataItem.text||""),1)]),_:1},8,["modelValue","blocks"])]),_:1}),t(V,{title:"Non-Service Dependent Data Collection"},{description:n(()=>[d("div",ct,[D(m(l.$t("dataProtectionLicencePage-sectionPurposeDescription",{currentFirmName:b(C)}))+" ",1),mt,D(" "+m(l.$t("dataProtectionLicencePage-sectionForTheProvision",{currentFirmName:b(C)})),1)])]),default:n(()=>[t(y,{modelValue:c.value,"onUpdate:modelValue":f[1]||(f[1]=a=>c.value=a),blocks:O.value,"add-title":"Add New Text"},{"create-form":n(({getValue:a,setValue:r})=>[t(v,{placeholder:"Type",id:p("-nonService-purpose-create"),"model-value":a("text",""),"onUpdate:modelValue":i=>r("text",i)},null,8,["id","model-value","onUpdate:modelValue"])]),"item-edit-footer":n(({getValue:a,setValue:r})=>[t(v,{placeholder:"Type",id:p("-nonService-purpose-edit"),"model-value":a("text",""),"onUpdate:modelValue":i=>r("text",i)},null,8,["id","model-value","onUpdate:modelValue"])]),"item-content":n(({props:a})=>[D(m(a.dataItem.text||""),1)]),_:1},8,["modelValue","blocks"])]),_:1})],64)}}}),pt=["src"],ft=I({__name:"ARDataProtectionLicenseViewer",props:{documentUrl:{}},setup(e){const o=e,{documentUrl:u}=R(o);return(h,c)=>{const S=Be;return N(),Z(S,{width:"1200","fixed-height":""},{default:n(()=>[b(u)?(N(),A("iframe",{key:0,src:b(u),style:{width:"100%",height:"70vh",border:"none"}},`\r
      There was an error loading your document.\r
    `,8,pt)):de("",!0)]),_:1})}}}),vt=I({name:"DataProtectionLicence",components:{CategoriesOfPersonalData:Ye,TimingOfDataCollection:et,MethodsOfDataCollection:rt,PurposeOfDataCollection:ut,DataProtectionLicenseViewer:ft,KendoFirmFinderComponentAsync:ce(()=>Se(()=>import("./KendoFirmFinderComponent-9a5bf623.js"),["assets/KendoFirmFinderComponent-9a5bf623.js","assets/index-9d6d511f.js","assets/index-982d5504.css","assets/KendoFirmFinderComponent-d11737a3.css"]))},data(){return{AppConstants:L,isReady:!1,isLoading:!1,isInitializing:!0,isShowSavingText:!1,currentTab:0,tabs:[{title:this.$t("dataProtectionLicencePage-details"),content:"details"},{title:this.$t("dataProtectionLicencePage-categoriesOfPersonalData"),content:"categoriesOfPersonalData"},{title:this.$t("dataProtectionLicencePage-timingOfDataCollection"),content:"timingOfDataCollection"},{title:this.$t("dataProtectionLicencePage-methodsOfDataCollection"),content:"methodsOfDataCollection"},{title:this.$t("dataProtectionLicencePage-purposeOfDataCollection"),content:"purposeOfDataCollection"}],dataProtectionLicence:new Q,dataProtectionLicenceCache:{},isViewDocument:!1,helperService:j.resolve(me.name),eventBus:G("$eventBusService"),eventBusFormSaved:G("$eventBusService"),userSubmittedChangesService:j.resolve(ue.name),isSavingAlertOpened:!1,debounceTimerInMs:6e4,debouncedAutoSaveFunction:()=>{}}},computed:{...pe(U,["currentArCustomer","currentArFirmName"])},created(){this.changeLifeCycleName(L.pageLifeCycleNameCreated),this.debouncedAutoSaveFunction=this.debounceFunction(this.saveInfoAsync)},mounted(){this.setInitialValues(),this.isReady=!0,this.eventBus.emit(L.bottomBarEnableEvent,!0),this.eventBusFormSaved.on(L.formSavedEvent,e=>this.handleSubmit(e)),this.eventBus.on(L.formFieldPageLevelChangedEvent,()=>{this.userSubmittedChangesService.hasUserSubmittedChangesToRemoteApi=!1,this.setAutoSaveFunctionNotCompletedYet(),this.debouncedAutoSaveFunction()}),this.changeLifeCycleName(L.pageLifeCycleNameMounted),this.userSubmittedChangesService.hasUserSubmittedChangesToRemoteApi=!1,this.isInitializing=!1},unmounted(){this.isLoading=!1,this.eventBusFormSaved.off(L.formSavedEvent),this.eventBus.off(L.formFieldPageLevelChangedEvent)},setup(){const e=fe(),{changeLifeCycleName:o}=e,u=ve(),{processInvalidFields:h}=u,{debounceFunction:c,setAutoSaveFunctionNotCompletedYet:S}=Ce();return{changeLifeCycleName:o,processInvalidFields:h,debounceFunction:c,setAutoSaveFunctionNotCompletedYet:S}},methods:{...ge(U,["updateCustomerArByEmailAsync"]),selectTab(e){this.currentTab=e.selected},setUniqueIdentifier(e){const o=`${L.arDataProtectionRoute}${e}`;return this.helperService.removeStringSpacesThenSlash(o)},setInitialValues(){var h,c;if(!this.currentArCustomer)return;const{dataProtectionLicense:e,dataProtectionLicenseCache:o}=this.currentArCustomer;if(!e)return;const u=he(e);this.dataProtectionLicence={...this.dataProtectionLicence,...Object.fromEntries(Object.entries(u).map(([S,C])=>{const _={categoriesOfPersonalDataService:"categoriesOfPersonalDataServiceConfirmed",categoriesOfPersonalDataNonService:"categoriesOfPersonalDataNonServiceConfirmed",methodsOfDataCollectionService:"methodsOfDataCollectionServiceConfirmed",methodsOfDataCollectionNonService:"methodsOfDataCollectionNonServiceConfirmed",purposeOfDataCollectionService:"purposeOfDataCollectionServiceConfirmed",purposeOfDataCollectionNonService:"purposeOfDataCollectionNonServiceConfirmed",timingOfDataCollectionService:"timingOfDataCollectionServiceConfirmed",timingOfDataCollectionNonService:"timingOfDataCollectionNonServiceConfirmed"},O=new Q;return _[S]?[S,x(C)&&x(u[_[S]])?O[S]:C]:[S,C]}))},this.dataProtectionLicenceCache={...Pe.pick(this.dataProtectionLicence,["licenseNumber","endDate","renewalDate"]),...o||{}},(c=(h=this.$refs)==null?void 0:h.formElement)==null||c.setValues(this.dataProtectionLicence)},async handleSubmit(e){var o,u,h,c;this.isSavingAlertOpened||(e?H({title:"Confirm",content:"Data Protection License is incomplete. Are you sure you wish to proceed?",confirmButtonText:"Proceed",saveDetailsText:"Complete Now",type:De.SAVEDETAILS,width:390,onSaveDetails:()=>{this.isSavingAlertOpened=!1},onConfirm:async()=>{await this.saveInfoAsync(!0,e)},onCancel:()=>{this.isSavingAlertOpened=!1},onClose:()=>{this.isSavingAlertOpened=!1}}):H({title:this.$t("common-alert-title"),content:this.$t("common-alert-content"),confirmButtonText:this.$t("common-alert-buttonText"),onConfirm:async()=>{await this.saveInfoAsync(!0)},onCancel:()=>{this.isSavingAlertOpened=!1},onClose:()=>{this.isSavingAlertOpened=!1}}),this.isSavingAlertOpened=!0,(c=(h=(u=(o=this.$refs)==null?void 0:o.formElement)==null?void 0:u.$el)==null?void 0:h.requestSubmit)==null||c.call(h))},async saveInfoAsync(e=!1,o=!1){const{email:u}=this.currentArCustomer;if(u){this.processInvalidFields(L.dataProtectionRoute,this.eventBus),this.isLoading=e,this.isShowSavingText=e,this.userSubmittedChangesService.hasUserSubmittedChangesToRemoteApi=!0,this.isSavingAlertOpened=!1;try{await this.updateCustomerArByEmailAsync(u,{dataProtectionLicense:this.dataProtectionLicence});const h=4e3;e&&W({type:Y.SUCCESS,content:"Saved successfully.",interval:h}),this.isLoading=!1,this.isShowSavingText=!1,o&&setTimeout(()=>this.eventBus.emit(L.autoNextEvent),h)}catch{W({type:Y.ERROR,content:"Something went wrong.",interval:4e3})}this.isLoading=!1}},isFieldModified(e){return!(!this.dataProtectionLicenceCache[e]||this.dataProtectionLicenceCache[e]===this.dataProtectionLicence[e])}}}),q=e=>(we("data-v-083e3920"),e=e(),Fe(),e),Ct={class:"row mb-3"},gt={class:"row"},ht={class:"col-lg-4"},Pt={class:"col-lg-4"},Dt=q(()=>d("h4",{class:"text-primary font-size-lg mb-4"}," Categories of Personal Data ",-1)),St=q(()=>d("h4",{class:"text-primary font-size-lg mb-4"}," Timing of Data Collection ",-1)),bt=q(()=>d("h4",{class:"text-primary font-size-lg mb-4"}," Methods of Data Collection ",-1)),yt=q(()=>d("h4",{class:"text-primary font-size-lg mb-4"}," Purpose of Data Collection ",-1));function Vt(e,o,u,h,c,S){const C=be,_=ye,O=Ve,p=k,l=Le,f=E,v=_e,y=Me,V=Te,a=qe,r=Oe,i=Ne,P=Ue,g=w("CategoriesOfPersonalData"),X=w("TimingOfDataCollection"),ee=w("MethodsOfDataCollection"),te=w("PurposeOfDataCollection"),oe=Ae,ie=$e,ae=Ie,ne=w("DataProtectionLicenseViewer");return N(),A($,null,[t(C,{isLoading:e.isLoading,isShowSavingText:e.isShowSavingText},null,8,["isLoading","isShowSavingText"]),t(_),t(O,{title:e.$t("dataProtectionLicencePage-title"),description:e.$t("dataProtectionLicencePage-description",{firmName:e.currentArFirmName}),routeName:e.helperService.removeStringSpacesThenSlash(e.AppConstants.arDataProtectionRoute),hasContainer:!0},null,8,["title","description","routeName"]),t(ae,null,{default:n(()=>[t(ie,{ref:"formElement",novalidate:""},{default:n(({form:z})=>[t(oe,{class:"TabStrip TabStrip--lined",selected:e.currentTab,tabs:e.tabs,onSelect:e.selectTab},{details:n(()=>[t(f,{title:e.$t("ar-dataProtectionLicencePage-title")},{default:n(()=>[d("div",Ct,[t(p,{id:e.setUniqueIdentifier("-licenseNumber"),class:"col-lg-4",name:"licenseNumber",label:"Data Protection Licence Number",modelValue:e.dataProtectionLicence.licenseNumber,"onUpdate:modelValue":o[0]||(o[0]=s=>e.dataProtectionLicence.licenseNumber=s),isValueReactive:!0,isDataLoadedCompletely:!e.isInitializing,"input-class":e.isFieldModified("licenseNumber")?"is-border-warn":""},null,8,["id","modelValue","isDataLoadedCompletely","input-class"]),t(l,{id:e.setUniqueIdentifier("-endDate"),class:"col-lg-4",name:"endDate",label:"End Date",modelValue:e.dataProtectionLicence.endDate,"onUpdate:modelValue":o[1]||(o[1]=s=>e.dataProtectionLicence.endDate=s),"input-class":e.isFieldModified("endDate")?"is-border-warn":"",epoch:"",isValueReactive:!0,isDataLoadedCompletely:!e.isInitializing},null,8,["id","modelValue","input-class","isDataLoadedCompletely"]),t(l,{id:e.setUniqueIdentifier("-renewalDate"),class:"col-lg-4",name:"renewalDate",label:"Renewal Date",modelValue:e.dataProtectionLicence.renewalDate,"onUpdate:modelValue":o[2]||(o[2]=s=>e.dataProtectionLicence.renewalDate=s),"input-class":e.isFieldModified("renewalDate")?"is-border-warn":"",epoch:"",isValueReactive:!0,isDataLoadedCompletely:!e.isInitializing},null,8,["id","modelValue","input-class","isDataLoadedCompletely"])]),d("a",{href:"javascript:;",onClick:o[3]||(o[3]=s=>e.isViewDocument=!0)},[d("strong",null,m(e.$t("ar-dataProtectionLicencePage-viewProtectionLicence")),1)])]),_:1},8,["title"]),t(f,{title:e.$t("ar-dataProtectionLicencePage-formTitleDataProtection")},{default:n(()=>[t(y,{items:[`Does ${e.currentArFirmName} process Personal Data for any other purpose other than for providing its services to the Data Subject (e.g For Marketing)?`,`Does the ${e.currentArFirmName} use automated individual decision-making, which means making a decision solely by automated means without any human involvement and also do profiling, which means automated processing of personal data to evaluate certain aspects about an individual?`],"align-top":"",class:"OverviewList"},{"item-1":n(({item:s})=>[t(v,{reverse:"",wide:"",text:s,modelValue:e.dataProtectionLicence.isForAnyOtherPurpose,"onUpdate:modelValue":o[4]||(o[4]=M=>e.dataProtectionLicence.isForAnyOtherPurpose=M)},null,8,["text","modelValue"])]),"item-2":n(({item:s})=>[t(v,{reverse:"",wide:"",text:s,modelValue:e.dataProtectionLicence.isUsedAutomatedProcessing,"onUpdate:modelValue":o[5]||(o[5]=M=>e.dataProtectionLicence.isUsedAutomatedProcessing=M)},null,8,["text","modelValue"])]),_:1},8,["items"])]),_:1},8,["title"]),t(f,{title:e.$t("ar-dataProtectionLicencePage-formTitleDataProtectionOfficer")},{default:n(()=>[d("div",gt,[e.dataProtectionLicence.dataProtectionOfficer.isOrganisation?(N(),Z(a,{key:1,id:e.setUniqueIdentifier(e.AppConstants.firmDetailsRoute+"-firmName"),companyNameLabel:"Firm Name",companyName:e.dataProtectionLicence.dataProtectionOfficer.companyName,companyNumber:e.dataProtectionLicence.dataProtectionOfficer.companyNumber,firmReferenceNumber:e.dataProtectionLicence.dataProtectionOfficer.firmReferenceNumber,isDataLoadedCompletely:e.isInitializing,isEnableSearch:!1,onOnCompanyDetailUpdated:o[9]||(o[9]=s=>{e.dataProtectionLicence.dataProtectionOfficer.companyName=s.companyName,e.dataProtectionLicence.dataProtectionOfficer.companyNumber=s.companyNumber,e.dataProtectionLicence.dataProtectionOfficer.firmReferenceNumber=s.firmReferenceNumber})},null,8,["id","companyName","companyNumber","firmReferenceNumber","isDataLoadedCompletely"])):(N(),A($,{key:0},[d("div",ht,[t(V,{name:"dataProtectionOfficer.title",id:e.setUniqueIdentifier("-dataProtectionOfficer.title"),label:"Title",isRequired:!1,modelValue:e.dataProtectionLicence.dataProtectionOfficer.title,"onUpdate:modelValue":o[6]||(o[6]=s=>e.dataProtectionLicence.dataProtectionOfficer.title=s)},null,8,["id","modelValue"])]),t(p,{id:e.setUniqueIdentifier("-forename"),class:"col-lg-4",name:"forename",label:"Forename(s)",isValueReactive:!0,isDataLoadedCompletely:!e.isInitializing,modelValue:e.dataProtectionLicence.dataProtectionOfficer.forename,"onUpdate:modelValue":o[7]||(o[7]=s=>e.dataProtectionLicence.dataProtectionOfficer.forename=s)},null,8,["id","isDataLoadedCompletely","modelValue"]),t(p,{id:e.setUniqueIdentifier("-surname"),class:"col-lg-4",name:"surname",label:"Surname",isValueReactive:!0,isDataLoadedCompletely:!e.isInitializing,modelValue:e.dataProtectionLicence.dataProtectionOfficer.surname,"onUpdate:modelValue":o[8]||(o[8]=s=>e.dataProtectionLicence.dataProtectionOfficer.surname=s)},null,8,["id","isDataLoadedCompletely","modelValue"])],64)),t(r,{id:e.setUniqueIdentifier("-email"),isValueReactive:!0,isDataLoadedCompletely:!e.isInitializing,class:"col-lg-4",name:"email",label:"Email",modelValue:e.dataProtectionLicence.dataProtectionOfficer.email,"onUpdate:modelValue":o[10]||(o[10]=s=>e.dataProtectionLicence.dataProtectionOfficer.email=s)},null,8,["id","isDataLoadedCompletely","modelValue"]),t(i,{id:e.setUniqueIdentifier("-contactNumber"),isValueReactive:!0,isDataLoadedCompletely:!e.isInitializing,class:"col-lg-4",name:"contactNumber",label:"Contact Number",modelValue:e.dataProtectionLicence.dataProtectionOfficer.contactNumber,"onUpdate:modelValue":o[11]||(o[11]=s=>e.dataProtectionLicence.dataProtectionOfficer.contactNumber=s)},null,8,["id","isDataLoadedCompletely","modelValue"]),d("div",Pt,[t(P,{id:e.setUniqueIdentifier("-role"),name:"role",label:"Role",isValueReactive:!0,isDataLoadedCompletely:!e.isInitializing,modelValue:e.dataProtectionLicence.dataProtectionOfficer.role,"onUpdate:modelValue":o[12]||(o[12]=s=>e.dataProtectionLicence.dataProtectionOfficer.role=s)},null,8,["id","isDataLoadedCompletely","modelValue"])])])]),_:1},8,["title"])]),categoriesOfPersonalData:n(()=>[Dt,t(g,{modelValue:e.dataProtectionLicence,"onUpdate:modelValue":o[13]||(o[13]=s=>e.dataProtectionLicence=s)},null,8,["modelValue"])]),timingOfDataCollection:n(()=>[St,t(X,{modelValue:e.dataProtectionLicence,"onUpdate:modelValue":o[14]||(o[14]=s=>e.dataProtectionLicence=s)},null,8,["modelValue"])]),methodsOfDataCollection:n(()=>[bt,t(ee,{modelValue:e.dataProtectionLicence,"onUpdate:modelValue":o[15]||(o[15]=s=>e.dataProtectionLicence=s)},null,8,["modelValue"])]),purposeOfDataCollection:n(()=>[yt,t(te,{modelValue:e.dataProtectionLicence,"onUpdate:modelValue":o[16]||(o[16]=s=>e.dataProtectionLicence=s)},null,8,["modelValue"])]),_:1},8,["selected","tabs","onSelect"])]),_:1},512)]),_:1}),t(ne,{modelValue:e.isViewDocument,"onUpdate:modelValue":o[17]||(o[17]=z=>e.isViewDocument=z),"document-url":e.dataProtectionLicence.documentUrl},null,8,["modelValue","document-url"])],64)}const $t=Re(vt,[["render",Vt],["__scopeId","data-v-083e3920"]]);export{$t as default};
