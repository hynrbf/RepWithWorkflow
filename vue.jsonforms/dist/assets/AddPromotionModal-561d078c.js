import{_ as W}from"./ModalComponent.vue_vue_type_script_setup_true_lang-fe9b98ed.js";import{j as S,C as K,b1 as X,Z as P,o as y,q as L,w as d,n as o,H as T,a2 as N,G as _,P as t,r as w,x as Y,$ as ee,m as U,y as $,A as oe,L as te,b8 as ne,cM as ae,Q as le,U as se,a_ as ie,ba as de,aU as re,O as ue,a5 as ce,a6 as pe,a3 as me,b6 as _e,_ as ve}from"./index-9d6d511f.js";import{_ as ge}from"./OverlayLoader-e5a9021a.js";import{_ as fe,a as be}from"./KendoNumericInputComponent-fbc7c250.js";import{_ as ye}from"./KendoOfficerSelectComponent-a3474693.js";import{_ as he}from"./MediaLabelComponent-feae136c.js";import{u as Ce}from"./MarketingAndFinancialPromotions-3f8cb2b4.js";import"./StatusLabelComponent.vue_vue_type_script_setup_true_lang-90f1f182.js";import"./useFinancialPromotionStore-bdfe7e68.js";import"./GridCardTable-248623f7.js";import"./DateTimeComponent-2c5db54c.js";const Me=S({__name:"OutletDropdown",props:{id:{}},setup(r){const v=r,{id:h}=K(v),l=Ce(),{mediaMarketingOutlets:C}=X(l),p=P(()=>C.value.filter(i=>!i.archived).map(i=>({label:i.name,value:i.id}))),m=i=>l.getMediaMarketingOutlet(i);return(i,g)=>{const M=he,u=N;return y(),L(u,{name:"mediaOutlet",id:T(h),label:"Media Outlet","data-items":p.value,"value-primitive":""},{display:d(({value:c})=>{var f;return[o(M,{id:`${(f=m(c.value))==null?void 0:f.platform}`,text:c.label,iconSize:32},null,8,["id","text"])]}),_:1},8,["id","data-items"])}}}),A=r=>(ce("data-v-b0f51d7c"),r=r(),pe(),r),Oe={class:"row gy-1"},ke={class:"col-lg-6"},we={class:"col-lg-6"},Pe={class:"col-lg-6"},xe={class:"col-lg-6"},Ue={class:"col-lg-6"},$e={class:"col-lg-6"},Se={class:"col-lg-6"},Ke={class:"col-lg-6"},Le={class:"col-lg-6"},Te={class:"col-lg-12"},Ne={class:"ms-auto"},Ae=A(()=>t("b",null,"+ Upload Content",-1)),Ie=[Ae],De={key:0,class:"col-lg-12"},Fe=A(()=>t("p",{class:"font-size-sm mb-2"}," Upload Files (Accepted file types: jpg, png, mp4, mov, doc, pdf. Maximum 25 MB file size) ",-1)),Be={key:1,class:"col-lg-12"},Ee={class:"text-right"},Re=S({__name:"AddPromotionModal",props:{initialValues:{},outlets:{default:()=>[]},saving:{type:Boolean},promotionTypeOptions:{default:()=>[]}},emits:["submit"],setup(r,{emit:v}){const h=r,{initialValues:l}=K(h),C=_(),p=_(),m=_([]),i=e=>{m.value=[...m.value,{label:e,value:e}]},g=e=>["authorised-3rd-party","non-authorised-3rd-party"].includes(e),M=P(()=>me.getRemunerationMethods().map(e=>({label:e,value:e}))),u=_(!1),c=_(!1),f=()=>{p.value.reset(),u.value=!1},O=P(()=>!_e(l==null?void 0:l.value)),I=e=>{e.media=(e.media||[]).map(a=>({id:a.uid,name:a.name,extension:a.extension,size:a.size,url:a.uploadedUrl})),O?v("submit",{...(l==null?void 0:l.value)||{},...e}):v("submit",{...e})},s=e=>`${oe.arMarketingAndFinancialPromotionsRoute}-addPromotionalModal${e}`.replace(/\s+/g,"").replace("/","");return(e,a)=>{const D=te,F=ne,x=ye,k=N,B=ae,E=fe,R=le,V=se,z=be,q=ie,j=de,G=re,H=ge,Q=ue,Z=W;return y(),L(Z,{ref_key:"modalElement",ref:C,title:e.$t(O.value?"marketingFinancialPage-editPost":"marketingFinancialPage-newPost"),width:"960","auto-scroll-content":"",onClose:f},{footer:d(()=>[t("div",Ee,[o(Q,{type:"button","theme-color":"primary",disabled:!c.value||e.saving,onClick:a[2]||(a[2]=n=>p.value.submit())},{default:d(()=>[w(Y(O.value?"Save Changes":"Save & Add Post"),1)]),_:1},8,["disabled"])])]),default:d(()=>[o(H,{loading:e.saving},{default:d(()=>[o(G,{initialValues:T(l),onSubmit:I},{default:d(()=>[o(j,{ref_key:"formElement",ref:p},{default:d(({form:n,updateValue:J})=>[t("div",Oe,[t("div",ke,[o(Me,{id:s("outletDropdown-mediaOutlet"),value:n.values.mediaOutlet},null,8,["id","value"])]),t("div",we,[o(D,null,{default:d(()=>[w("Â ")]),_:1}),o(F,{text:"Is this post currently live?",reverse:"",wide:"","model-value":n.values.isLive,"onUpdate:modelValue":b=>J("isLive",b)},null,8,["model-value","onUpdate:modelValue"])]),t("div",Pe,[o(x,{name:"contentOwner",id:s("-contentOwner"),label:"Content Owner",value:n.values.owner},null,8,["id","value"])]),t("div",xe,[o(x,{name:"moderator",id:s("-moderator"),label:"Line Manager of Content Owner",value:n.values.moderator},null,8,["id","value"])]),t("div",Ue,[o(k,{name:"promotion-type",id:s("-promotion-type"),label:"Financial Promotion Type","data-items":e.promotionTypeOptions,value:n.values.type,"value-primitive":"",info:"Please specify whose products/services you will be promoting."},null,8,["id","data-items","value"])]),t("div",$e,[o(k,{name:"provider",id:s("-provider"),label:"Provider Name","data-items":m.value,value:n.values.provider,disabled:!g(n.values.type),"value-primitive":"",addable:!0,onAddCustom:i},null,8,["id","data-items","value","disabled"])]),t("div",Se,[o(B,{name:"productType",id:s("-productType"),label:"Product Type",pageName:"Marketing and Financial Promotions",disabled:!g(n.values.type),value:n.values.productType},null,8,["id","disabled","value"])]),t("div",Ke,[o(k,{name:"remunerationMethod",id:s("-remunerationMethod"),label:"Remuneration Method","data-items":M.value,value:n.values.remunerationMethod,disabled:!g(n.values.type),"value-primitive":""},null,8,["id","data-items","value","disabled"])]),t("div",Le,[o(E,{class:"NumberInput",name:"approvalDays",id:s("-approvalDays"),label:"Timeline Required for Approval",value:n.values.approvalDays,"default-value":7,"suffix-text":"days"},null,8,["id","value"])]),t("div",Te,[o(R,{name:"contentUrl",id:s("-contentUrl"),label:"Enter URL (If Applicable. Upload content if none)",type:"url","is-required":!1,value:n.values.contentUrl},{"after-label-text":d(()=>[t("div",Ne,[w(" No URL? "),t("a",{href:"#",onClick:a[0]||(a[0]=ee(b=>u.value=!0,["prevent"]))},Ie)])]),_:2},1032,["id","value"])]),u.value?(y(),U("div",De,[Fe,o(V,{name:"media",stretched:"",multiple:"",dropzone:"","allowed-extensions":[".jpg",".png",".mp4",".mov",".doc",".docx",".pdf"],disabled:!1},null,8,["allowed-extensions"])])):$("",!0),u.value?(y(),U("div",Be,[o(z,{label:"Content Description",id:s("-contentDescription"),"is-required":!1,name:"editorContent.content"},null,8,["id"])])):$("",!0)]),o(q,{class:"ConfirmCheck",modelValue:c.value,"onUpdate:modelValue":a[1]||(a[1]=b=>c.value=b),label:e.$t("marketingFinancialPage-iHerebyConfirm")},null,8,["modelValue","label"])]),_:1},512)]),_:1},8,["initialValues"])]),_:1},8,["loading"])]),_:1},8,["title"])}}});const Ye=ve(Re,[["__scopeId","data-v-b0f51d7c"]]);export{Ye as default};
